{"version":3,"sources":["base/assets/images/digid-works-logo.png","base/configurations/react-intl.js","base/configurations/local-forage.js","base/configurations/mobx.js","configurations/navigation.js","base/components/data-display/DefaultSpinner.js","base/components/data-display/DefaultLoadingPage.js","base/components/auth/PrivateRoute.js","base/localizations/index.js","base/localizations/bg-BG.js","base/localizations/de-DE.js","base/localizations/en-US.js","localizations/index.js","localizations/bg-BG.js","localizations/de-DE.js","localizations/en-US.js","base/components/layouts/DefaultBreadcrumbs.js","base/services/BaseService.js","base/utilities/index.js","base/services/CrudService.js","base/errors/ApplicationError.js","base/errors/defaultErrorHandler.js","base/components/layouts/FlexGrid.js","components/shared/crud/DefaultEdit.js","components/shared/crud/DefaultForm.js","base/utilities/forms.js","base/components/inputs/index.js","components/counterparties/FormFields.js","base/components/tutorials/PageTutorial.js","components/counterparties/EditPage.js","components/shared/crud/DefaultCreate.js","components/counterparties/CreatePage.js","base/components/layouts/DefaultFooter.js","base/components/menus/DefaultMenu.js","base/components/auth/DefaultLogoutButton.js","base/components/data-display/TutorialTip.js","components/shared/MenusLayout.js","components/shared/crud/DefaultList.js","components/shared/crud/DefaultTable.js","components/counterparties/ListPage.js","base/configurations/formats.js","base/components/data-display/RelationField.js","base/components/data-display/TableArrowExpandIcon.js","components/invoice-lines/EmbeddedListPage.js","components/invoices/ListPage.js","base/services/LocalStorageCrudService.js","services/CounterpartyService.js","components/invoices/FormFields.js","components/invoices/CreatePage.js","components/invoices/EditPage.js","base/components/data-display/DefaultEmpty.js","components/Dashboard.js","components/invoice-lines/FormFields.js","components/invoice-lines/EditPage.js","components/invoice-lines/CreatePage.js","components/invoice-lines/ListPage.js","components/invoices/InvoicePreviewPage.js","components/company-details/FormFields.js","components/company-details/EditPage.js","base/components/auth/Logout.js","base/components/auth/DefaultLoginPage.js","configurations/demo-data.js","components/auth/LoginPage.js","configurations/roles.js","components/users/FormFields.js","components/users/EditPage.js","components/users/CreatePage.js","components/users/ListPage.js","components/equipment-repairs/FormFields.js","components/equipment-repairs/EditPage.js","components/equipment-repairs/CreatePage.js","components/equipment-repairs/ListPage.js","base/components/data-display/LoadingPageNoMessage.js","components/Application.js","base/errors/HTTPError.js","base/services/DefaultApplicationService.js","base/services/DefaultLocalStorageService.js","base/services/DefaultUiService.js","base/services/DefaultApplicationContext.js","services/InvoiceService.js","services/InvoiceLineService.js","services/CompanyService.js","base/services/LocalStorageApplicationService.js","services/UserService.js","services/EquipmentRepairService.js","index.js","services/ApplicationContext.js"],"names":["module","exports","Intl","PluralRules","require","RelativeTimeFormat","appName","snakeCase","process","localforage","config","name","storeName","mobx","enforceActions","login","logout","dashboard","id","icon","href","titleId","auth","invoices","counterparties","invoiceLines","companyDetails","users","equipmentRepairs","navigation","items","defaultUrl","buildOneLevelNestedRelationNavConfig","navConfig","parentId","replace","DefaultSpinner","props","spinning","tip","DefaultLoadingPage","className","size","PrivateRoute","inject","withRouter","observer","this","Cmp","component","appContext","context","render","loginUrl","AuthenticatedLayout","authenticatedLayout","rest","appService","isLoading","isAuthenticated","contents","to","pathname","state","from","location","Component","defaultProps","intlFormats","number","decimal","style","minimumFractionDigits","maximumFractionDigits","BGN","currency","EUR","USD","CAD","GBP","intl","antdLocales","bgBG","deDE","enUS","formattingFunctions","p","msg","strong","t","appTranslations","merge","availableLocales","availableCurrencies","defaultLocale","defaultCurrency","DefaultBreadcrumbs","crumbs","last","pop","map","crumb","Item","key","title","BaseService","init","setContext","count","length","i","beingLoaded","indexOf","namespace","observable","action","loading","console","log","push","loaded","deleteMe","splice","computed","isNumeric","n","isNaN","parseFloat","isFinite","paddedNumberFormatter","chars","padStart","intToCurrencyFormatter","Decimal","div","toFixed","intToCurrencyParser","rawNumber","locale","decimalPlaces","stringNumber","thousandSeparator","NumberFormat","format","decimalSeparator","result","RegExp","first","split","filter","el","shift","join","parseLocaleNumber","charAt","dNumber","mul","Math","pow","toNumber","CrudService","resourceUrl","primaryKeyField","existsById","a","url","fetchProtectedResource","response","JSON","text","parse","fetchItem","json","item","setItem","fetchItemList","appendSortAndOrderToUrl","sorter","field","order","appendFiltersToUrl","filters","appendSearchToUrl","search","appendPaginationToUrl","pagination","pagedResults","setPagination","total","totalElements","setItemList","content","fetchItemMap","ids","appendIdsToUrl","results","setItemMap","save","method","body","toJS","delete","filterQueryString","Object","entries","forEach","type","values","isArray","fields","value","currentPage","current","pageSize","resetNamespaceData","createNamespace","setSorter","setFilters","setSearch","newItem","oldItem","isEmpty","removeFromItemPool","addToItemPool","newItems","itemList","itemMap","primaryKey","usageCnt","allLoadedItemsCollectionsCount","Set","allLoadedItems","add","ApplicationError","intlId","Error","defaultErrorHandler","error","formatMessage","e","message","FlexContainer","fluid","classNames","FlexRow","gutters","FlexCol","xs","sm","md","lg","xl","xxl","xxxl","xxxxl","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","offsetXxl","offsetXxxl","offsetXxxxl","DefaultEditPage","injectIntl","mounted","itemId","crudService","setState","record","isLoadingNamespace","titleParams","margin","bordered","children","InnerForm","handleReset","resetForm","handleBackButtonClick","backButtonUrl","history","match","onClick","Text","htmlType","color","marginLeft","DefaultForm","handleSubmit","setSubmitting","prefilledFormValues","redirectAfterSubmit","success","initialValues","validationSchema","enableReinitialize","onSubmit","form","rules","emailRequired","Yup","typeError","email","required","FormItem","label","formControl","addonBefore","addonAfter","meta","errors","touched","showErrors","submitCount","htmlFor","Group","compact","FormItemInput","FormItemInputNumber","onChange","setFieldValue","FormItemDatePicker","datePickerRef","React","createRef","onBlur","ref","evt","picker","open","target","toISOString","blur","moment","undefined","FormItemSelect","setFieldTouched","FormItemSwitch","checked","FormItemClear","clearedValue","defaultChecked","initialValue","counterpartyValidation","shape","company","address","accountablePersonTitle","accountablePerson","CounterpartyFormFields","PageTutorial","handleOkClicked","uiService","setModal","visible","handleOptOutClicked","updateUserProfile","optedOutTutorials","uniq","concat","userProfile","userOptedOut","modals","onOk","onCancel","footer","CounterpartyEditPage","parseInt","params","counterpartyId","counterpartyService","fromEu","uic","vatNumber","DefaultCreatePage","CounterpartyCreatePage","DefaultFooter","Footer","textAlign","rel","Date","getFullYear","DefaultMenu","renderMenuItems","menuItems","menuItemProps","service","renderMenuItemLabel","SubMenu","menuTheme","menuMode","menuProps","path","sidebarMenuItems","menuSelectedKeys","theme","mode","selectedKeys","DefaultLogoutButton","logoutUrl","iconProps","TutorialTip","setTooltipRef","node","tooltipRef","handleDocumentClick","event","getPopupDomNode","contains","handleVisibleChange","document","addEventListener","removeEventListener","onVisibleChange","MenusLayout","handleSideMenuTriggerClick","collapsed","handleCurrencySelect","changeSetting","handleLocaleSelect","minHeight","Sider","collapsedWidth","trigger","collapsible","display","fontSize","fontFamily","lineHeight","paddingRight","maxWidth","src","digidWorksLogo","alt","marginTop","Header","alignSelf","placement","defaultValue","settings","dropdownMatchSelectWidth","Option","Content","padding","DefaultListPage","DefaultTable","handleTableChange","reloadItems","handleSearchChange","args","currentTarget","searchFields","debouncedReloadItems","handleDeleteConfirmClick","debounce","additionalActions","tableProps","sortData","actionsColumn","align","ActionCmp","tagName","okText","cancelText","onConfirm","columns","col","dataIndex","sortOrder","Search","placeholder","onSearch","overflowX","rowKey","dataSource","position","CounterpartyListPage","defaultDateFormat","year","month","day","RelationField","displayProp","itemKey","TableArrowExpandIcon","expanded","InvoiceLineEmbeddedListPage","invoiceId","invoiceLineService","changeFilter","InvoiceListPage","counterpartyAutorunnerDisposer","disposer","autorun","reaction","invoiceService","counterpartyIds","invoice","counterparty_id","Array","locationState","defaultExpandedRowKeys","expandRowByClick","expandIcon","expandedRowRender","LocalStorageCrudService","resourcePath","trim","localStorageService","load","keys","startsWith","allItems","sortField","iterate","itemValue","passedFilters","passedSearch","searchVal","fieldName","fieldVal","isNil","isMoment","isString","toString","toLowerCase","sort","second","totalCount","Promise","all","itemsArr","loadingKey","assign","CounterpartyService","invoiceValidation","date","InvoiceFormFields","handleCounterpartySelectSearch","reloadCounterparties","showSearch","defaultActiveFirstOption","filterOption","counterparty","InvoiceCreatePage","InvoiceEditPage","totalPaymentAdditional","DefaultEmpty","image","PRESENTED_IMAGE_SIMPLE","DashboardPage","formatLabel","formatCurrency","val","absVal","abs","formatNumber","formatDate","dateString","toDate","equipmentRepairService","monthlyEquipmentSpendItems","yearDiffEquipmentSpend","prev3MonthsDiffEquipmentSpend","currentDate","currentYear","currentMonth","firstDayOfMonthDate","currentQuarterLabel","prevQuarterLabel","currentYearSpend","lastYearSpend","currentQuarterSpend","lastQuarterSpend","takeRight","slice","diff","reduce","accumulator","currentValue","currentMonthData","cost","repair","currentRepairDate","monthDiff","data","stroke","strokeDasharray","tick","fill","dataKey","tickFormatter","cursor","contentStyle","backgroundColor","border","WebkitBackdropFilter","backdropFilter","itemStyle","formatter","previous","valueStyle","prefix","suffix","invoiceLineValidation","description","measure","quantity","unitPrice","InvoiceLineFormFields","parser","InvoiceLineEditPage","invoiceLineId","invoice_id","InvoiceLineCreatePage","InvoiceLineListPage","invoiceStylesheets","InvoicePreviewPage","handlePrintClick","printJS","printable","scanStyles","documentTitle","css","querySelectorAll","innerHTML","handleTypeChange","companyService","loadCompany","loadInvoice","invoiceTotal","floor","acc","line","invoiceTotalEn","writtenNumber","lang","invoiceVatAccrued","vatPercentage","stylesheet","index","block","buttonStyle","Button","logo","city","scope","bankName","bankBic","bankIban","marginBottom","companyDetailsValidation","CompanyDetailsEditFormFields","min","max","CompanyDetailsEditPage","LogoutPage","redirectUrl","DefaultLoginPage","username","password","isUnauthorized","role","companies","equipmentRepairsDates","m","subtract","random","LoginPage","generateDemoData","services","userService","rolesList","ROLE_ADMIN","ROLE_SUPER_USER","ROLE_USER","userValidation","UserFormFields","UserEditPage","userId","user","UserCreatePage","UserListPage","equipmentRepairValidation","EquipmentRepairFormFields","EquipmentRepairEditPage","equipmentRepairId","EquipmentRepairCreatePage","EquipmentRepairListPage","LoadingPageNoMessage","ObservingIntlApplication","exact","Redirect","ObservingApplication","setSidebarMenuItems","messages","formats","Application","errorInfo","HTTPError","statusText","status","DefaultApplicationService","apiBaseUrl","appClientId","oAuthTokenUrl","whoAmIUrl","updateUserProfileUrl","savedSettings","setSettings","savedOAuthData","setOAuthData","whoAmI","setSetting","isPlainObject","k","URLSearchParams","set","fetchResource","oAuthData","access_token","setUserProfile","fetchExternalResource","opts","headers","stringify","fetch","ok","hasToken","hasUserProfile","v","DefaultLocalStorageService","sessionKey","getItem","sessionData","update","removeItem","iteratorCallback","DefaultUiService","modalName","modal","DefaultApplicationContext","s","camelCase","constructor","applicationServiceName","localStorageServiceName","uiServiceName","InvoiceService","InvoiceLineService","CompanyService","LocalStorageApplicationService","profile","newUserProfile","UserService","EquipmentRepairService","applicationContext","getElementById"],"mappings":"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","file":"static/js/main.0af99f43.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","if (!Intl.PluralRules) {\n\trequire('@formatjs/intl-pluralrules/polyfill');\n\trequire('@formatjs/intl-pluralrules/dist/locale-data/de');\n\trequire('@formatjs/intl-pluralrules/dist/locale-data/en');\n\trequire('@formatjs/intl-pluralrules/dist/locale-data/bg');\n}\n\nif (!Intl.RelativeTimeFormat) {\n\trequire('@formatjs/intl-relativetimeformat/polyfill');\n\trequire('@formatjs/intl-relativetimeformat/dist/locale-data/de');\n\trequire('@formatjs/intl-relativetimeformat/dist/locale-data/en');\n\trequire('@formatjs/intl-relativetimeformat/dist/locale-data/bg');\n}\n","import localforage from \"localforage\";\nimport {snakeCase} from \"lodash\";\n\nconst appName = snakeCase(process.env.APPLICATION_NAME);\n\nlocalforage.config({\n\tname: appName,\n\tstoreName: `${appName}_store`\n});\n","import * as mobx from \"mobx\";\n\nmobx.configure({enforceActions: \"always\"});\n","export const login = {\n\tid: \"login\",\n\ticon: \"area-chart\",\n\thref: \"/login\",\n\ttitleId: \"navigation.login.title\"\n};\nexport const logout = {\n\tid: \"logout\",\n\ticon: \"\",\n\thref: \"/logout\",\n\ttitleId: \"\"\n};\nexport const dashboard = {\n\tid: \"dashboard\",\n\ticon: \"dashboard\",\n\thref: \"/dashboard\",\n\ttitleId: \"navigation.dashboard.title\",\n\tauth: true\n};\nexport const invoices = {\n\tid: \"invoices\",\n\ticon: \"calculator\",\n\thref: \"/invoices\",\n\ttitleId: \"navigation.invoices.title\",\n\tauth: true\n};\nexport const counterparties = {\n\tid: \"counterparties\",\n\ticon: \"contacts\",\n\thref: \"/counterparties\",\n\ttitleId: \"navigation.counterparties.title\",\n\tauth: true\n};\nexport const invoiceLines = {\n\tid: \"invoice-lines\",\n\ticon: \"database\",\n\thref: `${invoices.href}/{firstLevelParentId}/invoice-lines`,\n\ttitleId: \"navigation.invoiceLines.title\",\n\tauth: true\n};\nexport const companyDetails = {\n\tid: \"companyDetails\",\n\ticon: \"bank\",\n\thref: \"/company-details\",\n\ttitleId: \"navigation.companyDetails.title\",\n\tauth: true\n};\nexport const users = {\n\tid: \"users\",\n\ticon: \"user\",\n\thref: \"/users\",\n\ttitleId: \"navigation.users.title\",\n\tauth: true\n};\nexport const equipmentRepairs = {\n\tid: \"equipmentRepairs\",\n\ticon: \"tool\",\n\thref: \"/equipment/repairs\",\n\ttitleId: \"navigation.equipment.repairs.title\",\n\tauth: true\n};\nexport const equipment = {\n\tid: \"equipment\",\n\ticon: \"car\",\n\ttitleId: \"navigation.equipment.title\",\n\titems: [\n\t\tequipmentRepairs\n\t],\n\tauth: true\n};\n\nexport const navigation = [dashboard, companyDetails, invoices, counterparties, equipment, users];\n\nexport const defaultUrl = dashboard;\n\nexport const buildOneLevelNestedRelationNavConfig = (navConfig, parentId) => ({...navConfig, href: navConfig.href.replace(\"{firstLevelParentId}\", parentId)});\n","import {Spin} from \"antd\";\nimport {FormattedMessage} from \"react-intl\";\nimport React from \"react\";\n\nconst DefaultSpinner = (props) => <Spin spinning={true} tip={<FormattedMessage id=\"loading\"/>} {...props}/>;\nexport default DefaultSpinner;\n","import DefaultSpinner from \"./DefaultSpinner\";\nimport React from \"react\";\n\nconst DefaultLoadingPage = (props) => {\n\treturn <div className=\"v-h-centered-container\">\n\t\t<DefaultSpinner size=\"large\" {...props} />\n\t</div>\n};\n\nexport default DefaultLoadingPage;\n","import React, {Component} from 'react';\nimport {inject, observer} from \"mobx-react\";\nimport {Redirect, Route, withRouter} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport DefaultLoadingPage from \"../data-display/DefaultLoadingPage\";\n\n@inject('context')\n@withRouter\n@observer\nclass PrivateRoute extends Component {\n\tstatic propTypes = {\n\t\tcomponent: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n\t\tauthenticatedLayout: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n\t\trender: PropTypes.func,\n\t\tloginUrl: PropTypes.string,\n\t};\n\n\tstatic defaultProps = {\n\t\tloginUrl: \"/login\"\n\t};\n\n\trender() {\n\n\t\tconst {component: Cmp, context: appContext, render, loginUrl, authenticatedLayout: AuthenticatedLayout, ...rest} = this.props;\n\n\t\tconst {isLoading, isAuthenticated} = appContext.appService;\n\n\t\treturn <Route {...rest} render={(props) => {\n\t\t\tif (isAuthenticated !== true && isLoading === true) {\n\t\t\t\treturn <DefaultLoadingPage/>;\n\t\t\t}\n\n\t\t\tif (isAuthenticated === true) {\n\t\t\t\tlet contents;\n\n\t\t\t\tif (Cmp) {\n\t\t\t\t\tcontents = <Cmp {...props} {...rest} />;\n\t\t\t\t}\n\n\t\t\t\tif (render) {\n\t\t\t\t\tcontents = render({...props, ...rest});\n\t\t\t\t}\n\n\t\t\t\tif (AuthenticatedLayout) {\n\t\t\t\t\treturn <AuthenticatedLayout {...props}>{contents}</AuthenticatedLayout>;\n\t\t\t\t}\n\t\t\t\treturn contents;\n\t\t\t} else {\n\t\t\t\treturn <Redirect to={{\n\t\t\t\t\tpathname: loginUrl,\n\t\t\t\t\tstate: {\n\t\t\t\t\t\tfrom: this.props.location.pathname\n\t\t\t\t\t}\n\t\t\t\t}}/>;\n\t\t\t}\n\t\t}}/>;\n\t}\n}\n\nexport default PrivateRoute;\n","import bg_BG from \"./bg-BG\";\nimport de_DE from \"./de-DE\";\nimport en_US from \"./en-US\";\nimport enUS from 'antd/es/locale/en_US';\nimport bgBG from 'antd/es/locale/bg_BG';\nimport deDE from 'antd/es/locale/de_DE';\nimport React from \"react\";\n\nexport const intlFormats = {\n\tnumber: {\n\t\tdecimal: {\n\t\t\tstyle: \"decimal\",\n\t\t\tminimumFractionDigits: 2,\n\t\t\tmaximumFractionDigits: 2\n\t\t},\n\t\tBGN: {\n\t\t\tstyle: \"currency\",\n\t\t\tcurrency: \"BGN\"\n\t\t},\n\t\tEUR: {\n\t\t\tstyle: \"currency\",\n\t\t\tcurrency: \"EUR\"\n\t\t},\n\t\tUSD: {\n\t\t\tstyle: \"currency\",\n\t\t\tcurrency: \"USD\"\n\t\t},\n\t\tCAD: {\n\t\t\tstyle: \"currency\",\n\t\t\tcurrency: \"CAD\"\n\t\t},\n\t\tGBP: {\n\t\t\tstyle: \"currency\",\n\t\t\tcurrency: \"GBP\"\n\t\t}\n\t}\n};\n\nexport const intl = {\n\t\"bg-BG\": bg_BG,\n\t\"de-DE\": de_DE,\n\t\"en-US\": en_US\n};\n\nexport const antdLocales = {\n\t\"bg-BG\": bgBG,\n\t\"de-DE\": deDE,\n\t\"en-US\": enUS\n};\n\nexport const formattingFunctions = {\n\tp: msg => <p>{msg}</p>,\n\tstrong: msg => <strong>{msg}</strong>,\n\tt: msg => <div>msg</div>,\n};\n","export default {};\n","export default {};\n","export default {\n\t\"errors.oauth.invalidResponse\": \"Invalid response from OAuth authorization server: \",\n\t\"errors.oauth.tokenExpired\": \"Unauthorized, probably token has expired, redirecting to login page...\",\n\t\"errors.unsupportedMethod\": \"Tried to call unsupported method.\",\n\t\"errors.badCredentials\": \"Couldn't log you in. The provided credentials are not valid.\",\n\n\t\"tutorials.loginPage.title\": \"Welcome!\",\n\t\"tutorials.loginPage.p1\": \"\",\n\n\t\"forms.rules.requiredField\": \"This field is required!\",\n\t\"forms.rules.invalidEmail\": \"Email is invalid!\",\n\t\"forms.rules.invalidString\": \"This field requires text value!\",\n\n\t\"loginPage.text\": `<p>Welcome to {appName}!</p>\n<p>To login, simply enter your credentials and click the \"Login\" button.</p>`,\n};\n","import bg_BG from \"./bg-BG\";\nimport de_DE from \"./de-DE\";\nimport en_US from \"./en-US\";\nimport {intl} from \"../base/localizations\";\nimport {merge} from \"lodash\";\n\nexport const appTranslations = merge({}, intl, {\n\t\"bg-BG\": bg_BG,\n\t\"de-DE\": de_DE,\n\t\"en-US\": en_US\n});\n\nexport const availableLocales = {\n\t\"bg-BG\": \"application.locales.bg\",\n\t\"de-DE\": \"application.locales.de\",\n\t\"en-US\": \"application.locales.en\"\n};\n\nexport const availableCurrencies = {\n\t\"EUR\": \"application.currencies.eur\",\n\t\"USD\": \"application.currencies.usd\",\n\t\"CAD\": \"application.currencies.cad\",\n\t\"GBP\": \"application.currencies.gbp\",\n};\n\nexport const defaultLocale = \"en-US\";\nexport const defaultCurrency = \"EUR\";\n","export default {};\n","export default {};\n","export default {\n\t\"loading\": \"Loading...\",\n\t\"submit\": \"Submit\",\n\t\"reset\": \"Reset\",\n\t\"back\": \"Back\",\n\t\"edit\": \"Edit\",\n\t\"delete\": \"Delete\",\n\t\"ok\": \"OK\",\n\t\"cancel\": \"Cancel\",\n\t\"print\": \"Print\",\n\t\"login\": \"Login\",\n\t\"logout\": \"Logout\",\n\t\"select.placeholder.default\": \"Select...\",\n\t\"by\": \"by\",\n\n\t\"navigation.login.title\": \"Login\",\n\t\"navigation.dashboard.title\": \"Dashboard\",\n\t\"navigation.invoices.title\": \"Invoices\",\n\t\"navigation.counterparties.title\": \"Counterparties\",\n\t\"navigation.invoiceLines.title\": \"Invoice lines\",\n\t\"navigation.companyDetails.title\": \"Company details\",\n\t\"navigation.users.title\": \"Users\",\n\t\"navigation.equipment.repairs.title\": \"Repairs\",\n\t\"navigation.equipment.title\": \"Equipment\",\n\n\t\"tooltips.websiteCurrency\": \"Choose the currency of the application.\",\n\t\"tooltips.websiteLocale\": \"Choose the language of the application.\",\n\t\"tooltips.sidebarMenuTrigger\": \"Show/hide the sidebar menu.\",\n\t\"tooltips.logoutButton\": \"Logout and exit the application.\",\n\t\"tooltips.invoices.list.invoicePreviewButton\": \"Go to the Print preview page of this invoice.\",\n\t\"tooltips.invoices.preview.invoiceTypeSelection\": \"Here you can select the type of invoice you want to create - a Pro Forma invoice or an actual (Original) invoice.\",\n\t\"tooltips.invoices.preview.invoicePrintButton\": `Clicking this button will bring up the invoice printing dialog.`,\n\n\n\t\"application.locales.bg\": \"\",\n\t\"application.locales.de\": \"Deutsch\",\n\t\"application.locales.en\": \"English\",\n\n\t\"application.currencies.eur\": \"Euro\",\n\t\"application.currencies.usd\": \"US Dollars\",\n\t\"application.currencies.cad\": \"Canadian Dollars\",\n\t\"application.currencies.gbp\": \"Pound sterling\",\n\n\t\"roles.admin.title\": \"Admin\",\n\t\"roles.superUser.title\": \"Super user\",\n\t\"roles.user.title\": \"User\",\n\n\t\"application.meta.title\": \"Lime by DigidWorks\",\n\n\t\"application.title\": \"Lime\",\n\t\"application.omnisearch.default.placeholder\": \"Search everywhere\",\n\t\"application.list.default.actions\": \"Actions\",\n\t\"application.list.default.addNew\": \"Add new\",\n\t\"application.list.default.confirmDelete\": \"Are you sure you want to delete this record?\",\n\t\"application.error.get\": \"There was an error while trying to fetch data from the server. Error: {e}\",\n\t\"application.error.save\": \"There was an error while trying to save data to the server. Error: {e}\",\n\t\"application.error.delete\": \"There was an error while trying to delete data from the server. Error: {e}\",\n\t\"application.error.login\": \"There was an error while trying to log you in. Error: {e}\",\n\t\"application.success.save\": \"Data successfully saved!\",\n\t\"application.success.delete\": \"Data successfully deleted!\",\n\n\t\"loginPage.text\": `<p>Welcome to the demo of {appName}!</p>\n<p>To login, simply enter the credentials:</p>\n<p>Username: hi@digidworks.com</p>\n<p>Password: qwerty</p>\n<p>and click the \"Login\" button.</p>\n`,\n\t\"components.login.username\": \"Username\",\n\t\"components.login.password\": \"Password\",\n\t\"application.digid.logo.title\": \"DigidWorks | Enterprise and Management Software\",\n\n\t\"components.counterparties.create.title\": \"Add new counterparty\",\n\t\"components.counterparties.edit.title\": \"Edit counterparty \\\"{name}\\\"\",\n\t\"components.counterparties.list.title\": \"Counterparties\",\n\t\"components.counterparties.company\": \"Company\",\n\t\"components.counterparties.address\": \"Address\",\n\t\"components.counterparties.accountablePersonTitle\": \"Accountable person title\",\n\t\"components.counterparties.accountablePerson\": \"Accountable person name\",\n\t\"components.counterparties.uic\": \"UIC\",\n\t\"components.counterparties.vatNumber\": \"VAT\",\n\t\"components.counterparties.fromEu\": \"Registered in the EU?\",\n\n\t\"components.invoiceLines.create.title\": \"Add new invoice line for invoice #{invoice}\",\n\t\"components.invoiceLines.edit.title\": \"Edit invoice line \\\"{name}\\\" for invoice #{invoice}\",\n\t\"components.invoiceLines.list.title\": \"Invoice lines\",\n\t\"components.invoiceLines.description\": \"Description\",\n\t\"components.invoiceLines.measure\": \"Measure\",\n\t\"components.invoiceLines.quantity\": \"Quantity\",\n\t\"components.invoiceLines.unitPriceNoVat\": \"Unit price (without VAT)\",\n\n\t\"components.invoices.create.title\": \"Add new invoice\",\n\t\"components.invoices.edit.title\": \"Edit invoice #{name}\",\n\t\"components.invoices.list.title\": \"Invoices\",\n\t\"components.invoices.number\": \"Number\",\n\t\"components.invoices.date\": \"Date\",\n\t\"components.invoices.totalPaymentAdditional\": \"Total in additional currency (e.g. $XXX)\",\n\t\"components.invoices.counterparty\": \"Counterparty\",\n\n\t\"components.invoices.preview.title\": \"Invoice #{number}\",\n\t\"components.invoices.preview.typeSwitch.invoice\": \"Invoice\",\n\t\"components.invoices.preview.typeSwitch.proforma\": \"Pro Forma\",\n\t\"components.invoices.preview.header.ivnoice\": \"INVOICE\",\n\t\"components.invoices.preview.header.original\": \"ORIGINAL\",\n\t\"components.invoices.preview.header.proforma\": \"PRO FORMA\",\n\t\"components.invoices.preview.recipient\": \"Recipient\",\n\t\"components.invoices.preview.company\": \"Company\",\n\t\"components.invoices.preview.accountablePerson\": \"Accountable Person\",\n\t\"components.invoices.preview.uic\": \"UIC\",\n\t\"components.invoices.preview.vatNumber\": \"VAT Number\",\n\t\"components.invoices.preview.provider\": \"Provider\",\n\t\"components.invoices.preview.address\": \"Address\",\n\t\"components.invoices.preview.goodsName\": \"Name of the goods/services\",\n\t\"components.invoices.preview.measure\": \"Measure\",\n\t\"components.invoices.preview.quantity\": \"Quantity\",\n\t\"components.invoices.preview.unitPrice\": \"Unit price\",\n\t\"components.invoices.preview.price\": \"Price\",\n\t\"components.invoices.preview.paymentMethod\": \"Payment Method\",\n\t\"components.invoices.preview.bankTransaction\": \"bank transaction\",\n\t\"components.invoices.preview.bank\": \"Bank\",\n\t\"components.invoices.preview.paymentTerms\": \"Payment terms\",\n\t\"components.invoices.preview.paymentTermsDays\": \"14 days\",\n\t\"components.invoices.preview.amountInWords\": \"Amount in words\",\n\t\"components.invoices.preview.totalDue\": \"Total due\",\n\t\"components.invoices.preview.subtotalBaseVat\": \"Subtotal base to VAT\",\n\t\"components.invoices.preview.vat\": \"VAT\",\n\t\"components.invoices.preview.vatAccrued\": \"VAT accrued\",\n\t\"components.invoices.preview.totalPayment\": \"Total payment\",\n\t\"components.invoices.preview.receivedBy\": \"Received by\",\n\t\"components.invoices.preview.invoicedBy\": \"Invoiced by\",\n\n\t\"components.companyDetails.edit.title\": \"Edit your company\",\n\t\"components.companyDetails.name\": \"Name\",\n\t\"components.companyDetails.logo\": \"Logo\",\n\t\"components.companyDetails.address\": \"Address\",\n\t\"components.companyDetails.accountablePersonTitle\": \"Accountable person title\",\n\t\"components.companyDetails.accountablePerson\": \"Accountable person name\",\n\t\"components.companyDetails.uic\": \"UIC number\",\n\t\"components.companyDetails.vatNumber\": \"VAT number\",\n\t\"components.companyDetails.city\": \"City\",\n\t\"components.companyDetails.bankName\": \"Bank name\",\n\t\"components.companyDetails.bankBic\": \"BIC\",\n\t\"components.companyDetails.bankIban\": \"IBAN\",\n\t\"components.companyDetails.vatPercentage\": \"VAT\",\n\n\t\"components.users.create.title\": \"Add new user\",\n\t\"components.users.edit.title\": \"Edit user \\\"{name}\\\"\",\n\t\"components.users.list.title\": \"Users\",\n\t\"components.users.optedOutTutorials\": \"Tutorial Opt-Out\",\n\t\"components.users.password\": \"Password\",\n\t\"components.users.role\": \"Role\",\n\t\"components.users.username\": \"Username\",\n\t\"components.users.clearOptedOutTutorials\": \"Clear tutorial Opt-outs?\",\n\n\t\"components.equipmentRepairs.create.title\": \"Add new equipment repair\",\n\t\"components.equipmentRepairs.edit.title\": \"Edit equipment repair \\\"{name}\\\"\",\n\t\"components.equipmentRepairs.list.title\": \"Equipment repairs\",\n\t\"components.equipmentRepairs.description\": \"Description\",\n\t\"components.equipmentRepairs.date\": \"Date\",\n\t\"components.equipmentRepairs.cost\": \"Cost\",\n\n\t\"components.dashboard.title\": \"Dashboard\",\n\t\"components.dashboard.equipmentRepairs.monthlySpend.title\": \"Equipment repairs expenditure (monthly, last 10 months)\",\n\t\"components.dashboard.equipmentRepairs.spendingComparedTo\": `{current} spending compared to {previous}:`,\n\t\"components.dashboard.equipmentRepairs.comparisons.title\": \"Equipment repairs expenditure statistics\",\n\t\"components.dashboard.equipmentRepairs.totals.title\": \"Equipment repairs expenditure totals\",\n\n\t\"tutorials.buttons.optOut\": \"Don't show this tutorial again\",\n\t\"tutorials.texts.navigateSidebarMenu\": `<p>If you want to navigate to one of the other pages, you can use the left sidebar menu.</p>`,\n\t\"tutorials.texts.submitAndResetButtons\": `<p>The \"Submit\" button will save the changes that you made, and the \"Reset\" button will remove any unsaved changes you made.</p>`,\n\t\"tutorials.texts.listPage\": `<p>The list can be sorted by clicking on the column headers. You can also search by typing the search term in the search box above (the one with the magnifying glass).</p>\n<p>This list is paginated. This means that it shows the information in pages.</p>\n<p>The \"Add new\" button will take you to the creation page.</p>\n<p>Next to every item in the list there are buttons with actions.</p>\n<p>The \"Edit\" button will take you to the edit page and the \"Delete\" button will initiate item deletion, but don't worry, the app will ask you to confirm first.</p>`,\n\n\t\"tutorials.titles.companyDetails.edit\": `How to use the \"Company Details\" page.`,\n\t\"tutorials.texts.companyDetails.edit\": `<p>This is a page for editing the details about your own company.</p>\n<p>You need to fill out the data in order for other functions of the app to work (like the Invoice generation).</p>\n<p>Aside from the regular text input field, on this page you'll encounter the percentage input field - the one where you enter the applicable VAT percentage.</p>\n<p>The \"Back\" button below will take you to the Dashboard (or home) page.</p>`,\n\n\t\"tutorials.titles.counterparties.create\": `How to use the \"Counterparty create\" page.`,\n\t\"tutorials.texts.counterparties.create\": `<p>This is a page that will help you to create new counterparties.</p>\n<p>Counterparties are the companies that your own company interacts with. Creating counterparties is needed for other functionalities to work (like the Invoice generation).</p>\n<p>Aside from the regular text input field, on this page you'll encounter the switch field - the one where you fill out whether or not this counterparty is based in the EU.</p>\n<p>The \"Back\" button below will take you to the \"Counterparty list\".</p>`,\n\t\"tutorials.titles.counterparties.edit\": `How to use the \"Counterparty edit\" page.`,\n\t\"tutorials.texts.counterparties.edit\": `<p>This is a page that will help you edit the counterparties that you've already created.</p>\n<p>This page is similar to the \"Counterparty create\" page, the only difference being it edits data for a counterparty you select.</p>\n<p>The input fields are populated with the current values for the given counterparty for your convenience.</p>\n<p>The \"Back\" button below will take you to the \"Counterparty list\".</p>`,\n\t\"tutorials.titles.counterparties.list\": `How to use the \"Counterparty list\" page.`,\n\t\"tutorials.texts.counterparties.list\": `<p>This page is a list with all counterparties currently in the application. It'll help you manage them in a convenient manner.</p>`,\n\n\t\"tutorials.titles.invoiceLines.create\": `How to use the \"Invoice line create\" page.`,\n\t\"tutorials.texts.invoiceLines.create\": `<p>This is a page that will help you to add invoice lines to invoices.</p>\n<p>An invoice line represents a single line in an invoice, so it's basically the products or services that you sell to your customers. Adding invoice lines is needed for other functionalities to work (like the Invoice generation).</p>\n<p>Aside from the regular text input field, on this page you'll encounter the currency field - the one where you fill out the cost for the invoice line.</p>\n<p>The \"Back\" button below will take you to the \"Invoice list\".</p>`,\n\t\"tutorials.titles.invoiceLines.edit\": `How to use the \"Invoice line edit\" page.`,\n\t\"tutorials.texts.invoiceLines.edit\": `<p>This is a page that will help you edit the invoice lines that have been added to invoices.</p>\n<p>This page is similar to the \"Invoice line create\" page, the only difference being it edits data for an invoice line you select.</p>\n<p>The input fields are populated with the current values for the given invoice line for your convenience.</p>\n<p>The \"Back\" button below will take you to the \"Invoice list\".</p>`,\n\n\t\"tutorials.titles.invoices.create\": `How to use the \"Invoice create\" page.`,\n\t\"tutorials.texts.invoices.create\": `<p>This is a page that will help you to create invoices.</p>\n<p>After you create an invoice here, you can generate a printable version of it.</p>\n<p>The printable version will contain all the invoice data along with any invoice lines associated with it and the counterparty assigned to it.</p>\n<p>Aside from the regular text input field, on this page you'll encounter the number field - the one where you fill out the number of the invoice, the calendar field - where you input the date of the invoice and the combobox field where you select a counterparty for this invoice.</p>\n<p>The \"Back\" button below will take you to the \"Invoice list\".</p>`,\n\t\"tutorials.titles.invoices.edit\": `How to use the \"Invoice edit\" page.`,\n\t\"tutorials.texts.invoices.edit\": `<p>This is a page that will help you edit your invoices.</p>\n<p>This page is similar to the \"Invoice create\" page, the only difference being it edits data for an invoice you select.</p>\n<p>The input fields are populated with the current values for the given invoice for your convenience.</p>\n<p>The \"Back\" button below will take you to the \"Invoice list\".</p>`,\n\t\"tutorials.titles.invoices.list\": `How to use the \"Invoice list\" page.`,\n\t\"tutorials.texts.invoices.list\": `<p>This page is a list with all invoices currently in the application. It'll help you manage them in a convenient manner.</p>\n<p>This list has one additional action button called \"Preview\". It'll take you to the print preview page of the given invoice.</p>`,\n\t\"tutorials.titles.invoices.preview\": `How to use the \"Invoice preview\" page.`,\n\t\"tutorials.texts.invoices.preview\": `<p>This page is a print preview page of an invoice. It'll help you create a PDF or print an invoice.</p>\n<p>The \"Back\" button on the top left corner of the preview will take you to the \"Invoice list\".</p>`,\n\n\t\"tutorials.titles.dashboard\": `How to use the \"Dashboard\" page.`,\n\t\"tutorials.texts.dashboard\": `<p>This is a dashboard page. Usually it'll contain general information about the most important aspects of your application.</p>`,\n\n\t\"tutorials.titles.users.create\": `How to use the \"User create\" page.`,\n\t\"tutorials.texts.users.create\": `<p>This is a page that will help you to create new users.</p>\n<p>Users are the accounts that are used by real people to interact with the application. It's safe to say that in most cases a \"User\" will be owned to a real person.</p>\n <p>Creating users is needed if you want other people to access the application.</p>\n<p>Aside from the regular text input field, on this page you'll encounter the password field - the one where you fill out the user's password.</p>\n<p>The \"Back\" button below will take you to the \"User list\".</p>`,\n\t\"tutorials.titles.users.edit\": `How to use the \"User edit\" page.`,\n\t\"tutorials.texts.users.edit\": `<p>This is a page that will help you edit the users that you've already created.</p>\n<p>This page is similar to the \"User create\" page, the only difference being it edits data for a user you select.</p>\n<p>The input fields are populated with the current values for the given user for your convenience.</p>\n<p>The \"Back\" button below will take you to the \"User list\".</p>`,\n\t\"tutorials.titles.users.list\": `How to use the \"User list\" page.`,\n\t\"tutorials.texts.users.list\": `<p>This page is a list with all users currently in the application. It'll help you manage them in a convenient manner.</p>`,\n\n\t\"tutorials.titles.equipmentRepairs.create\": `How to use the \"Equipment repair create\" page.`,\n\t\"tutorials.texts.equipmentRepairs.create\": `<p>This is a page that will help you to add new equipment repairs.</p>\n<p>Equipment repair is a repair that has been performed to some of the company's equipment.</p>\n<p>Adding equipment repairs is important if you want to be able to generate charts about equipment break down, repair costs, etc.</p>\n<p>The \"Back\" button below will take you to the \"User list\".</p>`,\n\t\"tutorials.titles.equipmentRepairs.edit\": `How to use the \"Equipment repair edit\" page.`,\n\t\"tutorials.texts.equipmentRepairs.edit\": `<p>This is a page that will help you edit the equipment repairs that you've already added.</p>\n<p>This page is similar to the \"Equipment repair create\" page, the only difference being it edits data for a repair you select.</p>\n<p>The input fields are populated with the current values for the given repair for your convenience.</p>\n<p>The \"Back\" button below will take you to the \"Equipment repairs list\".</p>`,\n\t\"tutorials.titles.equipmentRepairs.list\": `How to use the \"Equipment repairs list\" page.`,\n\t\"tutorials.texts.equipmentRepairs.list\": `<p>This page is a list with all the equipment repairs currently in the application. It'll help you manage them in a convenient manner.</p>`,\n};\n","import React, {Component} from \"react\";\nimport {Breadcrumb} from \"antd\";\nimport PropTypes from \"prop-types\";\nimport {Link} from \"react-router-dom\";\nimport {FormattedMessage} from \"react-intl\";\n\nexport default class DefaultBreadcrumbs extends Component {\n\tstatic propTypes = {\n\t\tcrumbs: PropTypes.array.isRequired\n\t};\n\n\tstatic defaultProps = {\n\t\tcrumbs: []\n\t};\n\n\trender() {\n\t\tconst crumbs = this.props.crumbs;\n\t\tconst last = crumbs.pop();\n\n\t\treturn <Breadcrumb>\n\t\t\t{crumbs.map(crumb => {\n\t\t\t\treturn <Breadcrumb.Item key={crumb.href}>\n\t\t\t\t\t<Link to={crumb.href}>\n\t\t\t\t\t\t{crumb.titleId && <FormattedMessage id={crumb.titleId}/>}\n\t\t\t\t\t\t{crumb.title ? crumb.title : \"\"}\n\t\t\t\t\t</Link>\n\t\t\t\t</Breadcrumb.Item>;\n\t\t\t})}\n\t\t\t{last.titleId && <Breadcrumb.Item><FormattedMessage id={last.titleId}/></Breadcrumb.Item>}\n\t\t\t{last.title && <Breadcrumb.Item>{last.title}</Breadcrumb.Item>}\n\t\t</Breadcrumb>;\n\t}\n}\n","import {action, computed, observable} from \"mobx\";\n\n/**\n * Base service for all services to extend. Adds the \"loading\" functionality and holds reference to ApplicationContext.\n */\nexport default class BaseService {\n\n\t/**\n\t * This is the application context.\n\t */\n\tcontext;\n\n\t/**\n\t * Fetch requests, local storage queries, etc. being executed.\n\t * @type {Array}\n\t */\n\t@observable\n\tbeingLoaded = [];\n\n\tinit = () => {\n\t};\n\n\tsetContext = (context) => {\n\t\tthis.context = context;\n\t};\n\n\t/**\n\t * Something started loading\n\t * @param loading\n\t */\n\t@action\n\tloading = (loading) => {\n\t\tlet isPresent = this.beingLoaded.indexOf(loading) > -1;\n\n\t\tif (isPresent) {\n\t\t\t// console.trace(`Trying to add ${loading} multiple times...`);\n\t\t\tconsole.log(`Trying to add ${loading} multiple times...`);\n\t\t}\n\n\t\tthis.beingLoaded.push(loading);\n\t};\n\n\t/**\n\t * Something finished loading\n\t * @param loaded\n\t */\n\t@action\n\tloaded = (loaded) => {\n\t\tconst deleteMe = this.beingLoaded.indexOf(loaded);\n\t\tif (deleteMe > -1) {\n\t\t\tthis.beingLoaded.splice(deleteMe, 1);\n\t\t}\n\t};\n\n\t@computed\n\tget isLoading() {\n\t\treturn this.beingLoaded.length > 0;\n\t}\n\n\tisLoadingAnyOf(...loaders) {\n\t\tconst count = loaders.length;\n\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tif (this.beingLoaded.indexOf(loaders[i]) > -1) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tisLoadingNamespace(namespace) {\n\t\tfor (let i = 0; i < this.beingLoaded.length; i++) {\n\t\t\tif (this.beingLoaded[i].indexOf(namespace) > -1) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n}\n","import {padStart, trimStart} from \"lodash\";\nimport Decimal from \"decimal.js\";\n\nconst parseLocaleNumber = (stringNumber, locale) => {\n\tlet thousandSeparator = (new Intl.NumberFormat(locale, {})).format(1111).replace(/1/g, '');\n\n\tlet decimalSeparator = (new Intl.NumberFormat(locale, {\n\t\tminimumFractionDigits: 1,\n\t\tmaximumFractionDigits: 1\n\t})).format(1.1).replace(/1/g, '');\n\n\tlet result = stringNumber;\n\n\tif (thousandSeparator && thousandSeparator.length > 0) {\n\t\tresult = result.replace(new RegExp('\\\\' + thousandSeparator, 'g'), '');\n\t}\n\n\tif (decimalSeparator && decimalSeparator.length > 0) {\n\t\tresult = result.replace(new RegExp('\\\\' + decimalSeparator), '.');\n\t}\n\n\tresult = result.replace(/[^\\d.-]/g, '').split(\".\").filter(el => !!el);\n\n\tlet first = result.shift();\n\tlet rest = result.join(\"\");\n\n\tif (result.length > 0) {\n\t\treturn [first, rest].join(\".\");\n\t} else {\n\t\treturn first;\n\t}\n};\n\nexport const isNumeric = (n) => {\n\treturn !isNaN(parseFloat(n)) && isFinite(n);\n};\n\nexport const paddedNumberFormatter = (number, length = 10, chars = \"0\") => (padStart(number, length, chars));\nexport const paddedNumberParser = (number, chars = \"0\") => (trimStart(number, chars));\nexport const intToCurrencyFormatter = (number) => {\n\tif (isNumeric(number)) {\n\t\treturn new Decimal(number).div(100).toFixed(2);\n\t}\n\treturn 0;\n};\nexport const intToCurrencyParser = (rawNumber, locale) => {\n\tif (!rawNumber) {\n\t\treturn 0;\n\t}\n\n\tlet number = rawNumber;\n\tlet decimalPlaces = 1;\n\n\tif (!isNumeric(number)) {\n\t\tnumber = parseLocaleNumber(number, locale);\n\t}\n\n\twhile (number.charAt(number.length - decimalPlaces) === \"0\") {\n\t\tdecimalPlaces++;\n\t}\n\n\tdecimalPlaces--;\n\n\tlet dNumber = new Decimal(number);\n\tdecimalPlaces += dNumber.decimalPlaces();\n\n\tdNumber = Decimal.mul(dNumber, Math.pow(10, decimalPlaces));\n\n\treturn dNumber.toNumber();\n};\n","import {action, observable, toJS} from \"mobx\";\nimport BaseService from \"./BaseService\";\nimport {isNumeric} from \"../utilities\";\nimport {isArray, isEmpty} from \"lodash\";\n\n/**\n * Generic service capable of handling all CRUD operations. Extend if needed.\n */\nexport default class CrudService extends BaseService {\n\n\t/**\n\t * Url of the resource this services works with.\n\t */\n\tresourceUrl;\n\n\t/**\n\t * Name of the field that serves as a primary key, 99% of the cases this will be \"id\".\n\t */\n\tprimaryKeyField;\n\n\t/**\n\t * All items loaded in the current app screen. ID => record.\n\t * Used to avoid having duplicate items.\n\t * @type {{}}\n\t */\n\t@observable\n\tallLoadedItems = {};\n\n\t/**\n\t * How many times is every item used in any of the collections of the service.\n\t * When this count reaches zero, the item will be removed from the collection with all items.\n\t * ID => Set of namespaces\n\t * @type {{}}\n\t */\n\t@observable\n\tallLoadedItemsCollectionsCount = {};\n\n\t/**\n\t * Single items, to be used in forms (create, edit), display, etc.\n\t * @type {{}}\n\t */\n\t@observable\n\titem = {};\n\n\t/**\n\t * Multiple ORDERED items. To be used as a page in a list.\n\t * @type {{}}\n\t */\n\t@observable\n\titemList = {};\n\n\t/**\n\t * Multiple UNORDERED items, with IDs as keys. To be used to fill out relation data.\n\t * @type {{}}\n\t */\n\t@observable\n\titemMap = {};\n\n\t/**\n\t * Pagination data.\n\t * @type {{}}\n\t */\n\t@observable\n\tpagination = {};\n\n\t/**\n\t * Sorting data.\n\t * @type {{}}\n\t */\n\t@observable\n\tsorter = {};\n\n\t/**\n\t * Filtering data.\n\t * @type {{}}\n\t */\n\t@observable\n\tfilters = {};\n\n\t/**\n\t * Search data.\n\t * @type {{}}\n\t */\n\t@observable\n\tsearch = {};\n\n\t/**\n\t * Initialization.\n\t * @param resourceUrl\n\t * @param primaryKeyField name of the field containing the ID of each record.\n\t */\n\tconstructor({resourceUrl, primaryKeyField = \"id\"}) {\n\t\tsuper();\n\n\t\tthis.resourceUrl = resourceUrl;\n\t\tthis.primaryKeyField = primaryKeyField;\n\t}\n\n\t@action\n\tsetItem = (newItem, namespace) => {\n\t\tconst oldItem = this.item[namespace];\n\t\tif (!isEmpty(oldItem) && !!oldItem[this.primaryKeyField]) {\n\t\t\tthis.removeFromItemPool(oldItem, namespace);\n\t\t}\n\n\t\tif (!isEmpty(newItem) && !!newItem[this.primaryKeyField]) {\n\t\t\tthis.addToItemPool(newItem, namespace);\n\t\t}\n\n\t\tthis.item[namespace] = newItem;\n\t};\n\n\t@action\n\tsetItemList = (newItems, namespace) => {\n\t\tif (!isEmpty(this.itemList[namespace])) {\n\t\t\tthis.itemList[namespace].filter(item => !isEmpty(item) && !!item[this.primaryKeyField]).forEach(item => this.removeFromItemPool(item, namespace));\n\t\t}\n\n\t\tnewItems.filter(item => !isEmpty(item) && !!item[this.primaryKeyField]).forEach(item => this.addToItemPool(item, namespace));\n\t\tthis.itemList[namespace] = newItems;\n\t};\n\n\t@action\n\tsetItemMap = (newItems, namespace) => {\n\t\tif (!isEmpty(this.itemMap[namespace])) {\n\t\t\tObject.values(this.itemMap[namespace]).filter(item => !isEmpty(item) && !!item[this.primaryKeyField]).forEach(item => this.removeFromItemPool(item, namespace));\n\t\t}\n\n\t\tif (!this.itemMap[namespace]) {\n\t\t\tthis.itemMap[namespace] = {};\n\t\t}\n\n\t\tnewItems.forEach(item => {\n\t\t\tconst primaryKey = item[this.primaryKeyField];\n\n\t\t\tif (!isEmpty(item) && !!item[this.primaryKeyField]) {\n\t\t\t\tthis.addToItemPool(item, namespace);\n\t\t\t}\n\t\t\tthis.itemMap[namespace][primaryKey] = item;\n\t\t});\n\t};\n\n\t/**\n\t * Add item to the pool of all items.\n\t * @param newItem\n\t * @param namespace\n\t */\n\t@action\n\taddToItemPool = (newItem, namespace) => {\n\t\tconst primaryKey = newItem[this.primaryKeyField];\n\t\tlet usageCnt = this.allLoadedItemsCollectionsCount[primaryKey];\n\n\t\tif (!usageCnt) {\n\t\t\tusageCnt = new Set();\n\t\t\tthis.allLoadedItemsCollectionsCount[primaryKey] = usageCnt;\n\t\t}\n\n\t\tthis.allLoadedItems[primaryKey] = newItem;\n\t\tusageCnt.add(namespace);\n\t};\n\n\t/**\n\t * Remove item from the pool of all items.\n\t * @param item\n\t * @param namespace\n\t */\n\t@action\n\tremoveFromItemPool = (item, namespace) => {\n\t\tconst primaryKey = item[this.primaryKeyField];\n\t\tlet usageCnt = this.allLoadedItemsCollectionsCount[primaryKey];\n\n\t\tif (!!usageCnt && usageCnt.size > 0) {\n\t\t\tusageCnt.delete(namespace);\n\t\t}\n\n\t\tif (!!usageCnt && usageCnt.size < 1) {\n\t\t\tdelete this.allLoadedItemsCollectionsCount[primaryKey];\n\t\t}\n\n\t\tif (!usageCnt || usageCnt.size < 1) {\n\t\t\tdelete this.allLoadedItems[primaryKey];\n\t\t}\n\t};\n\n\t@action\n\tsetPagination = (pagination, namespace) => {\n\t\tthis.pagination[namespace] = pagination;\n\t};\n\n\t@action\n\tsetSorter = (sorter, namespace) => {\n\t\tthis.sorter[namespace] = sorter;\n\t};\n\n\t@action\n\tsetFilters = (filters, namespace) => {\n\t\tthis.filters[namespace] = filters;\n\t};\n\n\t@action\n\tremoveFilter = (key, namespace) => {\n\t\tconst {[key]: omit, ...rest} = this.filters[namespace];\n\n\t\tthis.filters[namespace] = rest;\n\t};\n\n\t@action\n\tchangeFilter = (key, filter, namespace) => {\n\t\tif (!this.filters[namespace]) {\n\t\t\tthis.filters[namespace] = {};\n\t\t}\n\t\tthis.filters[namespace][key] = filter;\n\t};\n\n\t@action\n\tsetSearch = (search, namespace) => {\n\t\tthis.search[namespace] = search;\n\t};\n\n\t/**\n\t * Check if item exists by passed id.\n\t * @param id\n\t * @param namespace is the namespace of the component requesting this item.\n\t */\n\texistsById = async (id, namespace) => {\n\t\tthis.loading(`${namespace}:exists:${id}`);\n\n\t\ttry {\n\t\t\tconst url = `${this.resourceUrl}/exists/${id}`;\n\n\t\t\tconst response = await this.context.appService.fetchProtectedResource(url);\n\t\t\treturn JSON.parse(await response.text());\n\t\t} finally {\n\t\t\tthis.loaded(`${namespace}:exists:${id}`);\n\t\t}\n\t};\n\n\t/**\n\t * Check how many records are there currently.\n\t * @param namespace is the namespace of the component requesting this item.\n\t */\n\tcount = async (namespace) => {\n\t\tthis.loading(`${namespace}:count`);\n\n\t\ttry {\n\t\t\tconst url = `${this.resourceUrl}/count`;\n\n\t\t\tconst response = await this.context.appService.fetchProtectedResource(url);\n\t\t\treturn JSON.parse(await response.text());\n\t\t} finally {\n\t\t\tthis.loaded(`${namespace}:count`);\n\t\t}\n\t};\n\n\t/**\n\t * Load single item by passed id.\n\t * @param id\n\t * @param namespace is the namespace of the component requesting this item.\n\t * @returns {Promise<void>}\n\t */\n\tfetchItem = async (id, namespace) => {\n\t\tthis.loading(`${namespace}:fetch:${id}`);\n\n\t\ttry {\n\t\t\tconst url = `${this.resourceUrl}/${id}`;\n\n\t\t\tconst response = await this.context.appService.fetchProtectedResource(url);\n\t\t\tconst item = await response.json();\n\n\t\t\tthis.setItem(item, namespace);\n\t\t} finally {\n\t\t\tthis.loaded(`${namespace}:fetch:${id}`);\n\t\t}\n\t};\n\n\t/**\n\t * Load list of items. Takes into account sorter, filter, search and pagination.\n\t * @returns {Promise<void>}\n\t */\n\tfetchItemList = async (namespace) => {\n\t\tthis.loading(`${namespace}:fetch:list`);\n\n\t\ttry {\n\t\t\tconst url = [`${this.resourceUrl}?`];\n\n\t\t\tthis.appendSortAndOrderToUrl(url, this.sorter[namespace].field, this.sorter[namespace].order);\n\t\t\tthis.appendFiltersToUrl(url, this.filters[namespace]);\n\t\t\tthis.appendSearchToUrl(url, this.search[namespace]);\n\t\t\tthis.appendPaginationToUrl(url, this.pagination[namespace]);\n\n\t\t\tconst response = await this.context.appService.fetchProtectedResource(url.join(\"\"));\n\t\t\tconst pagedResults = await response.json();\n\n\t\t\tthis.setPagination({...this.pagination[namespace], total: pagedResults.totalElements}, namespace);\n\t\t\tthis.setItemList(pagedResults.content, namespace);\n\t\t} finally {\n\t\t\tthis.loaded(`${namespace}:fetch:list`);\n\t\t}\n\t};\n\n\t/**\n\t * Load map of items from a list of ids.\n\t * @returns {Promise<void>}\n\t */\n\tfetchItemMap = async (ids, namespace) => {\n\t\tthis.loading(`${namespace}:fetch:map:${ids.join(\",\")}`);\n\n\t\ttry {\n\t\t\tconst url = [`${this.resourceUrl}?`];\n\n\t\t\tthis.appendIdsToUrl(url, ids);\n\n\t\t\tconst response = await this.context.appService.fetchProtectedResource(url.join(\"\"));\n\t\t\tconst results = await response.json();\n\n\t\t\tthis.setItemMap(results, namespace);\n\t\t} finally {\n\t\t\tthis.loaded(`${namespace}:fetch:map:${ids.join(\",\")}`);\n\t\t}\n\t};\n\n\t/**\n\t * Save (create or update) a single item.\n\t * @param item\n\t * @param namespace\n\t * @returns {Promise<void>}\n\t */\n\tsave = async (item, namespace) => {\n\t\tconst id = item[this.primaryKeyField] || \"\";\n\n\t\tthis.loading(`${namespace}:save:${id}`);\n\n\t\ttry {\n\t\t\tconst url = `${this.resourceUrl}/${id}`;\n\n\t\t\tconst response = await this.context.appService.fetchProtectedResource(url, {\n\t\t\t\tmethod: !!id ? \"PUT\" : \"POST\",\n\t\t\t\tbody: toJS(item)\n\t\t\t});\n\t\t\treturn (await response.json())[this.primaryKeyField];\n\t\t} finally {\n\t\t\tthis.loaded(`${namespace}:save:${id}`);\n\t\t}\n\t};\n\n\t/**\n\t * Delete a single item.\n\t * @param id\n\t * @param namespace\n\t * @returns {Promise<void>}\n\t */\n\tdelete = async (id, namespace) => {\n\t\tthis.loading(`${namespace}:delete:${id}`);\n\n\t\ttry {\n\t\t\tconst url = `${this.resourceUrl}/${id}`;\n\n\t\t\tawait this.context.appService.fetchProtectedResource(url, {\n\t\t\t\tmethod: \"DELETE\"\n\t\t\t});\n\t\t} finally {\n\t\t\tthis.loaded(`${namespace}:delete:${id}`);\n\t\t}\n\t};\n\n\t/**\n\t * Adds sorting and ordering parts to a passed URL.\n\t * @param url\n\t * @param field\n\t * @param order\n\t */\n\tappendSortAndOrderToUrl = (url, field, order) => {\n\t\tif (field && order) {\n\t\t\turl.push(`sort=${field},${order === \"ascend\" ? \"asc\" : \"desc\"}&`);\n\t\t}\n\t};\n\n\t/**\n\t * Adds filtering parts to a passed URL.\n\t * @param url\n\t * @param filters\n\t */\n\tappendFiltersToUrl = (url, filters) => {\n\t\tconst filterQueryString = [];\n\n\t\tObject.entries(filters).forEach(([key, filter]) => {\n\t\t\tswitch (filter.type) {\n\t\t\t\tcase \">x<\":\n\t\t\t\t\tfilterQueryString.push(`${filter.field}>${filter.values[0]}`);\n\t\t\t\t\tfilterQueryString.push(`${filter.field}<${filter.values[1]}`);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"=\":\n\t\t\t\t\tfilterQueryString.push(`${filter.field}:${filter.values[0]}`);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(`Unknown filter type: ${filter.type}`);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tif (filterQueryString.length > 0) {\n\t\t\turl.push(`filter=${filterQueryString.join(\",\")}&`);\n\t\t}\n\t};\n\n\t/**\n\t * Adds searching parts to a passed URL.\n\t * @param url\n\t * @param search\n\t */\n\tappendSearchToUrl = (url, search) => {\n\t\tif (isArray(search.fields)) {\n\t\t\turl.push(`searchFields=${search.fields.join(\",\")}&`);\n\t\t\turl.push(`searchValue=${search.value}&`);\n\t\t}\n\t};\n\n\t/**\n\t * Adds pagination to a passed URL.\n\t * @param url\n\t * @param pagination\n\t */\n\tappendPaginationToUrl = (url, pagination) => {\n\t\tconst currentPage = pagination.current;\n\t\tconst pageSize = pagination.pageSize;\n\n\t\tif (isNumeric(currentPage) && isNumeric(pageSize)) {\n\t\t\turl.push(`page=${currentPage - 1}&size=${pageSize}&`);\n\t\t}\n\t};\n\n\t/**\n\t * Adds list of ids to passed URL.\n\t * @param url\n\t * @param ids\n\t */\n\tappendIdsToUrl = (url, ids) => {\n\t\tif (!!ids && isArray(ids)) {\n\t\t\turl.push(`ids=${ids.join(\",\")}&`);\n\t\t}\n\t};\n\n\t/**\n\t * Resets all records' data (e.g. item, items) in a namespace in this instance of the service.\n\t * Useful when different components use different items of the same resource.\n\t */\n\tresetNamespaceData = (namespace) => {\n\t\tthis.setItem({}, namespace);\n\t\tthis.setItemList([], namespace);\n\t\tthis.setItemMap([], namespace);\n\t};\n\n\t/**\n\t * Initializes a new namespace.\n\t */\n\tcreateNamespace = (namespace) => {\n\t\tif (!this.pagination[namespace]) {\n\t\t\tthis.setPagination({current: 1, pageSize: 20}, namespace);\n\t\t}\n\n\t\tif (!this.sorter[namespace]) {\n\t\t\tthis.setSorter({}, namespace);\n\t\t}\n\n\t\tif (!this.filters[namespace]) {\n\t\t\tthis.setFilters({}, namespace);\n\t\t}\n\n\t\tif (!this.search[namespace]) {\n\t\t\tthis.setSearch({}, namespace);\n\t\t}\n\t}\n}\n","/**\n * Class for extended support for HTTP errors.\n */\nexport default class ApplicationError extends Error {\n\n\tname;\n\tintlId;\n\n\tconstructor(intlId) {\n\t\tsuper(`ApplicationError:${intlId}`);\n\t\tthis.name = 'ApplicationError';\n\t\tthis.intlId = intlId;\n\t}\n}\n","import {message} from \"antd\";\nimport ApplicationError from \"./ApplicationError\";\n\nexport const defaultErrorHandler = ({intl}, id, error) => {\n\tconsole.log(error);\n\n\tif (error instanceof ApplicationError) {\n\t\tmessage.error(intl.formatMessage({id}, {e: intl.formatMessage({id: error.intlId})}));\n\t\treturn;\n\t}\n\tmessage.error(intl.formatMessage({id}, {e: error.message}));\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\n\nconst FlexContainer = (props) => {\n\tconst {className, fluid, ...rest} = props;\n\treturn <div className={classNames({\"container\": !fluid, \"container-fluid\": fluid, [className]: className})} {...rest} />;\n};\n\nFlexContainer.propTypes = {\n\tclassName: PropTypes.string,\n\tfluid: PropTypes.bool,\n};\n\nconst FlexRow = (props) => {\n\tconst {className, gutters, ...rest} = props;\n\treturn <div className={classNames(\"row\", className, {\"no-gutters\": !gutters})} {...rest} />;\n};\n\nFlexRow.propTypes = {\n\tclassName: PropTypes.string,\n\tgutters: PropTypes.bool,\n};\n\nFlexRow.defaultProps = {\n\tgutters: true,\n};\n\nconst FlexCol = (props) => {\n\tconst {\n\t\txs, sm, md, lg, xl, xxl, xxxl, xxxxl,\n\t\toffsetXs, offsetSm, offsetMd, offsetLg, offsetXl, offsetXxl, offsetXxxl, offsetXxxxl,\n\t\tclassName, ...rest\n\t} = props;\n\n\treturn <div className={classNames({\n\t\t\"col\": !xs,\n\t\t[`col-${xs}`]: xs,\n\t\t[`col-sm-${sm}`]: sm,\n\t\t[`col-md-${md}`]: md,\n\t\t[`col-lg-${lg}`]: lg,\n\t\t[`col-xl-${xl}`]: xl,\n\t\t[`col-xxl-${xxl}`]: xxl,\n\t\t[`col-xxxl-${xxxl}`]: xxxl,\n\t\t[`col-xxxxl-${xxxxl}`]: xxxxl,\n\t\t[`offset-${offsetXs}`]: offsetXs,\n\t\t[`offset-sm-${offsetSm}`]: offsetSm,\n\t\t[`offset-md-${offsetMd}`]: offsetMd,\n\t\t[`offset-lg-${offsetLg}`]: offsetLg,\n\t\t[`offset-xl-${offsetXl}`]: offsetXl,\n\t\t[`offset-xxl-${offsetXxl}`]: offsetXxl,\n\t\t[`offset-xxxl-${offsetXxxl}`]: offsetXxxl,\n\t\t[`offset-xxxxl-${offsetXxxxl}`]: offsetXxxxl,\n\t\t[className]: className,\n\t})} {...rest} />;\n};\n\nFlexCol.propTypes = {\n\tclassName: PropTypes.string,\n\txs: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tsm: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tmd: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tlg: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\txl: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\txxl: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\txxxl: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\txxxxl: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\toffsetXs: PropTypes.oneOfType([PropTypes.number]),\n\toffsetSm: PropTypes.oneOfType([PropTypes.number]),\n\toffsetMd: PropTypes.oneOfType([PropTypes.number]),\n\toffsetLg: PropTypes.oneOfType([PropTypes.number]),\n\toffsetXl: PropTypes.oneOfType([PropTypes.number]),\n\toffsetXxl: PropTypes.oneOfType([PropTypes.number]),\n\toffsetXxxl: PropTypes.oneOfType([PropTypes.number]),\n\toffsetXxxxl: PropTypes.oneOfType([PropTypes.number]),\n};\n\nexport {\n\tFlexContainer,\n\tFlexRow,\n\tFlexCol\n};\n","import React, {Component} from \"react\";\nimport {observer} from \"mobx-react\";\nimport {Card} from \"antd\";\nimport {injectIntl} from \"react-intl\";\nimport DefaultBreadcrumbs from \"../../../base/components/layouts/DefaultBreadcrumbs\";\nimport {dashboard, defaultUrl} from \"../../../configurations/navigation\";\nimport PropTypes from \"prop-types\";\nimport CrudService from \"../../../base/services/CrudService\";\nimport DefaultLoadingPage from \"../../../base/components/data-display/DefaultLoadingPage\";\nimport {defaultErrorHandler} from \"../../../base/errors/defaultErrorHandler\";\nimport {FlexCol, FlexContainer, FlexRow} from \"../../../base/components/layouts/FlexGrid\";\nimport {Redirect} from \"react-router-dom\";\nimport {Helmet} from \"react-helmet-async\";\n\nexport default @injectIntl\n@observer\nclass DefaultEditPage extends Component {\n\tstatic propTypes = {\n\t\titemId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\t\tcrudService: PropTypes.instanceOf(CrudService).isRequired,\n\t\ttitleId: PropTypes.string.isRequired,\n\t\ttitleParams: PropTypes.object.isRequired,\n\t\tcrumbs: PropTypes.array.isRequired,\n\t\tnamespace: PropTypes.string.isRequired,\n\t};\n\n\tstatic defaultProps = {\n\t\tcrumbs: [],\n\t\ttitleParams: {},\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmounted: false\n\t\t};\n\t}\n\n\tasync componentDidMount() {\n\t\tconst {itemId, namespace} = this.props;\n\n\t\ttry {\n\t\t\tawait this.props.crudService.fetchItem(itemId, namespace);\n\t\t\tthis.setState({mounted: true});\n\t\t} catch (e) {\n\t\t\tdefaultErrorHandler(this.props, \"application.error.get\", e);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.crudService.resetNamespaceData(this.props.namespace);\n\t}\n\n\trender() {\n\t\tconst {titleId, crudService, crumbs, namespace} = this.props;\n\n\t\tlet record = crudService.item[namespace];\n\n\t\tif (!this.state.mounted || crudService.isLoadingNamespace(namespace)) {\n\t\t\treturn <DefaultLoadingPage/>;\n\t\t}\n\n\t\tif (!record) {\n\t\t\treturn <Redirect to={defaultUrl}/>;\n\t\t}\n\n\t\tconst title = this.props.intl.formatMessage({id: titleId}, this.props.titleParams);\n\n\t\treturn <FlexContainer>\n\t\t\t<Helmet>\n\t\t\t\t<title>{title} - {this.props.intl.formatMessage({id: \"application.meta.title\"})}</title>\n\t\t\t</Helmet>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<DefaultBreadcrumbs crumbs={[dashboard, ...(crumbs), {title}]}/>\n\t\t\t\t\t<Card style={{margin: \"2rem 0\"}} title={title} bordered={false}>\n\t\t\t\t\t\t{this.props.children}\n\t\t\t\t\t</Card>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t</FlexContainer>;\n\t}\n}\n","import React, {Component} from 'react';\nimport {observer} from \"mobx-react\";\nimport {Button, Icon, message, Typography} from \"antd\";\nimport {FormattedMessage, injectIntl} from \"react-intl\";\nimport {withRouter} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport CrudService from \"../../../base/services/CrudService\";\nimport DefaultLoadingPage from \"../../../base/components/data-display/DefaultLoadingPage\";\nimport {defaultErrorHandler} from \"../../../base/errors/defaultErrorHandler\";\nimport {Form, Formik} from \"formik\";\nimport {FlexCol, FlexRow} from \"../../../base/components/layouts/FlexGrid\";\n\n@withRouter\nclass InnerForm extends Component {\n\tstatic propTypes = {\n\t\tnavConfig: PropTypes.object,\n\t\tbackButtonUrl: PropTypes.string,\n\t};\n\n\tstatic defaultProps = {};\n\n\trender() {\n\t\treturn <Form>\n\t\t\t{this.props.children}\n\t\t\t<FlexRow className=\"mt-5\">\n\t\t\t\t<FlexCol xs=\"auto\">\n\t\t\t\t\t<Button onClick={this.handleBackButtonClick}>\n\t\t\t\t\t\t<Icon type=\"left\"/>\n\t\t\t\t\t\t<Typography.Text><FormattedMessage id=\"back\"/></Typography.Text>\n\t\t\t\t\t</Button>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol className=\"text-right\">\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\n\t\t\t\t\t\t<Icon type=\"save\"/>\n\t\t\t\t\t\t<Typography.Text style={{color: \"white\"}}><FormattedMessage id={\"submit\"}/></Typography.Text>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button type=\"danger\" style={{marginLeft: 8}} onClick={this.handleReset}>\n\t\t\t\t\t\t<Icon type=\"undo\"/>\n\t\t\t\t\t\t<Typography.Text style={{color: \"white\"}}><FormattedMessage id={\"reset\"}/></Typography.Text>\n\t\t\t\t\t</Button>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t</Form>;\n\t}\n\n\thandleReset = () => {\n\t\tthis.props.resetForm();\n\t};\n\n\thandleBackButtonClick = () => {\n\t\tconst backButtonUrl = this.props.backButtonUrl;\n\t\tconst navConfig = this.props.navConfig;\n\n\t\tthis.props.history.push(`${backButtonUrl ? backButtonUrl : navConfig.href}`, this.props.match);\n\t};\n}\n\n/**\n *  Default form wrapper, providing boilerplate functionality.\n */\n@withRouter\n@injectIntl\n@observer\nclass DefaultForm extends Component {\n\n\tstatic propTypes = {\n\t\tcrudService: PropTypes.instanceOf(CrudService).isRequired,\n\t\tnavConfig: PropTypes.object,\n\t\tinitialValues: PropTypes.object.isRequired,\n\t\tvalidationSchema: PropTypes.object.isRequired,\n\t\titemId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\t\tnamespace: PropTypes.string.isRequired,\n\t\tprefilledFormValues: PropTypes.object,\n\t\tredirectAfterSubmit: PropTypes.func,\n\t\tbackButtonUrl: PropTypes.string,\n\t};\n\n\tstatic defaultProps = {\n\t\tprefilledFormValues: {},\n\t};\n\n\trender() {\n\t\tconst {namespace, crudService, initialValues, validationSchema, navConfig, backButtonUrl} = this.props;\n\t\tlet record = crudService.item[namespace];\n\n\t\tif (!record) {\n\t\t\treturn <DefaultLoadingPage/>;\n\t\t}\n\t\treturn <Formik\n\t\t\tenableReinitialize\n\t\t\tinitialValues={initialValues}\n\t\t\tvalidationSchema={validationSchema}\n\t\t\tonSubmit={this.handleSubmit}>\n\t\t\t{(form) => <InnerForm {...form} navConfig={navConfig} backButtonUrl={backButtonUrl}>\n\t\t\t\t{this.props.children}\n\t\t\t</InnerForm>}\n\t\t</Formik>;\n\t}\n\n\thandleSubmit = async (values, {setSubmitting}) => {\n\t\tconst {namespace, prefilledFormValues, crudService, navConfig, redirectAfterSubmit} = this.props;\n\t\tsetSubmitting(false);\n\t\ttry {\n\t\t\tlet id = this.props.itemId;\n\n\t\t\tif (id) {\n\t\t\t\tawait crudService.save({id, ...prefilledFormValues, ...values}, namespace);\n\t\t\t} else {\n\t\t\t\tid = await crudService.save({...prefilledFormValues, ...values}, namespace);\n\t\t\t}\n\n\t\t\tif (redirectAfterSubmit) {\n\t\t\t\tredirectAfterSubmit({id});\n\t\t\t} else {\n\t\t\t\t// this.props.history.replace(\"/reload\");\n\t\t\t\t// this.props.history.replace(`${navConfig.href}/${id}`);\n\t\t\t\tthis.props.history.replace(`${navConfig.href}`);\n\t\t\t}\n\t\t\tmessage.success(this.props.intl.formatMessage({id: \"application.success.save\"}));\n\t\t} catch (e) {\n\t\t\tdefaultErrorHandler(this.props, \"application.error.save\", e);\n\t\t}\n\t};\n}\n\nexport default DefaultForm;\n","import * as Yup from \"yup\";\n\nexport const rules = {\n\temailRequired: Yup.string().typeError(\"forms.rules.invalidString\").email(\"forms.rules.invalidEmail\").required(\"forms.rules.requiredField\"),\n\trequired: Yup.mixed().required(\"forms.rules.requiredField\")\n};\n","import React, {Component} from \"react\";\nimport PropTypes from 'prop-types';\nimport {DatePicker, Input, InputNumber, Select, Switch} from \"antd\";\nimport {Field} from \"formik\";\nimport {FlexCol, FlexRow} from \"../layouts/FlexGrid\";\nimport {FormattedMessage} from \"react-intl\";\nimport classNames from \"classnames\";\nimport moment from \"moment\";\n\nclass FormItem extends Component {\n\n\tstatic propTypes = {\n\t\tformControl: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n\t\tlabel: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n\t\tid: PropTypes.string.isRequired,\n\t\taddonBefore: PropTypes.node,\n\t\taddonAfter: PropTypes.node\n\t};\n\n\trender() {\n\t\tconst {label, id, formControl: Cmp, addonBefore, addonAfter, ...rest} = this.props;\n\n\t\treturn <Field name={id}>{({field, form, meta}) => {\n\t\t\tconst errors = form.errors[field.name];\n\t\t\tconst touched = form.touched[field.name];\n\t\t\tconst showErrors = !!errors && (!!touched || form.submitCount > 0);\n\n\t\t\treturn <FlexRow>\n\t\t\t\t<FlexCol className=\"mb-3\">\n\t\t\t\t\t<FlexRow className={classNames({\n\t\t\t\t\t\t\"has-error\": showErrors\n\t\t\t\t\t})}>\n\t\t\t\t\t\t{label && <FlexCol xs={24}>\n\t\t\t\t\t\t\t<label className=\"label\" htmlFor={id}>{label}</label>\n\t\t\t\t\t\t</FlexCol>}\n\t\t\t\t\t\t<FlexCol xs={24}>\n\t\t\t\t\t\t\t{addonBefore || addonAfter ?\n\t\t\t\t\t\t\t\t<Input.Group compact>\n\t\t\t\t\t\t\t\t\t{addonBefore &&\n\t\t\t\t\t\t\t\t\t<div className=\"ant-input-group-addon\">\n\t\t\t\t\t\t\t\t\t\t{addonBefore}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<Cmp id={id} {...field} form={form} {...rest} />\n\t\t\t\t\t\t\t\t\t{addonAfter &&\n\t\t\t\t\t\t\t\t\t<div className=\"ant-input-group-addon\">\n\t\t\t\t\t\t\t\t\t\t{addonAfter}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</Input.Group> :\n\t\t\t\t\t\t\t\t<Cmp id={id} {...field} form={form} meta={meta} {...rest}/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t</FlexRow>\n\t\t\t\t\t<FlexRow className={classNames({\n\t\t\t\t\t\t\"has-error has-feedback\": showErrors\n\t\t\t\t\t})}>\n\t\t\t\t\t\t{showErrors && <FlexCol xs={24}>\n\t\t\t\t\t\t\t<span className=\"ant-form-explain\"><FormattedMessage id={errors}/></span>\n\t\t\t\t\t\t</FlexCol>}\n\t\t\t\t\t</FlexRow>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>;\n\t\t}}</Field>;\n\t}\n}\n\nexport const FormItemInput = (props) => {\n\treturn <FormItem formControl={({form, ...rest}) => {\n\t\treturn <Input {...rest} />;\n\t}} {...props} />;\n};\n\nexport const FormItemInputNumber = (props) => {\n\treturn <FormItem formControl={({onChange, form, ...rest}) => {\n\t\treturn <InputNumber\n\t\t\t{...rest}\n\t\t\tonChange={(value) => {\n\t\t\t\tform.setFieldValue(props.id, value);\n\t\t\t}}\n\t\t/>;\n\t}} {...props} />;\n};\n\nexport const FormItemDatePicker = (props) => {\n\tconst datePickerRef = React.createRef();\n\treturn <FormItem formControl={({onChange, form, onBlur, value, ...rest}) => {\n\t\treturn <DatePicker\n\t\t\t{...rest}\n\t\t\tref={datePickerRef}\n\t\t\tonBlur={(evt) => {\n\t\t\t\tif (!datePickerRef.current.picker.state.open) {\n\t\t\t\t\tevt.target.name = props.id;\n\t\t\t\t\tevt.target.id = props.id;\n\t\t\t\t\tonBlur(evt);\n\t\t\t\t}\n\t\t\t}}\n\t\t\tonChange={async (value) => {\n\t\t\t\tawait form.setFieldValue(props.id, value ? value.toISOString() : value);\n\t\t\t\tdatePickerRef.current.blur();\n\t\t\t}}\n\t\t\tvalue={value ? moment(value) : undefined}\n\t\t/>;\n\t}} {...props} />;\n};\n\nexport const FormItemSelect = (props) => {\n\treturn <FormItem formControl={({onChange, onBlur, form, ...rest}) => {\n\t\treturn <Select\n\t\t\t{...rest}\n\t\t\tonBlur={() => {\n\t\t\t\tform.setFieldTouched(props.id, true);\n\t\t\t}}\n\t\t\tonChange={(value) => {\n\t\t\t\tform.setFieldValue(props.id, value);\n\t\t\t}}\n\t\t/>;\n\t}} {...props} />;\n};\n\nexport const FormItemSwitch = (props) => {\n\treturn <FormItem formControl={({onChange, value, form, ...rest}) => {\n\t\treturn <Switch {...rest}\n\t\t\t\t\t   checked={!!value}\n\t\t\t\t\t   onChange={(value) => {\n\t\t\t\t\t\t   form.setFieldValue(props.id, value);\n\t\t\t\t\t   }}\n\t\t\t\t\t   value={!!value}\n\t\t/>\n\t}} {...props} />;\n};\n\nexport const FormItemClear = ({clearedValue, ...props}) => {\n\treturn <FormItem formControl={({onChange, checked, value, form, meta, ...rest}) => {\n\t\treturn <Switch {...rest}\n\t\t\t\t\t   defaultChecked={false}\n\t\t\t\t\t   onChange={(value) => {\n\t\t\t\t\t\t   if (value) {\n\t\t\t\t\t\t\t   form.setFieldValue(props.id, clearedValue);\n\t\t\t\t\t\t   } else {\n\t\t\t\t\t\t\t   form.setFieldValue(props.id, meta.initialValue);\n\t\t\t\t\t\t   }\n\t\t\t\t\t   }}\n\t\t/>;\n\t}} {...props} />;\n};\n","import React, {Component} from 'react';\nimport {observer} from \"mobx-react\";\nimport {FormattedMessage} from \"react-intl\";\nimport {rules} from \"../../base/utilities/forms\";\nimport {FormItemInput, FormItemSwitch} from \"../../base/components/inputs\";\nimport {FlexCol, FlexRow} from \"../../base/components/layouts/FlexGrid\";\nimport * as Yup from \"yup\";\n\nexport const counterpartyValidation = Yup.object().shape({\n\tcompany: rules.required,\n\taddress: rules.required,\n\taccountablePersonTitle: rules.required,\n\taccountablePerson: rules.required,\n});\n\nexport default\n@observer\nclass CounterpartyFormFields extends Component {\n\trender() {\n\t\treturn <>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"company\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.counterparties.company\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemSwitch\n\t\t\t\t\t\tid=\"fromEu\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.counterparties.fromEu\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"address\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.counterparties.address\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"accountablePersonTitle\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.counterparties.accountablePersonTitle\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"accountablePerson\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.counterparties.accountablePerson\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"uic\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.counterparties.uic\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"vatNumber\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.counterparties.vatNumber\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t</>;\n\t}\n};\n","import React, {Component} from \"react\";\nimport {Button, Modal} from \"antd\";\nimport {inject, observer} from \"mobx-react\";\nimport {FormattedMessage} from \"react-intl\";\nimport PropTypes from \"prop-types\";\nimport {concat, uniq} from \"lodash\";\n\nexport default\n@inject(\"context\")\n@observer\nclass PageTutorial extends Component {\n\n\tstatic propTypes = {\n\t\tnamespace: PropTypes.string.isRequired,\n\t\ttitleId: PropTypes.string.isRequired,\n\t\tchildren: PropTypes.any.isRequired,\n\t};\n\n\tstatic defaultProps = {};\n\n\tcomponentDidMount() {\n\t\tthis.props.context.uiService.setModal(this.props.namespace, this.props.titleId, {visible: true});\n\t}\n\n\trender() {\n\t\tconst {namespace, context, titleId} = this.props;\n\t\tconst {uiService, appService} = context;\n\t\tconst userOptedOut = appService.userProfile.optedOutTutorials && appService.userProfile.optedOutTutorials.indexOf(`${titleId}`) > -1;\n\t\tconst visible = uiService.modals[namespace] && uiService.modals[namespace][titleId] && uiService.modals[namespace][titleId].visible && !userOptedOut;\n\n\t\treturn <Modal visible={visible}\n\t\t\t\t\t  title={<FormattedMessage id={titleId}/>}\n\t\t\t\t\t  onOk={this.handleOkClicked}\n\t\t\t\t\t  onCancel={this.handleOkClicked}\n\t\t\t\t\t  footer={[\n\t\t\t\t\t\t  <Button key=\"submit\" type=\"primary\" onClick={this.handleOkClicked}>\n\t\t\t\t\t\t\t  <FormattedMessage id=\"ok\"/>\n\t\t\t\t\t\t  </Button>,\n\t\t\t\t\t\t  <Button key=\"optOut\" type=\"danger\" onClick={this.handleOptOutClicked}>\n\t\t\t\t\t\t\t  <FormattedMessage id=\"tutorials.buttons.optOut\"/>\n\t\t\t\t\t\t  </Button>\n\t\t\t\t\t  ]}\n\t\t>\n\t\t\t{this.props.children}\n\t\t</Modal>;\n\t}\n\n\thandleOkClicked = () => {\n\t\tthis.props.context.uiService.setModal(this.props.namespace, this.props.titleId, {visible: false});\n\t};\n\n\thandleOptOutClicked = () => {\n\t\tthis.props.context.appService.updateUserProfile({\n\t\t\toptedOutTutorials: uniq(concat(this.props.context.appService.userProfile.optedOutTutorials, [`${this.props.titleId}`])),\n\t\t});\n\t};\n};\n","import React, {Component} from \"react\";\nimport {inject, observer} from \"mobx-react\";\nimport {withRouter} from \"react-router-dom\";\nimport {counterparties} from \"../../configurations/navigation\";\nimport DefaultEditPage from \"../shared/crud/DefaultEdit\";\nimport DefaultForm from \"../shared/crud/DefaultForm\";\nimport CounterpartyFormFields, {counterpartyValidation} from \"./FormFields\";\nimport {FormattedMessage} from \"react-intl\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\n\nexport default\n@inject(\"counterpartyService\")\n@withRouter\n@observer\nclass CounterpartyEditPage extends Component {\n\trender() {\n\t\tconst namespace = \"counterpartyEditPage\";\n\t\tconst itemId = parseInt(this.props.match.params.counterpartyId, 10);\n\t\tconst {counterpartyService} = this.props;\n\t\tlet record = counterpartyService.item[namespace];\n\n\t\tlet initialValues = {};\n\t\tlet titleParams = {};\n\n\t\tif (record) {\n\t\t\tinitialValues = {\n\t\t\t\tcompany: record.company,\n\t\t\t\tfromEu: record.fromEu,\n\t\t\t\taddress: record.address,\n\t\t\t\taccountablePersonTitle: record.accountablePersonTitle,\n\t\t\t\taccountablePerson: record.accountablePerson,\n\t\t\t\tuic: record.uic,\n\t\t\t\tvatNumber: record.vatNumber,\n\t\t\t};\n\n\t\t\ttitleParams = {\n\t\t\t\tname: record.company\n\t\t\t};\n\t\t}\n\n\t\treturn <DefaultEditPage\n\t\t\tcrudService={counterpartyService}\n\t\t\ttitleId=\"components.counterparties.edit.title\"\n\t\t\ttitleParams={titleParams}\n\t\t\titemId={itemId}\n\t\t\tcrumbs={[counterparties]}\n\t\t\tnamespace={namespace}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.counterparties.edit\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.counterparties.edit\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<DefaultForm\n\t\t\t\tcrudService={counterpartyService}\n\t\t\t\tnavConfig={counterparties}\n\t\t\t\titemId={itemId}\n\t\t\t\tnamespace={namespace}\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={counterpartyValidation}>\n\t\t\t\t<CounterpartyFormFields/>\n\t\t\t</DefaultForm>\n\t\t</DefaultEditPage>;\n\t}\n}\n","import React, {Component} from \"react\";\nimport {observer} from \"mobx-react\";\nimport {Card} from \"antd\";\nimport {injectIntl} from \"react-intl\";\nimport DefaultBreadcrumbs from \"../../../base/components/layouts/DefaultBreadcrumbs\";\nimport {dashboard} from \"../../../configurations/navigation\";\nimport PropTypes from \"prop-types\";\nimport CrudService from \"../../../base/services/CrudService\";\nimport {FlexCol, FlexContainer, FlexRow} from \"../../../base/components/layouts/FlexGrid\";\nimport {Helmet} from \"react-helmet-async\";\n\nexport default\n@injectIntl\n@observer\nclass DefaultCreatePage extends Component {\n\tstatic propTypes = {\n\t\tcrudService: PropTypes.instanceOf(CrudService).isRequired,\n\t\ttitleId: PropTypes.string.isRequired,\n\t\ttitleParams: PropTypes.object.isRequired,\n\t\tcrumbs: PropTypes.array.isRequired,\n\t\tnamespace: PropTypes.string.isRequired,\n\t};\n\n\tstatic defaultProps = {\n\t\tcrumbs: [],\n\t\ttitleParams: {},\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.props.crudService.setItem({}, this.props.namespace);\n\t}\n\n\trender() {\n\t\tconst title = this.props.intl.formatMessage({id: this.props.titleId}, this.props.titleParams);\n\n\t\treturn <FlexContainer>\n\t\t\t<Helmet>\n\t\t\t\t<title>{title} - {this.props.intl.formatMessage({id: \"application.meta.title\"})}</title>\n\t\t\t</Helmet>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<DefaultBreadcrumbs crumbs={[dashboard, ...(this.props.crumbs), {title}]}/>\n\t\t\t\t\t<Card style={{margin: \"2rem 0\"}} title={title} bordered={false}>\n\t\t\t\t\t\t{this.props.children}\n\t\t\t\t\t</Card>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t</FlexContainer>;\n\t}\n}\n","import React, {Component} from \"react\";\nimport {inject, observer} from \"mobx-react\";\nimport DefaultCreatePage from \"../shared/crud/DefaultCreate\";\nimport {counterparties} from \"../../configurations/navigation\";\nimport DefaultForm from \"../shared/crud/DefaultForm\";\nimport CounterpartyFormFields, {counterpartyValidation} from \"./FormFields\";\nimport {FormattedMessage} from \"react-intl\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\n\nexport default\n@inject(\"counterpartyService\")\n@observer\nclass CounterpartyCreatePage extends Component {\n\trender() {\n\t\tconst namespace = \"counterpartyCreatePage\";\n\t\tconst {counterpartyService} = this.props;\n\n\t\treturn <DefaultCreatePage\n\t\t\tcrudService={counterpartyService}\n\t\t\ttitleId=\"components.counterparties.create.title\"\n\t\t\tcrumbs={[counterparties]}\n\t\t\tnamespace={namespace}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.counterparties.create\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.counterparties.create\" values={formattingFunctions} />\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions} />\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions} />\n\t\t\t</PageTutorial>\n\t\t\t<DefaultForm\n\t\t\t\tcrudService={counterpartyService}\n\t\t\t\tnavConfig={counterparties}\n\t\t\t\tnamespace={namespace}\n\t\t\t\tinitialValues={{}}\n\t\t\t\tvalidationSchema={counterpartyValidation}>\n\t\t\t\t<CounterpartyFormFields/>\n\t\t\t</DefaultForm>\n\t\t</DefaultCreatePage>;\n\t}\n}\n","import React from 'react';\nimport {Layout} from \"antd\";\nimport PropTypes from \"prop-types\";\n\n/**\n * Default layout footer.\n */\nexport const DefaultFooter = (props) => {\n\treturn <Layout.Footer style={{textAlign: 'center'}}>{props.message}</Layout.Footer>;\n};\n\nDefaultFooter.propTypes = {\n\tmessage: PropTypes.node\n};\n\nDefaultFooter.defaultProps = {\n\tmessage: <span>Created with {\"\\u2764\"} by <a href=\"https://digidworks.com\" target=\"_blank\" rel=\"noopener noreferrer\">DigidWorks</a> {new Date().getFullYear()}</span>\n};\n","import React, {Component} from 'react';\nimport {Link, withRouter} from \"react-router-dom\";\nimport {Icon, Menu} from \"antd\";\nimport {inject, observer} from \"mobx-react\";\nimport PropTypes from \"prop-types\";\nimport {FormattedMessage} from \"react-intl\";\nimport {isEmpty} from \"lodash\";\n\n/**\n * Default menu.\n */\n@inject(\"context\")\n@withRouter\n@observer\nclass DefaultMenu extends Component {\n\tstatic propTypes = {\n\t\tmenuTheme: PropTypes.string.isRequired,\n\t\tmenuMode: PropTypes.string.isRequired,\n\t\tmenuProps: PropTypes.object,\n\t\tmenuItemProps: PropTypes.object,\n\t};\n\n\tstatic defaultProps = {\n\t\tmenuProps: {},\n\t\tmenuItemProps: {},\n\t\tmenuTheme: \"dark\",\n\t\tmenuMode: \"inline\",\n\t};\n\n\trender() {\n\t\tconst {menuTheme, menuMode, menuProps, menuItemProps} = this.props;\n\t\tconst path = this.props.location.pathname;\n\t\tconst service = this.props.context.appService;\n\n\t\tconst menuItems = service.sidebarMenuItems;\n\n\t\tconst menuSelectedKeys = [];\n\t\tmenuItems.forEach(item => {\n\t\t\tif (path.indexOf(item.href) === 0) {\n\t\t\t\tmenuSelectedKeys.push(item.id);\n\t\t\t}\n\t\t});\n\n\t\treturn <Menu theme={menuTheme} mode={menuMode} selectedKeys={menuSelectedKeys} {...menuProps}>\n\t\t\t{this.renderMenuItems({menuItems, menuItemProps})}\n\t\t</Menu>;\n\t}\n\n\trenderMenuItems = ({menuItems, menuItemProps}) => {\n\t\tconst service = this.props.context.appService;\n\n\t\treturn menuItems.map(item => {\n\t\t\tif (item.auth && !service.isAuthenticated) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (!isEmpty(item.items)) {\n\t\t\t\treturn <Menu.SubMenu key={item.id} title={this.renderMenuItemLabel(item)}>\n\t\t\t\t\t{this.renderMenuItems({menuItems: item.items, menuItemProps})}\n\t\t\t\t</Menu.SubMenu>\n\t\t\t}\n\n\t\t\treturn <Menu.Item key={item.id} {...menuItemProps}>\n\t\t\t\t<Link to={item.href}>\n\t\t\t\t\t{this.renderMenuItemLabel(item)}\n\t\t\t\t</Link>\n\t\t\t</Menu.Item>;\n\t\t});\n\t};\n\n\trenderMenuItemLabel = (item) => {\n\t\treturn <>{item.icon && <Icon type={item.icon}/>}<FormattedMessage id={item.titleId}/></>;\n\t};\n}\n\nexport default DefaultMenu;\n","import React, {Component} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport {Icon} from \"antd\";\nimport classNames from \"classnames\";\n\nexport default class DefaultLogoutButton extends Component {\n\tstatic propTypes = {\n\t\ticonProps: PropTypes.object,\n\t\tlogoutUrl: PropTypes.string,\n\t};\n\n\tstatic defaultProps = {\n\t\tlogoutUrl: \"/logout\",\n\t};\n\n\trender() {\n\t\tconst {logoutUrl, iconProps, className, ...rest} = this.props;\n\t\treturn <Link className={classNames(\"logout\", {className})} to={logoutUrl} {...rest}><Icon type=\"poweroff\" {...iconProps}/></Link>;\n\t}\n}\n","import {Tooltip} from \"antd\";\nimport React, {Component} from \"react\";\n\nexport default class TutorialTip extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tvisible: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.addEventListener(\"mousedown\", this.handleDocumentClick);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdocument.removeEventListener(\"mousedown\", this.handleDocumentClick);\n\t}\n\n\trender() {\n\t\treturn <Tooltip\n\t\t\tref={this.setTooltipRef}\n\t\t\tvisible={this.state.visible}\n\t\t\tonVisibleChange={this.handleVisibleChange}\n\t\t\t{...this.props} />;\n\t}\n\n\tsetTooltipRef = (node) => {\n\t\tthis.tooltipRef = node;\n\t};\n\n\thandleDocumentClick = (event) => {\n\t\tif (this.tooltipRef && this.tooltipRef.getPopupDomNode && this.tooltipRef.getPopupDomNode() && !this.tooltipRef.getPopupDomNode().contains(event.target)) {\n\t\t\tthis.setState({visible: false});\n\t\t}\n\t};\n\n\thandleVisibleChange = (visible) => {\n\t\tthis.setState({visible});\n\t};\n}\n","import React, {Component} from 'react';\nimport {Link} from \"react-router-dom\";\nimport {Icon, Layout, Select, Tooltip, Typography} from \"antd\";\nimport digidWorksLogo from \"../../base/assets/images/digid-works-logo.png\";\nimport {DefaultFooter} from \"../../base/components/layouts/DefaultFooter\";\nimport DefaultMenu from \"../../base/components/menus/DefaultMenu\";\nimport {FormattedMessage, injectIntl} from \"react-intl\";\nimport DefaultLogoutButton from \"../../base/components/auth/DefaultLogoutButton\";\nimport {inject, observer} from \"mobx-react\";\nimport {availableCurrencies, availableLocales} from \"../../localizations\";\nimport {FlexCol, FlexRow} from \"../../base/components/layouts/FlexGrid\";\nimport TutorialTip from \"../../base/components/data-display/TutorialTip\";\n\n/**\n * Default layout.\n */\n@inject(\"context\")\n@injectIntl\n@observer\nclass MenusLayout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tcollapsed: false\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {collapsed} = this.state;\n\t\tconst {intl} = this.props;\n\n\t\treturn <Layout style={{minHeight: \"100%\"}}>\n\t\t\t<Layout.Sider\n\t\t\t\tcollapsedWidth=\"0\"\n\t\t\t\ttrigger={null}\n\t\t\t\tcollapsible\n\t\t\t\tcollapsed={collapsed}\n\t\t\t>\n\t\t\t\t<Link style={{display: \"block\"}} to=\"/\">\n\t\t\t\t\t<Typography.Text style={{color: \"#74fe38\", fontSize: \"3rem\", fontFamily: \"Mansalva\", lineHeight: 1}}>\n\t\t\t\t\t\t<FormattedMessage id=\"application.title\"/>\n\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t<div style={{textAlign: \"right\"}}>\n\t\t\t\t\t\t<Typography.Text strong style={{color: \"white\", fontSize: \"1.2rem\", paddingRight: \"5px\"}}>\n\t\t\t\t\t\t\t<FormattedMessage id=\"by\"/>\n\t\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t\t<img style={{maxWidth: \"120px\"}}\n\t\t\t\t\t\t\t src={digidWorksLogo} title={intl.formatMessage({id: \"application.digid.logo.title\"})} alt={intl.formatMessage({id: \"application.digid.logo.title\"})}/>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t\t<DefaultMenu menuProps={{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tmarginTop: \"20px\"\n\t\t\t\t\t}\n\t\t\t\t}}/>\n\t\t\t</Layout.Sider>\n\t\t\t<Layout>\n\t\t\t\t<Layout.Header>\n\t\t\t\t\t<FlexRow>\n\t\t\t\t\t\t<FlexCol className=\"d-flex\">\n\t\t\t\t\t\t\t<Tooltip title={<FormattedMessage id=\"tooltips.sidebarMenuTrigger\"/>}>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ttype={collapsed ? 'menu-unfold' : 'menu-fold'}\n\t\t\t\t\t\t\t\t\tonClick={this.handleSideMenuTriggerClick}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tfontSize: \"25px\",\n\t\t\t\t\t\t\t\t\t\talignSelf: \"center\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t<FlexCol className=\"d-flex ml-auto\" xs=\"auto\">\n\t\t\t\t\t\t\t<TutorialTip title={<FormattedMessage id=\"tooltips.websiteCurrency\"/>} placement=\"bottom\">\n\t\t\t\t\t\t\t\t<Select className=\"borderless-select\"\n\t\t\t\t\t\t\t\t\t\tdefaultValue={this.props.context.appService.settings.currency}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleCurrencySelect}\n\t\t\t\t\t\t\t\t\t\tdropdownMatchSelectWidth={false}>\n\t\t\t\t\t\t\t\t\t{Object.entries(availableCurrencies).map(([key, value]) => <Select.Option key={key} value={key}><FormattedMessage id={value}/></Select.Option>)}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</TutorialTip>\n\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t<FlexCol className=\"d-flex\" xs=\"auto\">\n\t\t\t\t\t\t\t<TutorialTip title={<FormattedMessage id=\"tooltips.websiteLocale\"/>} placement=\"bottom\">\n\t\t\t\t\t\t\t\t<Select className=\"borderless-select\"\n\t\t\t\t\t\t\t\t\t\tdefaultValue={this.props.context.appService.settings.locale}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleLocaleSelect}\n\t\t\t\t\t\t\t\t\t\tdropdownMatchSelectWidth={false}>\n\t\t\t\t\t\t\t\t\t{Object.entries(availableLocales).map(([key, value]) => <Select.Option key={key} value={key}><FormattedMessage id={value}/></Select.Option>)}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</TutorialTip>\n\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t<FlexCol className=\"d-flex\" xs=\"auto\">\n\t\t\t\t\t\t\t<TutorialTip title={<FormattedMessage id=\"tooltips.logoutButton\"/>} placement=\"bottomRight\">\n\t\t\t\t\t\t\t\t<DefaultLogoutButton style={{fontSize: \"25px\", alignSelf: \"center\",}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t title={this.props.intl.formatMessage({id: \"logout\"})}/>\n\t\t\t\t\t\t\t</TutorialTip>\n\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t</FlexRow>\n\t\t\t\t</Layout.Header>\n\t\t\t\t<Layout.Content style={{padding: \"2rem\"}}>\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</Layout.Content>\n\t\t\t\t<DefaultFooter/>\n\t\t\t</Layout>\n\t\t</Layout>\n\t}\n\n\thandleSideMenuTriggerClick = () => {\n\t\tthis.setState({collapsed: !this.state.collapsed});\n\t};\n\n\thandleCurrencySelect = (value) => {\n\t\tthis.props.context.appService.changeSetting(\"currency\", value);\n\t};\n\n\thandleLocaleSelect = (value) => {\n\t\tthis.props.context.appService.changeSetting(\"locale\", value);\n\t};\n}\n\nexport default MenusLayout;\n","import {observer} from \"mobx-react\";\nimport React, {Component} from \"react\";\nimport {Card} from \"antd\";\nimport DefaultBreadcrumbs from \"../../../base/components/layouts/DefaultBreadcrumbs\";\nimport {dashboard} from \"../../../configurations/navigation\";\nimport {injectIntl} from \"react-intl\";\nimport PropTypes from \"prop-types\";\nimport {Helmet} from \"react-helmet-async\";\nimport {FlexContainer} from \"../../../base/components/layouts/FlexGrid\";\n\nexport default\n@injectIntl\n@observer\nclass DefaultListPage extends Component {\n\tstatic propTypes = {\n\t\ttitleId: PropTypes.string.isRequired,\n\t\ttitleParams: PropTypes.object.isRequired,\n\t\tcrumbs: PropTypes.arrayOf(PropTypes.object).isRequired,\n\t};\n\n\tstatic defaultProps = {\n\t\tcrumbs: [],\n\t\ttitleParams: {},\n\t};\n\n\trender() {\n\t\tconst {titleId, crumbs} = this.props;\n\n\t\tconst title = this.props.intl.formatMessage({id: titleId}, this.props.titleParams);\n\n\t\treturn <FlexContainer>\n\t\t\t<Helmet>\n\t\t\t\t<title>{title} - {this.props.intl.formatMessage({id: \"application.meta.title\"})}</title>\n\t\t\t</Helmet>\n\t\t\t<DefaultBreadcrumbs crumbs={[dashboard, ...(crumbs), {title}]}/>\n\t\t\t<Card style={{margin: \"2rem 0\"}} title={title} bordered={false}>\n\t\t\t\t{this.props.children}\n\t\t\t</Card>\n\t\t</FlexContainer>;\n\t}\n}\n","import React, {Component} from \"react\";\nimport {Button, Icon, Input, message, Popconfirm, Table} from \"antd\";\nimport {FormattedMessage, injectIntl} from \"react-intl\";\nimport {debounce} from \"lodash\";\nimport PropTypes from \"prop-types\";\nimport CrudService from \"../../../base/services/CrudService\";\nimport {observer} from \"mobx-react\";\nimport {withRouter} from \"react-router-dom\";\nimport {defaultErrorHandler} from \"../../../base/errors/defaultErrorHandler\";\nimport {FlexCol, FlexRow} from \"../../../base/components/layouts/FlexGrid\";\n\nexport default\n@withRouter\n@injectIntl\n@observer\nclass DefaultTable extends Component {\n\tstatic propTypes = {\n\t\tcrudService: PropTypes.instanceOf(CrudService).isRequired,\n\t\tnavConfig: PropTypes.object.isRequired,\n\t\tcolumns: PropTypes.arrayOf(PropTypes.object).isRequired,\n\t\tsearchFields: PropTypes.arrayOf(PropTypes.string).isRequired,\n\t\tnamespace: PropTypes.string.isRequired,\n\t\tadditionalActions: PropTypes.arrayOf(PropTypes.elementType).isRequired,\n\t\ttableProps: PropTypes.object,\n\t};\n\n\tstatic defaultProps = {\n\t\tadditionalActions: [],\n\t\ttableProps: {},\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tprops.crudService.createNamespace(props.namespace);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.crudService.resetNamespaceData(this.props.namespace);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.reloadItems();\n\t}\n\n\trender() {\n\t\tconst {crudService, navConfig, namespace, additionalActions, tableProps} = this.props;\n\t\tconst sortData = crudService.sorter[namespace];\n\n\t\tconst actionsColumn = {\n\t\t\ttitle: () => <FormattedMessage id=\"application.list.default.actions\"/>,\n\t\t\tkey: \"actions\",\n\t\t\talign: \"right\",\n\t\t\trender: (text, record) => {\n\t\t\t\treturn <FlexRow>\n\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t<Button.Group className=\"justify-content-end\" style={{display: \"flex\"}}>\n\t\t\t\t\t\t\t{additionalActions.length > 0 && additionalActions.map((ActionCmp, i) => <ActionCmp key={i} {...{text, record}}/>)}\n\t\t\t\t\t\t\t<Button onClick={() => this.props.history.push(`${navConfig.href}/${record.id}`)}>\n\t\t\t\t\t\t\t\t<Icon type=\"edit\"/>\n\t\t\t\t\t\t\t\t<FormattedMessage id=\"edit\" tagName=\"span\"/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Popconfirm title={<FormattedMessage id=\"application.list.default.confirmDelete\"/>}\n\t\t\t\t\t\t\t\t\t\tokText={<FormattedMessage id=\"ok\"/>}\n\t\t\t\t\t\t\t\t\t\tcancelText={<FormattedMessage id=\"cancel\"/>}\n\t\t\t\t\t\t\t\t\t\tonConfirm={() => this.handleDeleteConfirmClick(record.id)}>\n\t\t\t\t\t\t\t\t<Button type=\"danger\">\n\t\t\t\t\t\t\t\t\t<Icon type=\"delete\"/>\n\t\t\t\t\t\t\t\t\t<FormattedMessage id=\"delete\" tagName=\"span\"/>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Popconfirm>\n\t\t\t\t\t\t</Button.Group>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t</FlexRow>\n\t\t\t}\n\t\t};\n\n\t\tconst columns = [...this.props.columns, actionsColumn];\n\t\tcolumns.forEach(col => {\n\t\t\tif (col.dataIndex && col.dataIndex === sortData.field) {\n\t\t\t\tcol.sortOrder = sortData.order;\n\t\t\t}\n\t\t});\n\n\t\treturn <>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<Button onClick={() => this.props.history.push(`${navConfig.href}/create`)} type=\"primary\">\n\t\t\t\t\t\t<FormattedMessage id=\"application.list.default.addNew\" tagName=\"span\"/>\n\t\t\t\t\t</Button>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<Input.Search\n\t\t\t\t\t\tplaceholder={this.props.intl.formatMessage({id: \"application.omnisearch.default.placeholder\"})}\n\t\t\t\t\t\tonSearch={this.handleSearchChange}\n\t\t\t\t\t\tonChange={this.handleSearchChange}\n\t\t\t\t\t\tvalue={crudService.search[namespace].value}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<Table style={{overflowX: \"auto\", marginTop: \"10px\"}}\n\t\t\t\t\t\t   rowKey=\"id\"\n\t\t\t\t\t\t   columns={columns}\n\t\t\t\t\t\t   dataSource={crudService.itemList[namespace]}\n\t\t\t\t\t\t   pagination={{...crudService.pagination[namespace], position: \"both\"}}\n\t\t\t\t\t\t   loading={crudService.isLoading}\n\t\t\t\t\t\t   onChange={this.handleTableChange}\n\t\t\t\t\t\t   {...tableProps}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t</>;\n\t}\n\n\thandleTableChange = (pagination, filters, sorter) => {\n\t\tconst crudService = this.props.crudService;\n\t\tconst namespace = this.props.namespace;\n\n\t\tcrudService.setPagination(pagination, namespace);\n\t\tcrudService.setSorter(sorter, namespace);\n\n\t\tthis.reloadItems();\n\t};\n\n\thandleSearchChange = (...args) => {\n\t\tconst value = args.length === 2 ? args[1].currentTarget.value : args[0].currentTarget.value;\n\n\t\tthis.props.crudService.setSearch({\n\t\t\tfields: this.props.searchFields,\n\t\t\tvalue\n\t\t}, this.props.namespace);\n\n\t\tthis.debouncedReloadItems();\n\t};\n\n\thandleDeleteConfirmClick = async (id) => {\n\t\tconst crudService = this.props.crudService;\n\n\t\ttry {\n\t\t\tawait crudService.delete(id, this.props.namespace);\n\t\t\tawait this.reloadItems();\n\t\t\tmessage.success(this.props.intl.formatMessage({id: \"application.success.delete\"}));\n\t\t} catch (e) {\n\t\t\tdefaultErrorHandler(this.props, \"application.error.delete\", e);\n\t\t}\n\t};\n\n\treloadItems = async () => {\n\t\ttry {\n\t\t\tawait this.props.crudService.fetchItemList(this.props.namespace);\n\t\t} catch (e) {\n\t\t\tdefaultErrorHandler(this.props, \"application.error.get\", e);\n\t\t}\n\t};\n\n\tdebouncedReloadItems = debounce(this.reloadItems, 250);\n}\n","import {inject} from \"mobx-react\";\nimport React, {Component} from \"react\";\nimport {counterparties} from \"../../configurations/navigation\";\nimport {FormattedMessage} from \"react-intl\";\nimport DefaultListPage from \"../shared/crud/DefaultList\";\nimport DefaultTable from \"../shared/crud/DefaultTable\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\n\nexport default\n@inject(\"counterpartyService\")\nclass CounterpartyListPage extends Component {\n\trender() {\n\t\tconst namespace = \"counterpartyListPage\";\n\t\tconst service = this.props.counterpartyService;\n\t\tconst titleId = \"components.counterparties.list.title\";\n\t\tconst searchFields = [\n\t\t\t\"company\",\n\t\t\t\"address\",\n\t\t\t\"accountablePerson\",\n\t\t\t\"accountablePersonTitle\",\n\t\t\t\"uic\",\n\t\t\t\"vatNumber\",\n\t\t];\n\t\tconst columns = [\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.counterparties.company\"/>,\n\t\t\t\tdataIndex: \"company\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.counterparties.address\"/>,\n\t\t\t\tdataIndex: \"address\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.counterparties.accountablePerson\"/>,\n\t\t\t\tdataIndex: \"accountablePerson\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.counterparties.accountablePersonTitle\"/>,\n\t\t\t\tdataIndex: \"accountablePersonTitle\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.counterparties.uic\"/>,\n\t\t\t\tdataIndex: \"uic\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.counterparties.vatNumber\"/>,\n\t\t\t\tdataIndex: \"vatNumber\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t];\n\n\t\treturn <DefaultListPage\n\t\t\ttitleId={titleId}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.counterparties.list\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.counterparties.list\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.listPage\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<DefaultTable\n\t\t\t\tnamespace={namespace}\n\t\t\t\tnavConfig={counterparties}\n\t\t\t\tcrudService={service}\n\t\t\t\tcolumns={columns}\n\t\t\t\tsearchFields={searchFields}\n\t\t\t/>\n\t\t</DefaultListPage>;\n\t}\n}\n","export const mediumDateFormat = {\n\tyear: \"numeric\",\n\tmonth: \"2-digit\",\n\tday: \"2-digit\"\n};\n\nexport const longDateFormat = {\n\tyear: \"numeric\",\n\tmonth: \"long\",\n\tday: \"2-digit\"\n};\n\nexport const defaultDateFormat = mediumDateFormat;\n","import React, {Component} from \"react\";\nimport {observer} from \"mobx-react\";\nimport PropTypes from \"prop-types\";\nimport CrudService from \"../../services/CrudService\";\nimport DefaultSpinner from \"./DefaultSpinner\";\n\nexport default\n@observer\nclass RelationField extends Component {\n\n\tstatic propTypes = {\n\t\tcrudService: PropTypes.instanceOf(CrudService).isRequired,\n\t\tnamespace: PropTypes.string.isRequired,\n\t\titemKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\t\tdisplayProp: PropTypes.string.isRequired\n\t};\n\n\trender() {\n\t\tconst {displayProp, itemKey, namespace, crudService} = this.props;\n\t\tconst itemMap = crudService.itemMap[namespace];\n\t\tif (!itemMap || !itemMap[itemKey]) {\n\t\t\treturn <DefaultSpinner/>;\n\t\t}\n\n\t\treturn itemMap[itemKey][displayProp];\n\t}\n};\n","import React from \"react\";\nimport {Icon} from \"antd\";\nimport PropTypes from \"prop-types\";\n\nconst TableArrowExpandIcon = (props) => {\n\tconst {expanded} = props;\n\n\tif (expanded) {\n\t\treturn <Icon type=\"caret-down\"/>;\n\t}\n\n\treturn <Icon type=\"caret-right\"/>;\n};\n\nTableArrowExpandIcon.propTypes = {\n\texpanded: PropTypes.bool.isRequired,\n};\n\nTableArrowExpandIcon.defaultProps = {\n\texpanded: false\n};\n\nexport default TableArrowExpandIcon;\n","import {inject, observer} from \"mobx-react\";\nimport React, {Component} from \"react\";\nimport {buildOneLevelNestedRelationNavConfig, invoiceLines} from \"../../configurations/navigation\";\nimport {FormattedMessage, FormattedNumber} from \"react-intl\";\nimport DefaultTable from \"../shared/crud/DefaultTable\";\nimport PropTypes from \"prop-types\";\nimport {intToCurrencyFormatter} from \"../../base/utilities\";\n\nexport default\n@inject(\"context\", \"invoiceLineService\")\n@observer\nclass InvoiceLineEmbeddedListPage extends Component {\n\tstatic propTypes = {\n\t\tinvoiceId: PropTypes.number.isRequired,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst namespace = this.namespace;\n\t\tconst invoiceId = this.props.invoiceId;\n\t\tconst service = this.props.invoiceLineService;\n\t\tservice.createNamespace(namespace);\n\t\tservice.changeFilter(\"invoice_id\", {\n\t\t\ttype: \"=\",\n\t\t\tfield: \"invoice_id\",\n\t\t\tvalues: [invoiceId]\n\t\t}, namespace);\n\t}\n\n\trender() {\n\t\tconst namespace = this.namespace;\n\t\tconst invoiceId = this.props.invoiceId;\n\t\tconst service = this.props.invoiceLineService;\n\t\tconst searchFields = [\n\t\t\t\"description\",\n\t\t\t\"measure\",\n\t\t\t\"quantity\",\n\t\t\t\"unitPrice\",\n\t\t];\n\t\tconst currency = this.props.context.appService.settings.currency;\n\t\tconst columns = [\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.invoiceLines.description\"/>,\n\t\t\t\tdataIndex: \"description\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.invoiceLines.measure\"/>,\n\t\t\t\tdataIndex: \"measure\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.invoiceLines.quantity\"/>,\n\t\t\t\tdataIndex: \"quantity\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.invoiceLines.unitPriceNoVat\"/>,\n\t\t\t\tdataIndex: \"unitPrice\",\n\t\t\t\tsorter: true,\n\t\t\t\trender: (value, record) => <FormattedNumber value={intToCurrencyFormatter(value)} format={currency}/>\n\t\t\t},\n\t\t];\n\n\t\treturn <DefaultTable\n\t\t\tnamespace={namespace}\n\t\t\tnavConfig={buildOneLevelNestedRelationNavConfig(invoiceLines, invoiceId)}\n\t\t\tcrudService={service}\n\t\t\tcolumns={columns}\n\t\t\tsearchFields={searchFields}\n\t\t/>;\n\t}\n\n\tget namespace() {\n\t\treturn `invoiceLineEmbeddedListPage_${this.props.invoiceId}`;\n\t}\n}\n","import {inject, observer} from \"mobx-react\";\nimport React, {Component} from \"react\";\nimport {invoices} from \"../../configurations/navigation\";\nimport {FormattedDate, FormattedMessage, injectIntl} from \"react-intl\";\nimport DefaultListPage from \"../shared/crud/DefaultList\";\nimport {defaultDateFormat} from \"../../base/configurations/formats\";\nimport {Button, Icon} from \"antd\";\nimport {Link, withRouter} from \"react-router-dom\";\nimport DefaultTable from \"../shared/crud/DefaultTable\";\nimport {autorun} from \"mobx\";\nimport RelationField from \"../../base/components/data-display/RelationField\";\nimport {paddedNumberFormatter} from \"../../base/utilities\";\nimport TableArrowExpandIcon from \"../../base/components/data-display/TableArrowExpandIcon\";\nimport InvoiceLineEmbeddedListPage from \"../invoice-lines/EmbeddedListPage\";\nimport {defaultErrorHandler} from \"../../base/errors/defaultErrorHandler\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\nimport TutorialTip from \"../../base/components/data-display/TutorialTip\";\n\nexport default\n@inject(\"invoiceService\", \"counterpartyService\")\n@injectIntl\n@withRouter\n@observer\nclass InvoiceListPage extends Component {\n\tnamespace = \"invoiceListPage\";\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tcounterpartyAutorunnerDisposer: null,\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tconst {counterpartyAutorunnerDisposer} = this.state;\n\t\tif (counterpartyAutorunnerDisposer) {\n\t\t\tcounterpartyAutorunnerDisposer();\n\t\t}\n\n\t\tthis.props.counterpartyService.resetNamespaceData(this.namespace);\n\t}\n\n\tcomponentDidMount() {\n\t\tconst disposer = autorun(async reaction => {\n\t\t\tconst namespace = this.namespace;\n\t\t\tconst counterpartyService = this.props.counterpartyService;\n\t\t\tconst service = this.props.invoiceService;\n\n\t\t\tconst invoices = service.itemList[namespace];\n\n\t\t\tif (!invoices || invoices.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst counterpartyIds = new Set();\n\n\t\t\tinvoices.forEach(invoice => counterpartyIds.add(invoice.counterparty_id));\n\n\t\t\ttry {\n\t\t\t\tawait counterpartyService.fetchItemMap(Array.from(counterpartyIds), namespace);\n\t\t\t} catch (e) {\n\t\t\t\tdefaultErrorHandler(this.props, \"application.error.get\", e);\n\t\t\t}\n\n\t\t});\n\n\t\tthis.setState({\n\t\t\tcounterpartyAutorunnerDisposer: disposer\n\t\t});\n\t}\n\n\trender() {\n\t\tconst namespace = this.namespace;\n\t\tconst service = this.props.invoiceService;\n\t\tconst counterpartyService = this.props.counterpartyService;\n\t\tconst titleId = \"components.invoices.list.title\";\n\t\tconst locationState = this.props.location.state;\n\t\tlet defaultExpandedRowKeys = [];\n\n\t\tif (!!locationState) {\n\t\t\tdefaultExpandedRowKeys.push(parseInt(locationState.params.invoiceId, 10));\n\t\t}\n\n\t\tconst searchFields = [\n\t\t\t\"number\",\n\t\t\t\"counterparty.company\",\n\t\t\t\"date\",\n\t\t\t\"totalPaymentAdditional\",\n\t\t];\n\t\tconst columns = [\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.invoices.number\"/>,\n\t\t\t\tdataIndex: \"number\",\n\t\t\t\tsorter: true,\n\t\t\t\trender: (value, record) => paddedNumberFormatter(value)\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.invoices.date\"/>,\n\t\t\t\tdataIndex: \"date\",\n\t\t\t\tsorter: true,\n\t\t\t\trender: (value, record) => <FormattedDate value={new Date(value)} {...defaultDateFormat}/>\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.invoices.counterparty\"/>,\n\t\t\t\tdataIndex: \"counterparty.company\",\n\t\t\t\tsorter: true,\n\t\t\t\trender: (value, record) => <RelationField crudService={counterpartyService} namespace={namespace} itemKey={record.counterparty_id} displayProp={\"company\"}/>\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.invoices.totalPaymentAdditional\"/>,\n\t\t\t\tdataIndex: \"totalPaymentAdditional\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t];\n\n\t\tconst additionalActions = [\n\t\t\t(props) => (<TutorialTip title={<FormattedMessage id=\"tooltips.invoices.list.invoicePreviewButton\"/>}>\n\t\t\t\t<Button>\n\t\t\t\t\t<Link to={`${invoices.href}/${props.record.id}/preview`}>\n\t\t\t\t\t\t<Icon type=\"printer\"/>\n\t\t\t\t\t</Link>\n\t\t\t\t</Button>\n\t\t\t</TutorialTip>)\n\t\t];\n\n\t\treturn <DefaultListPage\n\t\t\ttitleId={titleId}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.invoices.list\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.invoices.list\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.listPage\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<DefaultTable\n\t\t\t\tnamespace={namespace}\n\t\t\t\tnavConfig={invoices}\n\t\t\t\tcrudService={service}\n\t\t\t\tcolumns={columns}\n\t\t\t\tsearchFields={searchFields}\n\t\t\t\tadditionalActions={additionalActions}\n\t\t\t\ttableProps={{\n\t\t\t\t\trowKey: \"id\",\n\t\t\t\t\texpandRowByClick: true,\n\t\t\t\t\texpandIcon: TableArrowExpandIcon,\n\t\t\t\t\tdefaultExpandedRowKeys,\n\t\t\t\t\texpandedRowRender: (record) => {\n\t\t\t\t\t\treturn <InvoiceLineEmbeddedListPage invoiceId={record.id}/>;\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t</DefaultListPage>;\n\t}\n}\n","import {assign, isArray, isEmpty, isNil, isString, startsWith, trim} from \"lodash\";\nimport CrudService from \"./CrudService\";\nimport {isMoment} from \"moment\";\nimport ApplicationError from \"../errors/ApplicationError\";\nimport {toJS} from \"mobx\";\n\n/**\n * Generic service capable of handling all CRUD operations. Extend if needed.\n * This service works with LocalStorage.\n */\nexport default class LocalStorageCrudService extends CrudService {\n\n\tconstructor({resourceUrl, ...rest}) {\n\t\tconst resourcePath = trim(resourceUrl.replace(/\\//g, \".\"), \".\");\n\t\tsuper({resourceUrl: resourcePath, ...rest});\n\t}\n\n\t/**\n\t * Check if item exists by passed id.\n\t * @param id\n\t * @param namespace is the namespace of the component requesting this item.\n\t */\n\texistsById = async (id, namespace) => {\n\t\tthis.loading(`${namespace}:exists:${id}`);\n\n\t\ttry {\n\t\t\tconst path = `${this.resourceUrl}.${id}`;\n\n\t\t\tconst response = await this.context.localStorageService.load(path);\n\t\t\treturn !isEmpty(response);\n\t\t} finally {\n\t\t\tthis.loaded(`${namespace}:exists:${id}`);\n\t\t}\n\t};\n\n\t/**\n\t * Check how many records are there currently.\n\t * @param namespace is the namespace of the component requesting this item.\n\t */\n\tcount = async (namespace) => {\n\t\tthis.loading(`${namespace}:count`);\n\n\t\ttry {\n\t\t\treturn (await this.context.localStorageService.keys())\n\t\t\t\t.filter(key => startsWith(key, this.resourceUrl))\n\t\t\t\t.length;\n\t\t} finally {\n\t\t\tthis.loaded(`${namespace}:count`);\n\t\t}\n\t};\n\n\t/**\n\t * Load single item by passed id.\n\t * @param id\n\t * @param namespace is the namespace of the component requesting this item.\n\t * @returns {Promise<void>}\n\t */\n\tfetchItem = async (id, namespace) => {\n\t\tthis.loading(`${namespace}:fetch:${id}`);\n\n\t\ttry {\n\t\t\tconst path = `${this.resourceUrl}.${id}`;\n\n\t\t\tconst response = await this.context.localStorageService.load(path);\n\n\t\t\tthis.setItem(response, namespace);\n\t\t} finally {\n\t\t\tthis.loaded(`${namespace}:fetch:${id}`);\n\t\t}\n\t};\n\n\t/**\n\t * Load list of items. Takes into account sorter, filter, search and pagination.\n\t * @returns {Promise<void>}\n\t */\n\tfetchItemList = async (namespace) => {\n\t\tthis.loading(`${namespace}:fetch:list`);\n\n\t\ttry {\n\t\t\tconst allItems = [];\n\t\t\tconst filters = this.filters[namespace];\n\t\t\tconst search = this.search[namespace];\n\t\t\tconst sortField = this.sorter[namespace].field;\n\t\t\tconst sortOrder = this.sorter[namespace].order;\n\t\t\tconst currentPage = this.pagination[namespace].current || 0;\n\t\t\tconst pageSize = this.pagination[namespace].pageSize || 10;\n\n\t\t\tawait this.context.localStorageService.iterate((itemValue, itemKey) => {\n\t\t\t\tif (!startsWith(itemKey, this.resourceUrl)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet passedFilters = true;\n\n\t\t\t\tObject.entries(filters).forEach(([filterKey, filter]) => {\n\t\t\t\t\tswitch (filter.type) {\n\t\t\t\t\t\tcase \">x<\":\n\t\t\t\t\t\t\tif (itemValue[filter.field] < filter.values[0] ||\n\t\t\t\t\t\t\t\titemValue[filter.field] > filter.values[1]) {\n\t\t\t\t\t\t\t\tpassedFilters = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"=\":\n\t\t\t\t\t\t\tif (itemValue[filter.field] !== filter.values[0]) {\n\t\t\t\t\t\t\t\tpassedFilters = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.log(`Unknown filter type: ${filter.type}`);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!passedFilters) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (isArray(search.fields)) {\n\t\t\t\t\tlet passedSearch = false;\n\t\t\t\t\tconst searchVal = search.value;\n\t\t\t\t\tsearch.fields.forEach(fieldName => {\n\t\t\t\t\t\tlet fieldVal = itemValue[fieldName];\n\n\t\t\t\t\t\tif (isNil(fieldVal)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (isMoment(fieldVal)) {\n\t\t\t\t\t\t\tfieldVal = fieldVal.toISOString();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!isString(fieldVal)) {\n\t\t\t\t\t\t\tfieldVal = fieldVal.toString();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (fieldVal.toLowerCase().indexOf(searchVal.toLowerCase()) > -1) {\n\t\t\t\t\t\t\tpassedSearch = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!passedSearch) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tallItems.push(itemValue);\n\t\t\t});\n\n\t\t\tallItems.sort((first, second) => {\n\t\t\t\tif (first[sortField] < second[sortField]) {\n\t\t\t\t\treturn sortOrder === \"ascend\" ? -1 : 1;\n\t\t\t\t}\n\t\t\t\tif (first[sortField] > second[sortField]) {\n\t\t\t\t\treturn sortOrder === \"ascend\" ? 1 : -1;\n\t\t\t\t}\n\n\t\t\t\treturn 0;\n\t\t\t});\n\n\t\t\tlet totalCount = allItems.length;\n\n\t\t\tallItems.splice(0, (currentPage - 1) * pageSize);\n\t\t\tallItems.splice((currentPage + 1) * pageSize);\n\n\t\t\tthis.setPagination({...this.pagination[namespace], total: totalCount}, namespace);\n\t\t\tthis.setItemList(allItems, namespace);\n\t\t} finally {\n\t\t\tthis.loaded(`${namespace}:fetch:list`);\n\t\t}\n\t};\n\n\t/**\n\t * Load map of items from a list of ids.\n\t * @returns {Promise<void>}\n\t */\n\tfetchItemMap = async (ids, namespace) => {\n\t\tthis.loading(`${namespace}:fetch:map:${ids.join(\",\")}`);\n\n\t\ttry {\n\t\t\tlet itemsArr = await Promise.all(ids.map(id => {\n\t\t\t\treturn this.context.localStorageService.load(`${this.resourceUrl}.${id}`);\n\t\t\t}));\n\n\t\t\tthis.setItemMap(itemsArr, namespace);\n\t\t} finally {\n\t\t\tthis.loaded(`${namespace}:fetch:map:${ids.join(\",\")}`);\n\t\t}\n\t};\n\n\t/**\n\t * Save (create or update) a single item.\n\t * @param item\n\t * @param namespace\n\t * @returns {Promise<void>}\n\t */\n\tsave = async (item, namespace) => {\n\t\tlet id = item[this.primaryKeyField] || \"\";\n\n\t\tconst loadingKey = `${namespace}:save:${id}`;\n\n\t\tthis.loading(loadingKey);\n\n\t\ttry {\n\t\t\tif (!id) {\n\t\t\t\tid = await this.count(namespace) + 1;\n\t\t\t}\n\n\t\t\tawait this.context.localStorageService.save(`${this.resourceUrl}.${id}`, assign({}, this.item[namespace], toJS(item), {id}));\n\n\t\t\treturn id;\n\t\t} finally {\n\t\t\tthis.loaded(loadingKey);\n\t\t}\n\t};\n\n\t/**\n\t * Delete a single item.\n\t * @param id\n\t * @param namespace\n\t * @returns {Promise<void>}\n\t */\n\tdelete = async (id, namespace) => {\n\t\tthis.loading(`${namespace}:delete:${id}`);\n\n\t\ttry {\n\t\t\tawait this.context.localStorageService.delete(`${this.resourceUrl}.${id}`);\n\t\t} finally {\n\t\t\tthis.loaded(`${namespace}:delete:${id}`);\n\t\t}\n\t};\n\n\t/**\n\t * Adds sorting and ordering parts to a passed URL.\n\t * @param url\n\t * @param field\n\t * @param order\n\t */\n\tappendSortAndOrderToUrl = (url, field, order) => {\n\t\tthrow new ApplicationError(\"errors.unsupportedMethod\");\n\t};\n\n\t/**\n\t * Adds searching parts to a passed URL.\n\t * @param url\n\t * @param search\n\t */\n\tappendSearchToUrl = (url, search) => {\n\t\tthrow new ApplicationError(\"errors.unsupportedMethod\");\n\t};\n\n\t/**\n\t * Adds pagination to a passed URL.\n\t * @param url\n\t * @param pagination\n\t */\n\tappendPaginationToUrl = (url, pagination) => {\n\t\tthrow new ApplicationError(\"errors.unsupportedMethod\");\n\t};\n\n\t/**\n\t * Adds list of ids to passed URL.\n\t * @param url\n\t * @param ids\n\t */\n\tappendIdsToUrl = (url, ids) => {\n\t\tthrow new ApplicationError(\"errors.unsupportedMethod\");\n\t};\n}\n","import LocalStorageCrudService from \"../base/services/LocalStorageCrudService\";\n\nexport default class CounterpartyService extends LocalStorageCrudService {\n\t/**\n\t * @Override\n\t */\n\tconstructor() {\n\t\tsuper({resourceUrl: \"/api/counterparties\"});\n\t}\n}\n","import React, {Component} from 'react';\nimport {observer} from \"mobx-react\";\nimport {Select} from \"antd\";\nimport {FormattedMessage, injectIntl} from \"react-intl\";\nimport {FormItemDatePicker, FormItemInput, FormItemInputNumber, FormItemSelect} from \"../../base/components/inputs\";\nimport PropTypes from \"prop-types\";\nimport CounterpartyService from \"../../services/CounterpartyService\";\nimport {defaultErrorHandler} from \"../../base/errors/defaultErrorHandler\";\nimport {FlexCol, FlexRow} from \"../../base/components/layouts/FlexGrid\";\nimport * as Yup from \"yup\";\nimport {rules} from \"../../base/utilities/forms\";\n\nexport const invoiceValidation = Yup.object().shape({\n\tnumber: rules.required,\n\tdate: rules.required,\n\tcounterparty_id: rules.required\n});\n\nexport default @injectIntl\n@observer\nclass InvoiceFormFields extends Component {\n\tstatic propTypes = {\n\t\tcounterpartyService: PropTypes.instanceOf(CounterpartyService).isRequired,\n\t\tnamespace: PropTypes.string.isRequired,\n\t};\n\n\tcomponentDidMount() {\n\t\tconst {namespace, counterpartyService} = this.props;\n\n\t\tcounterpartyService.createNamespace(namespace);\n\t\tthis.reloadCounterparties();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.counterpartyService.resetNamespaceData(this.props.namespace);\n\t}\n\n\trender() {\n\t\tconst {namespace, counterpartyService} = this.props;\n\n\t\treturn <>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInputNumber\n\t\t\t\t\t\tid=\"number\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.invoices.number\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemDatePicker\n\t\t\t\t\t\tid=\"date\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.invoices.date\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemSelect\n\t\t\t\t\t\tid=\"counterparty_id\"\n\t\t\t\t\t\tloading={!counterpartyService.itemList[namespace]}\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.invoices.counterparty\"/>}\n\t\t\t\t\t\tshowSearch\n\t\t\t\t\t\tplaceholder={this.props.intl.formatMessage({id: \"select.placeholder.default\"})}\n\t\t\t\t\t\tdefaultActiveFirstOption={false}\n\t\t\t\t\t\tonSearch={this.handleCounterpartySelectSearch}\n\t\t\t\t\t\tfilterOption={false}\n\t\t\t\t\t>\n\t\t\t\t\t\t{counterpartyService.itemList[namespace] && counterpartyService.itemList[namespace].map(\n\t\t\t\t\t\t\tcounterparty => <Select.Option key={counterparty.id} value={counterparty.id}>{counterparty.company}</Select.Option>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</FormItemSelect>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"totalPaymentAdditional\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.invoices.totalPaymentAdditional\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t</>;\n\t}\n\n\thandleCounterpartySelectSearch = async (value) => {\n\t\tconst {namespace, counterpartyService} = this.props;\n\t\tcounterpartyService.setSearch({\n\t\t\tfields: [\"company\"],\n\t\t\tvalue\n\t\t}, namespace);\n\n\t\tthis.reloadCounterparties();\n\t};\n\n\treloadCounterparties = async () => {\n\t\tconst {namespace, counterpartyService} = this.props;\n\n\t\ttry {\n\t\t\tawait counterpartyService.fetchItemList(namespace);\n\t\t} catch (e) {\n\t\t\tdefaultErrorHandler(this.props, \"application.error.get\", e);\n\t\t}\n\t};\n};\n","import React, {Component} from \"react\";\nimport {inject, observer} from \"mobx-react\";\nimport DefaultCreatePage from \"../shared/crud/DefaultCreate\";\nimport {invoices} from \"../../configurations/navigation\";\nimport DefaultForm from \"../shared/crud/DefaultForm\";\nimport InvoiceFormFields, {invoiceValidation} from \"./FormFields\";\nimport {FormattedMessage} from \"react-intl\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\n\nexport default\n@inject(\"invoiceService\", \"counterpartyService\")\n@observer\nclass InvoiceCreatePage extends Component {\n\trender() {\n\t\tconst namespace = \"invoiceCreatePage\";\n\t\tconst {invoiceService, counterpartyService} = this.props;\n\n\t\treturn <DefaultCreatePage\n\t\t\tcrudService={invoiceService}\n\t\t\ttitleId=\"components.invoices.create.title\"\n\t\t\tcrumbs={[invoices]}\n\t\t\tnamespace={namespace}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.invoices.create\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.invoices.create\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<DefaultForm\n\t\t\t\tcrudService={invoiceService}\n\t\t\t\tnavConfig={invoices}\n\t\t\t\tnamespace={namespace}\n\t\t\t\tinitialValues={{}}\n\t\t\t\tvalidationSchema={invoiceValidation}\n\t\t\t>\n\t\t\t\t<InvoiceFormFields\n\t\t\t\t\tcounterpartyService={counterpartyService}\n\t\t\t\t\tnamespace={namespace}\n\t\t\t\t/>\n\t\t\t</DefaultForm>\n\t\t</DefaultCreatePage>;\n\t}\n}\n","import React, {Component} from \"react\";\nimport {inject, observer} from \"mobx-react\";\nimport {withRouter} from \"react-router-dom\";\nimport {invoices} from \"../../configurations/navigation\";\nimport DefaultEditPage from \"../shared/crud/DefaultEdit\";\nimport InvoiceFormFields, {invoiceValidation} from \"./FormFields\";\nimport DefaultForm from \"../shared/crud/DefaultForm\";\nimport {paddedNumberFormatter} from \"../../base/utilities\";\nimport {FormattedMessage} from \"react-intl\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\n\nexport default\n@inject(\"invoiceService\", \"counterpartyService\")\n@withRouter\n@observer\nclass InvoiceEditPage extends Component {\n\tnamespace = \"invoiceEditPage\";\n\n\trender() {\n\t\tconst namespace = this.namespace;\n\t\tconst itemId = parseInt(this.props.match.params.invoiceId, 10);\n\t\tconst {invoiceService, counterpartyService} = this.props;\n\t\tconst record = invoiceService.item[namespace];\n\n\t\tlet initialValues = {};\n\t\tlet titleParams = {};\n\n\t\tif (record) {\n\t\t\tinitialValues = {\n\t\t\t\tnumber: record.number,\n\t\t\t\tdate: record.date,\n\t\t\t\tcounterparty_id: record.counterparty_id,\n\t\t\t\ttotalPaymentAdditional: record.totalPaymentAdditional\n\t\t\t};\n\t\t\ttitleParams = {\n\t\t\t\tname: paddedNumberFormatter(record.number)\n\t\t\t};\n\t\t}\n\n\t\treturn <DefaultEditPage\n\t\t\tcrudService={invoiceService}\n\t\t\ttitleId=\"components.invoices.edit.title\"\n\t\t\ttitleParams={titleParams}\n\t\t\titemId={itemId}\n\t\t\tcrumbs={[invoices]}\n\t\t\tnamespace={namespace}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.invoices.edit\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.invoices.edit\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<DefaultForm\n\t\t\t\tcrudService={invoiceService}\n\t\t\t\tnavConfig={invoices}\n\t\t\t\titemId={itemId}\n\t\t\t\tnamespace={namespace}\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={invoiceValidation}\n\t\t\t>\n\t\t\t\t<InvoiceFormFields\n\t\t\t\t\tcrudService={invoiceService}\n\t\t\t\t\tcounterpartyService={counterpartyService}\n\t\t\t\t\tnamespace={namespace}\n\t\t\t\t/>\n\t\t\t</DefaultForm>\n\t\t</DefaultEditPage>;\n\t}\n}\n","import React from \"react\";\nimport {Empty} from \"antd\";\n\nconst DefaultEmpty = (props) => {\n\treturn <div className=\"v-h-centered-container\">\n\t\t<Empty image={Empty.PRESENTED_IMAGE_SIMPLE} {...props} />\n\t</div>\n};\n\nexport default DefaultEmpty;\n","import React, {Component} from \"react\";\nimport {Helmet} from \"react-helmet-async\";\nimport {FlexCol, FlexContainer, FlexRow} from \"../base/components/layouts/FlexGrid\";\nimport {FormattedMessage, injectIntl} from \"react-intl\";\nimport {formattingFunctions, intlFormats} from \"../base/localizations\";\nimport PageTutorial from \"../base/components/tutorials/PageTutorial\";\nimport {inject, observer} from \"mobx-react\";\nimport {defaultErrorHandler} from \"../base/errors/defaultErrorHandler\";\nimport {Card, Icon, Statistic} from \"antd\";\nimport {isEmpty, takeRight} from \"lodash\";\nimport moment from \"moment\";\nimport {Bar, BarChart, CartesianGrid, Legend, ResponsiveContainer, Tooltip, XAxis, YAxis} from \"recharts\";\nimport DefaultLoadingPage from \"../base/components/data-display/DefaultLoadingPage\";\nimport DefaultEmpty from \"../base/components/data-display/DefaultEmpty\";\nimport {intToCurrencyFormatter, paddedNumberFormatter} from \"../base/utilities\";\n\nexport default\n@inject(\"context\", \"equipmentRepairService\")\n@injectIntl\n@observer\nclass DashboardPage extends Component {\n\tnamespace = \"dashboardPage\";\n\n\tasync componentDidMount() {\n\t\tconst namespace = this.namespace;\n\t\tconst {equipmentRepairService} = this.props;\n\n\t\tequipmentRepairService.createNamespace(namespace);\n\n\t\ttry {\n\t\t\tawait equipmentRepairService.fetchItemList(namespace);\n\t\t} catch (e) {\n\t\t\tdefaultErrorHandler(this.props, \"application.error.get\", e);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst namespace = this.namespace;\n\t\tconst {equipmentRepairService, intl} = this.props;\n\t\tconst title = intl.formatMessage({id: \"components.dashboard.title\"});\n\t\tconst equipmentRepairs = equipmentRepairService.itemList[namespace];\n\t\tconst currentDate = moment();\n\t\tconst currentYear = currentDate.year();\n\t\tconst currentMonth = currentDate.month() + 1;\n\t\tconst firstDayOfMonthDate = moment().date(1);\n\t\tconst currentQuarterLabel = `${paddedNumberFormatter(currentMonth - 2, 2)}-${paddedNumberFormatter(currentMonth, 2)}.${currentYear}`;\n\t\tconst prevQuarterLabel = `${paddedNumberFormatter(currentMonth - 5, 2)}-${paddedNumberFormatter(currentMonth - 3, 2)}.${currentYear}`;\n\n\t\tlet monthlyEquipmentSpendItems;\n\t\tlet yearDiffEquipmentSpend;\n\t\tlet prev3MonthsDiffEquipmentSpend;\n\t\tlet currentYearSpend = 0;\n\t\tlet lastYearSpend = 0;\n\t\tlet currentQuarterSpend = 0;\n\t\tlet lastQuarterSpend = 0;\n\n\t\tif (equipmentRepairs && !isEmpty(equipmentRepairs)) {\n\t\t\tmonthlyEquipmentSpendItems = takeRight(Object.values(equipmentRepairs.slice().sort((first, second) => moment(first.date).diff(moment(second.date))).reduce((accumulator, currentValue) => {\n\t\t\t\tconst month = intl.formatDate(currentValue.date, {month: \"2-digit\", year: \"numeric\"});\n\t\t\t\tlet currentMonthData = accumulator[month];\n\n\t\t\t\tif (!currentMonthData) {\n\t\t\t\t\tcurrentMonthData = {month, cost: 0};\n\t\t\t\t\taccumulator[month] = currentMonthData;\n\t\t\t\t}\n\n\t\t\t\tcurrentMonthData.cost += currentValue.cost;\n\n\t\t\t\treturn accumulator;\n\t\t\t}, {})), 10);\n\n\t\t\tequipmentRepairs.forEach((repair) => {\n\t\t\t\tconst currentRepairDate = moment(repair.date);\n\t\t\t\tconst year = currentRepairDate.year();\n\t\t\t\tconst monthDiff = moment(currentRepairDate).date(1).diff(firstDayOfMonthDate, \"month\");\n\n\t\t\t\tif (currentYear === year) {\n\t\t\t\t\tcurrentYearSpend += repair.cost;\n\t\t\t\t}\n\n\t\t\t\tif (currentYear - 1 === year) {\n\t\t\t\t\tlastYearSpend += repair.cost;\n\t\t\t\t}\n\n\t\t\t\tif (monthDiff <= 0 && monthDiff + 3 > 0) {\n\t\t\t\t\tcurrentQuarterSpend += repair.cost;\n\t\t\t\t}\n\n\t\t\t\tif (monthDiff <= -3 && monthDiff > -6) {\n\t\t\t\t\tlastQuarterSpend += repair.cost;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tyearDiffEquipmentSpend = lastYearSpend - currentYearSpend;\n\t\t\tprev3MonthsDiffEquipmentSpend = lastQuarterSpend - currentQuarterSpend;\n\t\t}\n\n\t\treturn <FlexContainer fluid>\n\t\t\t<Helmet>\n\t\t\t\t<title>{title} - {this.props.intl.formatMessage({id: \"application.meta.title\"})}</title>\n\t\t\t</Helmet>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.dashboard\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.dashboard\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<h1>{title}</h1>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol lg={12} xxxl={8} xxxxl={6}>\n\t\t\t\t\t<Card title={<FormattedMessage id=\"components.dashboard.equipmentRepairs.monthlySpend.title\"/>} bordered={false}>\n\t\t\t\t\t\t<FlexRow>\n\t\t\t\t\t\t\t<FlexCol style={{minHeight: \"350px\"}}>\n\t\t\t\t\t\t\t\t{isEmpty(monthlyEquipmentSpendItems) && !equipmentRepairService.isLoadingNamespace(namespace) && <DefaultEmpty/>}\n\t\t\t\t\t\t\t\t{isEmpty(monthlyEquipmentSpendItems) && equipmentRepairService.isLoadingNamespace(namespace) && <DefaultLoadingPage/>}\n\t\t\t\t\t\t\t\t{!isEmpty(monthlyEquipmentSpendItems) &&\n\t\t\t\t\t\t\t\t<ResponsiveContainer>\n\t\t\t\t\t\t\t\t\t<BarChart\n\t\t\t\t\t\t\t\t\t\tdata={monthlyEquipmentSpendItems}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<CartesianGrid stroke=\"#677\" strokeDasharray=\"4 4\"/>\n\t\t\t\t\t\t\t\t\t\t<YAxis\n\t\t\t\t\t\t\t\t\t\t\ttick={{\n\t\t\t\t\t\t\t\t\t\t\t\tfill: \"#ffffff\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tdataKey=\"cost\"\n\t\t\t\t\t\t\t\t\t\t\ttickFormatter={this.formatCurrency}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<XAxis\n\t\t\t\t\t\t\t\t\t\t\ttick={{\n\t\t\t\t\t\t\t\t\t\t\t\tfill: \"#ffffff\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tdataKey=\"month\"\n\t\t\t\t\t\t\t\t\t\t\t// tickFormatter={this.formatDate}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\tcursor={{\n\t\t\t\t\t\t\t\t\t\t\t\tfill: \"#00000030\"\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tcontentStyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"rgba(10, 47, 42, 0.7)\",\n\t\t\t\t\t\t\t\t\t\t\t\tborder: \"none\",\n\t\t\t\t\t\t\t\t\t\t\t\tWebkitBackdropFilter: \"blur(16px)\",\n\t\t\t\t\t\t\t\t\t\t\t\tbackdropFilter: \"blur(16px)\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\titemStyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"#d6fd38\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t// labelFormatter={this.formatDate}\n\t\t\t\t\t\t\t\t\t\t\tformatter={(val, name) => [this.formatCurrency(val), this.formatLabel(name)]}/>\n\t\t\t\t\t\t\t\t\t\t<Legend formatter={this.formatLabel}/>\n\t\t\t\t\t\t\t\t\t\t<Bar dataKey=\"cost\" fill=\"#dfab31\"/>\n\t\t\t\t\t\t\t\t\t</BarChart>\n\t\t\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t</FlexRow>\n\t\t\t\t\t</Card>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol lg={12} xxxl={8} xxxxl={6}>\n\t\t\t\t\t<FlexRow>\n\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t<Card title={<FormattedMessage id=\"components.dashboard.equipmentRepairs.comparisons.title\"/>} bordered={false}>\n\t\t\t\t\t\t\t\t<FlexRow>\n\t\t\t\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t\t\t\t<Statistic\n\t\t\t\t\t\t\t\t\t\t\ttitle={intl.formatMessage({id: \"components.dashboard.equipmentRepairs.spendingComparedTo\"}, {\n\t\t\t\t\t\t\t\t\t\t\t\tcurrent: currentYear,\n\t\t\t\t\t\t\t\t\t\t\t\tprevious: currentYear - 1\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.formatCurrency(yearDiffEquipmentSpend)}\n\t\t\t\t\t\t\t\t\t\t\tvalueStyle={{color: yearDiffEquipmentSpend > 0 ? '#74fe38' : '#cf1322'}}\n\t\t\t\t\t\t\t\t\t\t\tprefix={yearDiffEquipmentSpend > 0 ? <Icon type=\"arrow-down\"/> : <Icon type=\"arrow-up\"/>}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t\t\t\t<Statistic\n\t\t\t\t\t\t\t\t\t\t\ttitle={intl.formatMessage({id: \"components.dashboard.equipmentRepairs.spendingComparedTo\"}, {\n\t\t\t\t\t\t\t\t\t\t\t\tcurrent: currentQuarterLabel,\n\t\t\t\t\t\t\t\t\t\t\t\tprevious: prevQuarterLabel,\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.formatCurrency(prev3MonthsDiffEquipmentSpend)}\n\t\t\t\t\t\t\t\t\t\t\tvalueStyle={{color: prev3MonthsDiffEquipmentSpend > 0 ? '#74fe38' : '#cf1322'}}\n\t\t\t\t\t\t\t\t\t\t\tprefix={prev3MonthsDiffEquipmentSpend > 0 ? <Icon type=\"arrow-down\"/> : <Icon type=\"arrow-up\"/>}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t\t\t</FlexRow>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t<Card title={<FormattedMessage id=\"components.dashboard.equipmentRepairs.totals.title\"/>} bordered={false}>\n\t\t\t\t\t\t\t\t<FlexRow>\n\t\t\t\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t\t\t\t<Statistic value={this.formatCurrency(currentYearSpend)} suffix={`for ${currentYear}`}/>\n\t\t\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t\t\t\t<Statistic value={this.formatCurrency(lastYearSpend)} suffix={`for ${currentYear - 1}`}/>\n\t\t\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t\t\t</FlexRow>\n\t\t\t\t\t\t\t\t<FlexRow className=\"mt-4\">\n\t\t\t\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t\t\t\t<Statistic value={this.formatCurrency(currentQuarterSpend)} suffix={`for ${currentQuarterLabel}`}/>\n\t\t\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t\t\t\t<Statistic value={this.formatCurrency(lastQuarterSpend)} suffix={`for ${prevQuarterLabel}`}/>\n\t\t\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t\t\t</FlexRow>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t</FlexRow>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t</FlexContainer>;\n\t}\n\n\tformatLabel = (label) => {\n\t\tconst {intl} = this.props;\n\n\t\treturn intl.formatMessage({id: `components.equipmentRepairs.${label}`});\n\t};\n\n\tformatCurrency = (val) => {\n\t\tconst {context, intl} = this.props;\n\t\tconst currency = context.appService.settings.currency;\n\t\tconst absVal = Math.abs(val);\n\n\t\tlet result = intl.formatNumber(intToCurrencyFormatter(absVal), intlFormats.number[currency]);\n\n\t\tif (absVal >= 100000) {\n\t\t\tresult = result.replace(/[0-9]+[0-9., \\-_]+/g, `${intl.formatNumber(intToCurrencyFormatter(absVal / 1000), intlFormats.number.decimal)}k`);\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tformatDate = (dateString) => {\n\t\tconst {intl} = this.props;\n\n\t\treturn intl.formatDate(moment(dateString).toDate());\n\t};\n}\n","import React, {Component} from 'react';\nimport {inject, observer} from \"mobx-react\";\nimport {FormattedMessage, injectIntl} from \"react-intl\";\nimport {rules} from \"../../base/utilities/forms\";\nimport {FormItemInput, FormItemInputNumber} from \"../../base/components/inputs\";\nimport {intToCurrencyFormatter, intToCurrencyParser} from \"../../base/utilities\";\nimport {FlexCol, FlexRow} from \"../../base/components/layouts/FlexGrid\";\nimport * as Yup from \"yup\";\n\nexport const invoiceLineValidation = Yup.object().shape({\n\tdescription: rules.required,\n\tmeasure: rules.required,\n\tquantity: rules.required,\n\tunitPrice: rules.required,\n});\n\nexport default\n@inject(\"context\")\n@injectIntl\n@observer\nclass InvoiceLineFormFields extends Component {\n\trender() {\n\t\treturn <>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.invoiceLines.description\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"measure\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.invoiceLines.measure\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInputNumber\n\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.invoiceLines.quantity\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInputNumber\n\t\t\t\t\t\tid=\"unitPrice\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.invoiceLines.unitPriceNoVat\"/>}\n\t\t\t\t\t\tformatter={value => this.props.intl.formatNumber(intToCurrencyFormatter(value), {format: \"decimal\"})}\n\t\t\t\t\t\tparser={value => intToCurrencyParser(value, this.props.context.appService.settings.locale)}\n\t\t\t\t\t\taddonBefore={this.props.context.appService.settings.currency}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t</>;\n\t}\n};\n","import React, {Component} from \"react\";\nimport {inject, observer} from \"mobx-react\";\nimport {withRouter} from \"react-router-dom\";\nimport {invoices} from \"../../configurations/navigation\";\nimport DefaultEditPage from \"../shared/crud/DefaultEdit\";\nimport DefaultForm from \"../shared/crud/DefaultForm\";\nimport InvoiceLineFormFields, {invoiceLineValidation} from \"./FormFields\";\nimport {defaultErrorHandler} from \"../../base/errors/defaultErrorHandler\";\nimport {paddedNumberFormatter} from \"../../base/utilities\";\nimport {FormattedMessage} from \"react-intl\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\n\nexport default @inject(\"invoiceLineService\", \"invoiceService\")\n@withRouter\n@observer\nclass InvoiceLineEditPage extends Component {\n\tnamespace = \"invoiceLineEditPage\";\n\n\tasync componentDidMount() {\n\t\tconst namespace = this.namespace;\n\t\tconst invoiceId = parseInt(this.props.match.params.invoiceId, 10);\n\t\tconst {invoiceService} = this.props;\n\n\t\ttry {\n\t\t\tawait invoiceService.fetchItem(invoiceId, namespace);\n\t\t} catch (e) {\n\t\t\tdefaultErrorHandler(this.props, \"application.error.get\", e);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst namespace = this.namespace;\n\t\tconst itemId = parseInt(this.props.match.params.invoiceLineId, 10);\n\t\tconst invoiceId = parseInt(this.props.match.params.invoiceId, 10);\n\t\tconst {invoiceLineService, invoiceService} = this.props;\n\t\tconst record = invoiceLineService.item[namespace];\n\t\tconst invoice = invoiceService.item[namespace];\n\n\t\tlet initialValues = {};\n\t\tlet titleParams = {};\n\n\t\tif (record) {\n\t\t\tinitialValues = {\n\t\t\t\tdescription: record.description,\n\t\t\t\tmeasure: record.measure,\n\t\t\t\tquantity: record.quantity,\n\t\t\t\tunitPrice: record.unitPrice,\n\t\t\t};\n\n\t\t\ttitleParams.name = record.description;\n\t\t}\n\n\t\ttitleParams.invoice = invoice ? paddedNumberFormatter(invoice.number) : \"\";\n\n\t\treturn <DefaultEditPage\n\t\t\tcrudService={invoiceLineService}\n\t\t\ttitleId=\"components.invoiceLines.edit.title\"\n\t\t\ttitleParams={titleParams}\n\t\t\titemId={itemId}\n\t\t\tcrumbs={[invoices]}\n\t\t\tnamespace={namespace}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.invoiceLines.edit\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.invoiceLines.edit\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<DefaultForm\n\t\t\t\tcrudService={invoiceLineService}\n\t\t\t\t// navConfig={buildOneLevelNestedRelationNavConfig(invoiceLines, invoiceId)}\n\t\t\t\tnavConfig={invoices}\n\t\t\t\titemId={itemId}\n\t\t\t\tnamespace={namespace}\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={invoiceLineValidation}\n\t\t\t\t// backButtonUrl={invoices.href}\n\t\t\t\tprefilledFormValues={{\n\t\t\t\t\tinvoice_id: invoiceId\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<InvoiceLineFormFields/>\n\t\t\t</DefaultForm>\n\t\t</DefaultEditPage>;\n\t}\n};\n","import React, {Component} from \"react\";\nimport {inject, observer} from \"mobx-react\";\nimport DefaultCreatePage from \"../shared/crud/DefaultCreate\";\nimport {invoices} from \"../../configurations/navigation\";\nimport DefaultForm from \"../shared/crud/DefaultForm\";\nimport InvoiceLineFormFields, {invoiceLineValidation} from \"./FormFields\";\nimport {withRouter} from \"react-router-dom\";\nimport {paddedNumberFormatter} from \"../../base/utilities\";\nimport {defaultErrorHandler} from \"../../base/errors/defaultErrorHandler\";\nimport {FormattedMessage} from \"react-intl\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\n\nexport default @inject(\"invoiceLineService\", \"invoiceService\")\n@withRouter\n@observer\nclass InvoiceLineCreatePage extends Component {\n\tnamespace = \"invoiceLineCreatePage\";\n\n\tasync componentDidMount() {\n\t\tconst namespace = this.namespace;\n\t\tconst invoiceId = parseInt(this.props.match.params.invoiceId, 10);\n\t\tconst {invoiceService} = this.props;\n\n\t\ttry {\n\t\t\tawait invoiceService.fetchItem(invoiceId, namespace);\n\t\t} catch (e) {\n\t\t\tdefaultErrorHandler(this.props, \"application.error.get\", e);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst namespace = this.namespace;\n\t\tconst {invoiceLineService, invoiceService} = this.props;\n\t\tconst invoiceId = parseInt(this.props.match.params.invoiceId, 10);\n\t\tconst invoice = invoiceService.item[namespace];\n\n\t\tlet titleParams = {};\n\t\ttitleParams.invoice = invoice ? paddedNumberFormatter(invoice.number) : \"\";\n\n\t\treturn <DefaultCreatePage\n\t\t\tcrudService={invoiceLineService}\n\t\t\ttitleId=\"components.invoiceLines.create.title\"\n\t\t\ttitleParams={titleParams}\n\t\t\tcrumbs={[invoices]}\n\t\t\tnamespace={namespace}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.invoiceLines.create\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.invoiceLines.create\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<DefaultForm\n\t\t\t\tcrudService={invoiceLineService}\n\t\t\t\t// navConfig={buildOneLevelNestedRelationNavConfig(invoiceLines, invoiceId)}\n\t\t\t\tnavConfig={invoices}\n\t\t\t\tnamespace={namespace}\n\t\t\t\tinitialValues={{}}\n\t\t\t\tvalidationSchema={invoiceLineValidation}\n\t\t\t\t// backButtonUrl={invoices.href}\n\t\t\t\tprefilledFormValues={{\n\t\t\t\t\tinvoice_id: invoiceId\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<InvoiceLineFormFields/>\n\t\t\t</DefaultForm>\n\t\t</DefaultCreatePage>;\n\t}\n}\n","import {inject, observer} from \"mobx-react\";\nimport React, {Component} from \"react\";\nimport {buildOneLevelNestedRelationNavConfig, invoiceLines, invoices} from \"../../configurations/navigation\";\nimport {FormattedMessage, FormattedNumber} from \"react-intl\";\nimport DefaultListPage from \"../shared/crud/DefaultList\";\nimport DefaultTable from \"../shared/crud/DefaultTable\";\nimport {withRouter} from \"react-router-dom\";\nimport {intToCurrencyFormatter} from \"../../base/utilities\";\n\nexport default\n@inject(\"context\", \"invoiceLineService\")\n@withRouter\n@observer\nclass InvoiceLineListPage extends Component {\n\trender() {\n\t\tconst namespace = \"invoiceLineListPage\";\n\t\tconst service = this.props.invoiceLineService;\n\t\tconst invoiceId = parseInt(this.props.match.params.invoiceId, 10);\n\t\tconst titleId = \"components.invoiceLines.list.title\";\n\t\tconst searchFields = [\n\t\t\t\"description\",\n\t\t\t\"measure\",\n\t\t\t\"quantity\",\n\t\t\t\"unitPrice\",\n\t\t];\n\t\tconst currency = this.props.context.appService.settings.currency;\n\t\tconst columns = [\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.invoiceLines.description\"/>,\n\t\t\t\tdataIndex: \"description\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.invoiceLines.measure\"/>,\n\t\t\t\tdataIndex: \"measure\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.invoiceLines.quantity\"/>,\n\t\t\t\tdataIndex: \"quantity\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.invoiceLines.unitPriceNoVat\"/>,\n\t\t\t\tdataIndex: \"unitPrice\",\n\t\t\t\tsorter: true,\n\t\t\t\trender: (value, record) => <FormattedNumber value={intToCurrencyFormatter(value)} format={currency}/>\n\t\t\t},\n\t\t];\n\n\t\treturn <DefaultListPage\n\t\t\ttitleId={titleId}\n\t\t\tcrumbs={[invoices]}\n\t\t>\n\t\t\t<DefaultTable\n\t\t\t\tnamespace={namespace}\n\t\t\t\tnavConfig={buildOneLevelNestedRelationNavConfig(invoiceLines, invoiceId)}\n\t\t\t\tcrudService={service}\n\t\t\t\tcolumns={columns}\n\t\t\t\tsearchFields={searchFields}\n\t\t\t/>\n\t\t</DefaultListPage>;\n\t}\n}\n","import React, {Component} from 'react';\nimport {inject, observer} from \"mobx-react\";\nimport {withRouter} from \"react-router-dom\";\nimport writtenNumber from \"written-number\";\nimport DefaultLoadingPage from \"../../base/components/data-display/DefaultLoadingPage\";\nimport {intToCurrencyFormatter, paddedNumberFormatter} from \"../../base/utilities\";\nimport moment from \"moment\";\nimport {FormattedMessage, FormattedNumber, injectIntl} from \"react-intl\";\nimport {defaultErrorHandler} from \"../../base/errors/defaultErrorHandler\";\nimport {Button, Card, Icon, Radio, Typography} from \"antd\";\nimport {dashboard, invoices} from \"../../configurations/navigation\";\nimport DefaultBreadcrumbs from \"../../base/components/layouts/DefaultBreadcrumbs\";\nimport printJS from \"print-js\";\nimport {FlexCol, FlexRow} from \"../../base/components/layouts/FlexGrid\";\nimport Decimal from \"decimal.js\";\nimport {Helmet} from \"react-helmet-async\";\nimport TutorialTip from \"../../base/components/data-display/TutorialTip\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\n\nconst invoiceStylesheets = [\n\t\"/css/invoice-preview.css\"\n];\n\nexport default\n@inject(\"context\", \"invoiceService\", \"invoiceLineService\", \"counterpartyService\", \"companyService\")\n@withRouter\n@injectIntl\n@observer\nclass InvoicePreviewPage extends Component {\n\tnamespace = \"invoicePreviewPage\";\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttype: \"invoice\",\n\t\t};\n\t}\n\n\tasync componentDidMount() {\n\t\tconst namespace = this.namespace;\n\t\tconst invoiceId = parseInt(this.props.match.params.invoiceId, 10);\n\t\tconst {invoiceService, invoiceLineService, counterpartyService, companyService} = this.props;\n\n\t\tinvoiceLineService.createNamespace(namespace);\n\t\tcompanyService.createNamespace(namespace);\n\n\t\ttry {\n\t\t\tinvoiceLineService.changeFilter(\"invoice_id\", {\n\t\t\t\ttype: \"=\",\n\t\t\t\tfield: \"invoice_id\",\n\t\t\t\tvalues: [invoiceId]\n\t\t\t}, namespace);\n\n\t\t\tconst loadCompany = async () => {\n\t\t\t\tconst hasCompany = await companyService.existsById(1, namespace);\n\n\t\t\t\tif (hasCompany) {\n\t\t\t\t\tawait companyService.fetchItem(1, namespace);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst loadInvoice = async () => {\n\t\t\t\tawait invoiceService.fetchItem(invoiceId, namespace);\n\t\t\t\tawait counterpartyService.fetchItem(invoiceService.item[namespace].counterparty_id, namespace);\n\t\t\t};\n\n\t\t\tawait Promise.all([loadCompany(), loadInvoice(), invoiceLineService.fetchItemList(namespace)]);\n\t\t} catch (e) {\n\t\t\tdefaultErrorHandler(this.props, \"application.error.get\", e);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.invoiceService.resetNamespaceData(this.namespace);\n\t\tthis.props.invoiceLineService.resetNamespaceData(this.namespace);\n\t\tthis.props.counterpartyService.resetNamespaceData(this.namespace);\n\t\tthis.props.companyService.resetNamespaceData(this.namespace);\n\t}\n\n\trender() {\n\t\tconst namespace = this.namespace;\n\t\tconst {context, invoiceService, invoiceLineService, counterpartyService, companyService} = this.props;\n\t\tconst {type} = this.state;\n\n\t\tconst invoice = invoiceService.item[namespace] || {};\n\t\tconst counterparty = counterpartyService.item[namespace] || {};\n\t\tconst invoiceLines = invoiceLineService.itemList[namespace] || [];\n\t\tconst company = companyService.item[namespace] || {};\n\n\t\tconst currency = context.appService.settings.currency;\n\n\t\tif (invoiceService.isLoadingNamespace(namespace) ||\n\t\t\tinvoiceLineService.isLoadingNamespace(namespace) ||\n\t\t\tcounterpartyService.isLoadingNamespace(namespace) ||\n\t\t\tcompanyService.isLoadingNamespace(namespace)\n\t\t) {\n\t\t\treturn <DefaultLoadingPage/>;\n\t\t}\n\n\t\tconst invoiceTotal = Math.floor(intToCurrencyFormatter(invoiceLines.reduce((acc, line) => acc + line.unitPrice * line.quantity, 0)));\n\t\tconst invoiceTotalEn = writtenNumber(invoiceTotal, {lang: \"en\"});\n\n\t\tlet invoiceVatAccrued = 0;\n\n\t\tif (invoiceTotal) {\n\t\t\tinvoiceVatAccrued = Decimal.mul(invoiceTotal, company.vatPercentage).div(100).toFixed(2);\n\t\t}\n\n\t\tconst title = this.props.intl.formatMessage({id: \"components.invoices.preview.title\"}, {number: invoice.number});\n\n\t\treturn <>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.invoices.preview\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.invoices.preview\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<Helmet>\n\t\t\t\t<title>{title} - {this.props.intl.formatMessage({id: \"application.meta.title\"})}</title>\n\t\t\t\t{invoiceStylesheets.map((stylesheet, index) => <link key={index} rel=\"stylesheet\" href={stylesheet} type=\"text/css\"/>)}\n\t\t\t\t<link rel=\"stylesheet\" href={\"https://fonts.googleapis.com/css?family=IBM+Plex+Sans|Montserrat:400,400i,500,500i,700,700i&display=swap&subset=cyrillic\"}\n\t\t\t\t\t  type=\"text/css\"/>\n\t\t\t</Helmet>\n\t\t\t<DefaultBreadcrumbs crumbs={[dashboard, invoices, {title}]}/>\n\t\t\t<Card id=\"invoice-controls\" title={title} bordered={false}>\n\t\t\t\t<FlexRow>\n\t\t\t\t\t<FlexCol xs=\"auto\">\n\t\t\t\t\t\t<Button block onClick={this.handleBackButtonClick}>\n\t\t\t\t\t\t\t<Icon type=\"left\"/>\n\t\t\t\t\t\t\t<Typography.Text><FormattedMessage id=\"back\"/></Typography.Text>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t\t<FlexCol xs=\"auto\" className=\"mx-auto\">\n\t\t\t\t\t\t<TutorialTip title={<FormattedMessage id=\"tooltips.invoices.preview.invoiceTypeSelection\"/>}>\n\t\t\t\t\t\t\t<Radio.Group defaultValue={type} buttonStyle=\"solid\" onChange={this.handleTypeChange}>\n\t\t\t\t\t\t\t\t<Radio.Button value=\"invoice\">\n\t\t\t\t\t\t\t\t\t<FormattedMessage id=\"components.invoices.preview.typeSwitch.invoice\"/>\n\t\t\t\t\t\t\t\t</Radio.Button>\n\t\t\t\t\t\t\t\t<Radio.Button value=\"proforma\">\n\t\t\t\t\t\t\t\t\t<FormattedMessage id=\"components.invoices.preview.typeSwitch.proforma\"/>\n\t\t\t\t\t\t\t\t</Radio.Button>\n\t\t\t\t\t\t\t</Radio.Group>\n\t\t\t\t\t\t</TutorialTip>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t\t<FlexCol xs=\"auto\">\n\t\t\t\t\t\t<TutorialTip title={<FormattedMessage id=\"tooltips.invoices.preview.invoicePrintButton\"/>}>\n\t\t\t\t\t\t<Button block type=\"primary\" icon=\"printer\" onClick={this.handlePrintClick}><FormattedMessage id=\"print\" tagName=\"span\"/></Button>\n\t\t\t\t\t\t</TutorialTip>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t</FlexRow>\n\t\t\t</Card>\n\t\t\t<Card id=\"invoice\" bordered={false}>\n\t\t\t\t<FlexRow>\n\t\t\t\t\t<FlexCol className=\"d-flex align-items-start\">\n\t\t\t\t\t\t<img style={{maxWidth: \"200px\"}} src={company.logo} alt={company.name} title={company.name}/>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t\t<FlexCol className=\"text-right\">\n\t\t\t\t\t\t<h1 id=\"brand\">{company.name}</h1>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t</FlexRow>\n\t\t\t\t<FlexRow>\n\t\t\t\t\t<FlexCol className=\"text-center\">\n\t\t\t\t\t\t<h2><FormattedMessage id=\"components.invoices.preview.header.ivnoice\"/></h2>\n\t\t\t\t\t\t{type === \"invoice\" ? <h4><FormattedMessage id=\"components.invoices.preview.header.original\"/></h4> :\n\t\t\t\t\t\t\t<h4><FormattedMessage id=\"components.invoices.preview.header.proforma\"/></h4>}\n\t\t\t\t\t\t<h3 id=\"invoice-number\"># {paddedNumberFormatter(invoice.number)}</h3>\n\t\t\t\t\t\t<h3>{moment(invoice.date).format(\"DD.MM.YYYY\")}</h3>\n\t\t\t\t\t\t<h3>{company.city}</h3>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t</FlexRow>\n\t\t\t\t<FlexRow className=\"invoice-section\">\n\t\t\t\t\t<FlexCol sm={9} offsetSm={2}>\n\t\t\t\t\t\t<FlexRow><FlexCol className=\"company-header\"><FormattedMessage id=\"components.invoices.preview.recipient\" tagName=\"strong\"/></FlexCol></FlexRow>\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td className=\"company-info-row\"><FormattedMessage id=\"components.invoices.preview.company\"/>:</td>\n\t\t\t\t\t\t\t\t<td><strong>{counterparty.company}</strong></td>\n\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td className=\"company-info-row\"><FormattedMessage id=\"components.invoices.preview.address\"/>:</td>\n\t\t\t\t\t\t\t\t<td><strong>{!counterparty.address ? \"\" : counterparty.address.split(\", \").map((item, index) => <p key={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   style={{margin: 0}}>{item}</p>)}</strong></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td className=\"company-info-row\"><FormattedMessage id=\"components.invoices.preview.accountablePerson\"/>:</td>\n\t\t\t\t\t\t\t\t<td><strong>{counterparty.accountablePerson}</strong></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td className=\"company-info-row\"><FormattedMessage id=\"components.invoices.preview.uic\"/>:</td>\n\t\t\t\t\t\t\t\t<td><strong>{counterparty.uic}</strong></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td className=\"company-info-row\"><FormattedMessage id=\"components.invoices.preview.vatNumber\"/>:</td>\n\t\t\t\t\t\t\t\t<td><strong>{counterparty.vatNumber || \"\"}</strong></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t\t<FlexCol sm={9} offsetSm={2}>\n\t\t\t\t\t\t<FlexRow><FlexCol className=\"company-header\"><FormattedMessage id=\"components.invoices.preview.provider\" tagName=\"strong\"/></FlexCol></FlexRow>\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td className=\"company-info-row\"><FormattedMessage id=\"components.invoices.preview.company\"/>:</td>\n\t\t\t\t\t\t\t\t<td><strong>{company.name}</strong></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td className=\"company-info-row\"><FormattedMessage id=\"components.invoices.preview.address\"/>:</td>\n\t\t\t\t\t\t\t\t<td><strong>{company.address}</strong></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td className=\"company-info-row\"><FormattedMessage id=\"components.invoices.preview.accountablePerson\"/>:</td>\n\t\t\t\t\t\t\t\t<td><strong>{company.accountablePerson}</strong></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td className=\"company-info-row\"><FormattedMessage id=\"components.invoices.preview.uic\"/>:</td>\n\t\t\t\t\t\t\t\t<td><strong>{company.uic}</strong></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td className=\"company-info-row\"><FormattedMessage id=\"components.invoices.preview.vatNumber\"/>:</td>\n\t\t\t\t\t\t\t\t<td><strong>{company.vatNumber}</strong></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t</FlexRow>\n\t\t\t\t<FlexRow className=\"invoice-section\">\n\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>#</th>\n\t\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\t\t<div><FormattedMessage id=\"components.invoices.preview.goodsName\"/></div>\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\t\t<div><FormattedMessage id=\"components.invoices.preview.measure\"/></div>\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\t\t<div><FormattedMessage id=\"components.invoices.preview.quantity\"/></div>\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\t\t<div><FormattedMessage id=\"components.invoices.preview.unitPrice\"/> ({currency})</div>\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\t\t<div><FormattedMessage id=\"components.invoices.preview.price\"/> ({currency})</div>\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{invoiceLines.map((line, index) => {\n\t\t\t\t\t\t\t\treturn <tr key={line.id}>\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{index + 1}</th>\n\t\t\t\t\t\t\t\t\t<td>{line.description}</td>\n\t\t\t\t\t\t\t\t\t<td>{line.measure}</td>\n\t\t\t\t\t\t\t\t\t<td>{line.quantity}</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<FormattedNumber value={intToCurrencyFormatter(line.unitPrice)} format={currency}/>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<FormattedNumber value={intToCurrencyFormatter(line.unitPrice * line.quantity)} format={currency}/>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t</FlexRow>\n\t\t\t\t<FlexRow className=\"invoice-section\">\n\t\t\t\t\t<FlexCol xs={10}>\n\t\t\t\t\t\t<FlexRow>\n\t\t\t\t\t\t\t<FlexCol xs=\"auto\" className=\"details-box-title\">\n\t\t\t\t\t\t\t\t<div className=\"smaller-heading\"><FormattedMessage id=\"components.invoices.preview.paymentMethod\"/>:</div>\n\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t\t<div className=\"smaller-heading\"><FormattedMessage id=\"components.invoices.preview.bankTransaction\"/></div>\n\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t</FlexRow>\n\t\t\t\t\t\t<FlexRow>\n\t\t\t\t\t\t\t<FlexCol offsetXs={2} className=\"details-box-table\">\n\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div><FormattedMessage id=\"components.invoices.preview.bank\"/>:</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t<div>{company.bankName}</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>BIC:</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-right\">{company.bankBic}</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>IBAN:</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-right\">{company.bankIban}</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t</FlexRow>\n\t\t\t\t\t\t<FlexRow style={{marginBottom: \"10px\"}}>\n\t\t\t\t\t\t\t<FlexCol xs=\"auto\" className=\"details-box-title\">\n\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t<div><FormattedMessage id=\"components.invoices.preview.paymentTerms\"/>:</div>\n\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t<div><FormattedMessage id=\"components.invoices.preview.paymentTermsDays\"/></div>\n\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t</FlexRow>\n\t\t\t\t\t\t<FlexRow>\n\t\t\t\t\t\t\t<FlexCol xs=\"auto\" className=\"details-box-title\">\n\t\t\t\t\t\t\t\t<div><FormattedMessage id=\"components.invoices.preview.amountInWords\"/>:</div>\n\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t\t<div>{invoiceTotalEn} {currency}</div>\n\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t</FlexRow>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t\t<FlexCol xs={10} offsetXs={2}>\n\t\t\t\t\t\t<FlexRow>\n\t\t\t\t\t\t\t<FlexCol className=\"details-box-title\">\n\t\t\t\t\t\t\t\t<div className=\"smaller-heading\"><FormattedMessage id=\"components.invoices.preview.totalDue\"/></div>\n\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t</FlexRow>\n\t\t\t\t\t\t<FlexRow>\n\t\t\t\t\t\t\t<FlexCol offsetXs={1} className=\"details-box-table\">\n\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div><FormattedMessage id=\"components.invoices.preview.subtotalBaseVat\"/></div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-right\"><FormattedNumber value={invoiceTotal} format=\"decimal\"/> {currency}</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div><FormattedMessage id=\"components.invoices.preview.vat\"/></div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-right\">{company.vatPercentage}%</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div><FormattedMessage id=\"components.invoices.preview.vatAccrued\"/></div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-right\">{<FormattedNumber value={invoiceVatAccrued} format=\"decimal\"/> || \"\"} {currency}</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div><FormattedMessage id=\"components.invoices.preview.totalPayment\"/></div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-right\">{invoiceTotal ?\n\t\t\t\t\t\t\t\t\t\t\t<FormattedNumber value={Decimal.add(invoiceTotal, invoiceVatAccrued)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t format=\"decimal\"/> : \"\"} {currency} {invoice.totalPaymentAdditional}</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t</FlexRow>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t</FlexRow>\n\t\t\t\t<FlexRow className=\"invoice-section\">\n\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t<p className=\"signature\"><FormattedMessage id=\"components.invoices.preview.receivedBy\"/>: </p>\n\t\t\t\t\t\t\t<p>{counterparty.accountablePerson}</p>\n\t\t\t\t\t\t\t<p>{counterparty.accountablePersonTitle}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t<p className=\"signature\"><FormattedMessage id=\"components.invoices.preview.invoicedBy\"/>: </p>\n\t\t\t\t\t\t\t<p>{company.accountablePerson}</p>\n\t\t\t\t\t\t\t<p>{company.accountablePersonTitle}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t</FlexRow>\n\t\t\t</Card>\n\t\t</>;\n\t}\n\n\thandleBackButtonClick = () => {\n\t\t// this.props.history.push(`${invoices.href}`, this.props.match);\n\t\tthis.props.history.push(`${invoices.href}`);\n\t};\n\n\thandlePrintClick = () => {\n\t\tprintJS({\n\t\t\tprintable: \"invoice\",\n\t\t\ttype: \"html\",\n\t\t\tmaxWidth: null,\n\t\t\tscanStyles: false,\n\t\t\tdocumentTitle: `Invoice_${paddedNumberFormatter(this.props.invoiceService.item[this.namespace].number)}`,\n\t\t\tcss: [...invoiceStylesheets, \"https://fonts.googleapis.com/css?family=IBM+Plex+Sans|Montserrat:400,400i,500,500i,700,700i&display=swap&subset=cyrillic\"],\n\t\t\tstyle: Array.from(document.querySelectorAll(\"head style\")).map(el => el.innerHTML).join(\"\\n\")\n\t\t});\n\t};\n\n\thandleTypeChange = (e) => {\n\t\tthis.setState({type: e.target.value});\n\t};\n\n\n}\n","import React, {Component} from 'react';\nimport {observer} from \"mobx-react\";\nimport {FormattedMessage} from \"react-intl\";\nimport {rules} from \"../../base/utilities/forms\";\nimport {FormItemInput, FormItemInputNumber} from \"../../base/components/inputs\";\nimport {FlexCol, FlexRow} from \"../../base/components/layouts/FlexGrid\";\nimport * as Yup from \"yup\";\n\nexport const companyDetailsValidation = Yup.object().shape({\n\tlogo: rules.required,\n\tname: rules.required,\n\tcity: rules.required,\n\taddress: rules.required,\n\taccountablePersonTitle: rules.required,\n\taccountablePerson: rules.required,\n\tbankName: rules.required,\n\tbankBic: rules.required,\n\tbankIban: rules.required,\n\tvatPercentage: rules.required,\n});\n\nexport default\n@observer\nclass CompanyDetailsEditFormFields extends Component {\n\trender() {\n\t\treturn <>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"logo\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.companyDetails.logo\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.companyDetails.name\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"city\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.companyDetails.city\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"address\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.companyDetails.address\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"accountablePersonTitle\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.companyDetails.accountablePersonTitle\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"accountablePerson\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.companyDetails.accountablePerson\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"uic\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.companyDetails.uic\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"vatNumber\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.companyDetails.vatNumber\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"bankName\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.companyDetails.bankName\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"bankBic\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.companyDetails.bankBic\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"bankIban\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.companyDetails.bankIban\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInputNumber\n\t\t\t\t\t\tid=\"vatPercentage\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.companyDetails.vatPercentage\"/>}\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\taddonAfter=\"%\"\n\t\t\t\t\t\tstyle={{maxWidth: \"100px\"}}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t</>;\n\t}\n};\n","import React, {Component} from \"react\";\nimport {inject, observer} from \"mobx-react\";\nimport {withRouter} from \"react-router-dom\";\nimport {Card} from \"antd\";\nimport DefaultForm from \"../shared/crud/DefaultForm\";\nimport {defaultErrorHandler} from \"../../base/errors/defaultErrorHandler\";\nimport CompanyDetailsEditFormFields, {companyDetailsValidation} from \"./FormFields\";\nimport {FormattedMessage, injectIntl} from \"react-intl\";\nimport DefaultBreadcrumbs from \"../../base/components/layouts/DefaultBreadcrumbs\";\nimport {dashboard} from \"../../configurations/navigation\";\nimport {FlexCol, FlexContainer, FlexRow} from \"../../base/components/layouts/FlexGrid\";\nimport DefaultLoadingPage from \"../../base/components/data-display/DefaultLoadingPage\";\nimport {Helmet} from \"react-helmet-async\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\nimport {formattingFunctions} from \"../../base/localizations\";\n\nexport default\n@inject(\"companyService\")\n@withRouter\n@injectIntl\n@observer\nclass CompanyDetailsEditPage extends Component {\n\n\tnamespace = \"companyDetailsEditPage\";\n\titemId = 1;\n\n\tasync componentDidMount() {\n\t\tconst {itemId, namespace} = this;\n\t\tconst {companyService} = this.props;\n\n\t\ttry {\n\t\t\tlet companyExists = await companyService.existsById(itemId, namespace);\n\n\t\t\tif (companyExists) {\n\t\t\t\tawait companyService.fetchItem(itemId, namespace);\n\t\t\t} else {\n\t\t\t\tcompanyService.setItem({id: itemId}, namespace);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tdefaultErrorHandler(this.props, \"application.error.get\", e);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.companyService.resetNamespaceData(this.props.namespace);\n\t}\n\n\trender() {\n\t\tconst namespace = this.namespace;\n\t\tconst itemId = this.itemId;\n\t\tconst {form, companyService} = this.props;\n\n\t\tlet record = companyService.item[namespace];\n\n\t\tif (!record) {\n\t\t\treturn <DefaultLoadingPage/>;\n\t\t}\n\n\t\tconst title = this.props.intl.formatMessage({id: \"components.companyDetails.edit.title\"}, {name: record.name});\n\n\n\t\tlet initialValues = {};\n\n\t\tif (record) {\n\t\t\tinitialValues = {\n\t\t\t\tlogo: record.logo,\n\t\t\t\tname: record.name,\n\t\t\t\tcity: record.city,\n\t\t\t\taddress: record.address,\n\t\t\t\taccountablePersonTitle: record.accountablePersonTitle,\n\t\t\t\taccountablePerson: record.accountablePerson,\n\t\t\t\tuic: record.uic,\n\t\t\t\tvatNumber: record.vatNumber,\n\t\t\t\tbankName: record.bankName,\n\t\t\t\tbankBic: record.bankBic,\n\t\t\t\tbankIban: record.bankIban,\n\t\t\t\tvatPercentage: record.vatPercentage,\n\t\t\t};\n\t\t}\n\n\n\t\treturn <FlexContainer>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.companyDetails.edit\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.companyDetails.edit\" values={formattingFunctions} />\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions} />\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions} />\n\t\t\t</PageTutorial>\n\t\t\t<Helmet>\n\t\t\t\t<title>{title} - {this.props.intl.formatMessage({id: \"application.meta.title\"})}</title>\n\t\t\t</Helmet>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<DefaultBreadcrumbs crumbs={[dashboard, {title}]}/>\n\t\t\t\t\t<Card style={{margin: \"2rem 0\"}} title={title} bordered={false}>\n\t\t\t\t\t\t<DefaultForm\n\t\t\t\t\t\t\tcrudService={companyService}\n\t\t\t\t\t\t\tform={form}\n\t\t\t\t\t\t\titemId={itemId}\n\t\t\t\t\t\t\tnamespace={namespace}\n\t\t\t\t\t\t\tinitialValues={initialValues}\n\t\t\t\t\t\t\tvalidationSchema={companyDetailsValidation}\n\t\t\t\t\t\t\tbackButtonUrl={dashboard.href}\n\t\t\t\t\t\t\tredirectAfterSubmit={(id) => {\n\t\t\t\t\t\t\t\tthis.props.history.replace(this.props.location.pathname);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CompanyDetailsEditFormFields/>\n\t\t\t\t\t\t</DefaultForm>\n\t\t\t\t\t</Card>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t</FlexContainer>;\n\t}\n}\n","import React, {Component} from \"react\";\nimport {inject} from \"mobx-react\";\nimport {Redirect} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nexport default\n@inject(\"context\")\nclass LogoutPage extends Component {\n\tstatic propTypes = {\n\t\tredirectUrl: PropTypes.string,\n\t};\n\n\tstatic defaultProps = {\n\t\tredirectUrl: \"/\"\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.props.context.appService.logout();\n\t}\n\n\trender() {\n\t\treturn <Redirect to={this.props.redirectUrl}/>;\n\t}\n}\n","import React, {Component} from \"react\";\nimport {Button, Card, Icon, message} from 'antd';\nimport {inject, observer} from \"mobx-react\";\nimport {Redirect, withRouter} from \"react-router-dom\";\nimport {defaultErrorHandler} from \"../../errors/defaultErrorHandler\";\nimport PropTypes from \"prop-types\";\nimport {FormattedMessage, injectIntl} from \"react-intl\";\nimport {FormItemInput} from \"../inputs\";\nimport DefaultLoadingPage from \"../data-display/DefaultLoadingPage\";\nimport {FlexCol, FlexRow} from \"../layouts/FlexGrid\";\nimport digidWorksLogo from \"../../assets/images/digid-works-logo.png\";\nimport {Form, Formik} from \"formik\";\nimport * as Yup from 'yup';\nimport {rules} from \"../../utilities/forms\";\nimport {formattingFunctions} from \"../../localizations\";\n\nexport default\n@inject(\"context\")\n@injectIntl\n@withRouter\n@observer\nclass DefaultLoginPage extends Component {\n\tstatic propTypes = {\n\t\tredirectUrl: PropTypes.string,\n\t};\n\n\tstatic defaultProps = {\n\t\tredirectUrl: \"/\"\n\t};\n\n\trender() {\n\t\tconst service = this.props.context.appService;\n\n\t\tif (service.isAuthenticated) {\n\t\t\treturn <Redirect to={this.props.redirectUrl}/>;\n\t\t}\n\n\t\tif (service.isLoading) {\n\t\t\treturn <DefaultLoadingPage/>;\n\t\t}\n\n\t\tconst validationSchema = Yup.object().shape({\n\t\t\tusername: rules.emailRequired,\n\t\t\tpassword: rules.required,\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"v-h-centered-container\">\n\t\t\t\t<Card title={<FlexRow>\n\t\t\t\t\t<FlexCol xs=\"auto\">\n\t\t\t\t\t\t<FormattedMessage id=\"login\"/>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t\t<FlexCol className=\"d-flex\">\n\t\t\t\t\t\t<img style={{maxWidth: \"120px\", marginLeft: \"auto\"}}\n\t\t\t\t\t\t\t src={digidWorksLogo} title={this.props.intl.formatMessage({id: \"application.digid.logo.title\"})}\n\t\t\t\t\t\t\t alt={this.props.intl.formatMessage({id: \"application.digid.logo.title\"})}/>\n\t\t\t\t\t</FlexCol>\n\t\t\t\t</FlexRow>}\n\t\t\t\t\t  bordered={false}\n\t\t\t\t\t  style={{\n\t\t\t\t\t\t  maxWidth: \"450px\"\n\t\t\t\t\t  }}\n\t\t\t\t>\n\t\t\t\t\t<FormattedMessage id=\"loginPage.text\" values={{...formattingFunctions, appName: this.props.intl.formatMessage({id: \"application.meta.title\"})}}/>\n\t\t\t\t\t<Formik\n\t\t\t\t\t\tinitialValues={{}}\n\t\t\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<FlexRow className=\"mb-2\">\n\t\t\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={this.props.intl.formatMessage({id: \"components.login.username\"})}\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\tprefix={<Icon type=\"user\"/>}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t\t</FlexRow>\n\t\t\t\t\t\t\t<FlexRow className=\"mb-3\">\n\t\t\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={this.props.intl.formatMessage({id: \"components.login.password\"})}\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tprefix={<Icon type=\"lock\"/>}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t\t</FlexRow>\n\t\t\t\t\t\t\t<FlexRow>\n\t\t\t\t\t\t\t\t<FlexCol>\n\t\t\t\t\t\t\t\t\t<Button size=\"large\" block type=\"primary\" htmlType=\"submit\"><FormattedMessage id=\"login\"/></Button>\n\t\t\t\t\t\t\t\t</FlexCol>\n\t\t\t\t\t\t\t</FlexRow>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Formik>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t);\n\t}\n\n\thandleSubmit = async (values, {setSubmitting}) => {\n\t\tconst service = this.props.context.appService;\n\t\tsetSubmitting(false);\n\t\ttry {\n\t\t\tawait service.login(values.username, values.password);\n\n\t\t\tthis.props.history.push(this.props.redirectUrl);\n\t\t} catch (e) {\n\t\t\tif (e.isUnauthorized) {\n\t\t\t\tmessage.error(this.props.intl.formatMessage({id: \"errors.badCredentials\"}));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdefaultErrorHandler(this.props, \"application.error.login\", e);\n\t\t}\n\t};\n};\n","import moment from \"moment\";\nimport {random} from \"lodash\";\n\nexport const users = [\n\t{\n\t\tid: 1,\n\t\toptedOutTutorials: [],\n\t\tpassword: \"qwerty\",\n\t\trole: \"ROLE_ADMIN\",\n\t\tusername: \"hi@digidworks.com\",\n\t}\n];\n\nexport const companies = [{\n\tid: 1,\n\taccountablePerson: \"Nikolai Tenev\",\n\taccountablePersonTitle: \"Director\",\n\taddress: \"1, Some Street, Str.\",\n\tbankBic: \"BIC 1234567\",\n\tbankIban: \"IBAN 1234ABCD\",\n\tbankName: \"Bank Name\",\n\tcity: \"Some City\",\n\tlogo: \"https://digidworks.com/assets/img/digid-works-logo.svg\",\n\tname: \"DigidWorks\",\n\tuic: \"\",\n\tvatNumber: \"\",\n\tvatPercentage: 20,\n}];\n\nexport const counterparties = [\n\t{\n\t\taccountablePerson: \"Tim Cook\",\n\t\taccountablePersonTitle: \"CEO\",\n\t\taddress: \"One Infinite Loop, Cupertino, CA, USA\",\n\t\tcompany: \"Apple Inc.\",\n\t\tfromEu: false,\n\t\tid: 1,\n\t\tuic: \"\",\n\t\tvatNumber: \"\",\n\t},\n\t{\n\t\taccountablePerson: \"Hyun-Suk Kim\",\n\t\taccountablePersonTitle: \"CEO\",\n\t\taddress: \"Samsung GEC, 26, Sangil-ro 6-gil, Gangdong-gu, Seoul, Korea\",\n\t\tcompany: \"Samsung Engineering Co., Ltd.\",\n\t\tfromEu: false,\n\t\tid: 2,\n\t\tuic: \"\",\n\t\tvatNumber: \"\",\n\t},\n\t{\n\t\taccountablePerson: \"Herbert Diess\",\n\t\taccountablePersonTitle: \"CEO\",\n\t\taddress: \"Berliner Ring 2, 38440 Wolfsburg, Germany\",\n\t\tcompany: \"Volkswagen AG\",\n\t\tfromEu: true,\n\t\tid: 3,\n\t\tuic: \"DE 115235681\",\n\t\tvatNumber: \"DE 115235681\",\n\t}\n];\n\nexport const invoices = [\n\t{\n\t\tcounterparty_id: 3,\n\t\tdate: \"2019-10-01T00:00:00.000Z\",\n\t\tid: 1,\n\t\tnumber: 1,\n\t\ttotalPaymentAdditional: \"\",\n\t}\n];\n\nexport const invoiceLines = [\n\t{\n\t\tdescription: \"Programming\",\n\t\tid: 1,\n\t\tinvoice_id: 1,\n\t\tmeasure: \"cnt.\",\n\t\tquantity: 1,\n\t\tunitPrice: 1000000,\n\t}\n];\n\nconst equipmentRepairsDates = [1, 3, 6, 7, 11, 12, 13, 16, 18].map((m) => {\n\tconst date = moment();\n\tdate.subtract(m, \"month\");\n\tdate.date(random(1, 31));\n\treturn date.toISOString();\n});\n\nexport const equipmentRepairs = [\n\t{\n\t\tdate: equipmentRepairsDates[8],\n\t\tid: 8,\n\t\tdescription: \"Brake fluid change for company cars\",\n\t\tcost: 120000,\n\t},\n\t{\n\t\tdate: equipmentRepairsDates[7],\n\t\tid: 9,\n\t\tdescription: \"Replace tires of company cars\",\n\t\tcost: 500000,\n\t},\n\t{\n\t\tdate: equipmentRepairsDates[6],\n\t\tid: 10,\n\t\tdescription: \"Repair power equipment\",\n\t\tcost: 10000,\n\t},\n\t{\n\t\tdate: equipmentRepairsDates[5],\n\t\tid: 11,\n\t\tdescription: \"New cables\",\n\t\tcost: 5000,\n\t},\n\t{\n\t\tdate: equipmentRepairsDates[4],\n\t\tid: 12,\n\t\tdescription: \"Repair office printer\",\n\t\tcost: 8000,\n\t},\n\t{\n\t\tdate: equipmentRepairsDates[3],\n\t\tid: 13,\n\t\tdescription: \"Repair soap dispenser\",\n\t\tcost: 800,\n\t},\n\t{\n\t\tdate: equipmentRepairsDates[2],\n\t\tid: 14,\n\t\tdescription: \"Elevator maintenance\",\n\t\tcost: 20000,\n\t},\n\t{\n\t\tdate: equipmentRepairsDates[1],\n\t\tid: 15,\n\t\tdescription: \"Oil change for company cars\",\n\t\tcost: 100000,\n\t},\n\t{\n\t\tdate: equipmentRepairsDates[0],\n\t\tid: 16,\n\t\tdescription: \"Brake fluid change for company cars\",\n\t\tcost: 120000,\n\t},\n];\n","import React, {Component} from \"react\";\nimport DefaultLoginPage from \"../../base/components/auth/DefaultLoginPage\";\nimport {inject, observer} from \"mobx-react\";\nimport {defaultErrorHandler} from \"../../base/errors/defaultErrorHandler\";\nimport {companies, counterparties, equipmentRepairs, invoiceLines, invoices, users} from \"../../configurations/demo-data\";\nimport DefaultLoadingPage from \"../../base/components/data-display/DefaultLoadingPage\";\n\nexport default\n@inject(\"context\")\n@observer\nclass LoginPage extends Component {\n\tnamespace = \"loginPage\";\n\n\tasync componentDidMount() {\n\t\tconst {context} = this.props;\n\n\t\ttry {\n\t\t\tconst hasUsers = await context.services.userService.count() > 0;\n\n\t\t\tif (!hasUsers) {\n\t\t\t\tawait Promise.all([\n\t\t\t\t\t...this.generateDemoData(users, context.services.userService),\n\t\t\t\t\t...this.generateDemoData(companies, context.services.companyService),\n\t\t\t\t\t...this.generateDemoData(counterparties, context.services.counterpartyService),\n\t\t\t\t\t...this.generateDemoData(invoices, context.services.invoiceService),\n\t\t\t\t\t...this.generateDemoData(invoiceLines, context.services.invoiceLineService),\n\t\t\t\t\t...this.generateDemoData(equipmentRepairs, context.services.equipmentRepairService),\n\t\t\t\t]);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tdefaultErrorHandler(this.props, \"application.error.get\", e);\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.props.context.services.userService.isLoadingNamespace(this.namespace)) {\n\t\t\treturn <DefaultLoadingPage/>;\n\t\t}\n\n\t\treturn <DefaultLoginPage/>;\n\t}\n\n\tgenerateDemoData = (data, service) => {\n\t\treturn data.map(record => {\n\t\t\treturn service.save(record, this.namespace);\n\t\t});\n\t};\n}\n","export const rolesList = {\n\tROLE_ADMIN: \"roles.admin.title\",\n\tROLE_SUPER_USER: \"roles.superUser.title\",\n\tROLE_USER: \"roles.user.title\",\n};\n","import React, {Component} from 'react';\nimport {observer} from \"mobx-react\";\nimport {FormattedMessage} from \"react-intl\";\nimport {rules} from \"../../base/utilities/forms\";\nimport {FormItemClear, FormItemInput, FormItemSelect} from \"../../base/components/inputs\";\nimport {FlexCol, FlexRow} from \"../../base/components/layouts/FlexGrid\";\nimport * as Yup from \"yup\";\nimport {Select} from \"antd\";\nimport {rolesList} from \"../../configurations/roles\";\n\nexport const userValidation = Yup.object().shape({\n\tusername: rules.required,\n});\n\nexport default @observer\nclass UserFormFields extends Component {\n\trender() {\n\t\treturn <>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.users.username\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.users.password\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemSelect\n\t\t\t\t\t\tid=\"role\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.users.role\"/>}\n\t\t\t\t\t\tdropdownMatchSelectWidth={false}\n\t\t\t\t\t>\n\t\t\t\t\t\t{Object.entries(rolesList).map(([key, value]) => <Select.Option key={key} value={key}><FormattedMessage id={value}/></Select.Option>)}\n\t\t\t\t\t</FormItemSelect>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemClear\n\t\t\t\t\t\tid=\"optedOutTutorials\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.users.clearOptedOutTutorials\"/>}\n\t\t\t\t\t\tclearedValue={[]}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t</>;\n\t}\n};\n","import React, {Component} from \"react\";\nimport {inject, observer} from \"mobx-react\";\nimport {withRouter} from \"react-router-dom\";\nimport {users} from \"../../configurations/navigation\";\nimport DefaultEditPage from \"../shared/crud/DefaultEdit\";\nimport DefaultForm from \"../shared/crud/DefaultForm\";\nimport UserFormFields, {userValidation} from \"./FormFields\";\nimport {FormattedMessage} from \"react-intl\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\nimport {toJS} from \"mobx\";\n\nexport default\n@inject(\"userService\")\n@withRouter\n@observer\nclass UserEditPage extends Component {\n\trender() {\n\t\tconst namespace = \"userEditPage\";\n\t\tconst itemId = parseInt(this.props.match.params.userId, 10);\n\t\tconst {userService} = this.props;\n\t\tlet record = userService.item[namespace];\n\n\t\tlet initialValues = {};\n\t\tlet titleParams = {name: \"\"};\n\n\t\tif (record) {\n\t\t\tinitialValues = {\n\t\t\t\toptedOutTutorials: toJS(record.optedOutTutorials),\n\t\t\t\trole: record.role,\n\t\t\t\tusername: record.username,\n\t\t\t};\n\n\t\t\ttitleParams = {\n\t\t\t\tname: record.username\n\t\t\t};\n\t\t}\n\n\t\treturn <DefaultEditPage\n\t\t\tcrudService={userService}\n\t\t\ttitleId=\"components.users.edit.title\"\n\t\t\ttitleParams={titleParams}\n\t\t\titemId={itemId}\n\t\t\tcrumbs={[users]}\n\t\t\tnamespace={namespace}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.users.edit\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.users.edit\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<DefaultForm\n\t\t\t\tcrudService={userService}\n\t\t\t\tnavConfig={users}\n\t\t\t\titemId={itemId}\n\t\t\t\tnamespace={namespace}\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={userValidation}>\n\t\t\t\t<UserFormFields user={record}/>\n\t\t\t</DefaultForm>\n\t\t</DefaultEditPage>;\n\t}\n}\n","import React, {Component} from \"react\";\nimport {inject, observer} from \"mobx-react\";\nimport DefaultCreatePage from \"../shared/crud/DefaultCreate\";\nimport {users} from \"../../configurations/navigation\";\nimport DefaultForm from \"../shared/crud/DefaultForm\";\nimport UserFormFields, {userValidation} from \"./FormFields\";\nimport {FormattedMessage} from \"react-intl\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\nimport {rules} from \"../../base/utilities/forms\";\n\nexport default\n@inject(\"userService\")\n@observer\nclass UserCreatePage extends Component {\n\trender() {\n\t\tconst namespace = \"userCreatePage\";\n\t\tconst {userService} = this.props;\n\n\t\treturn <DefaultCreatePage\n\t\t\tcrudService={userService}\n\t\t\ttitleId=\"components.users.create.title\"\n\t\t\tcrumbs={[users]}\n\t\t\tnamespace={namespace}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.users.create\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.users.create\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<DefaultForm\n\t\t\t\tcrudService={userService}\n\t\t\t\tnavConfig={users}\n\t\t\t\tnamespace={namespace}\n\t\t\t\tinitialValues={{}}\n\t\t\t\tvalidationSchema={userValidation.shape({password: rules.required})}>\n\t\t\t\t<UserFormFields/>\n\t\t\t</DefaultForm>\n\t\t</DefaultCreatePage>;\n\t}\n}\n","import {inject} from \"mobx-react\";\nimport React, {Component} from \"react\";\nimport {users} from \"../../configurations/navigation\";\nimport {FormattedMessage} from \"react-intl\";\nimport DefaultListPage from \"../shared/crud/DefaultList\";\nimport DefaultTable from \"../shared/crud/DefaultTable\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\nimport {rolesList} from \"../../configurations/roles\";\n\nexport default\n@inject(\"userService\")\nclass UserListPage extends Component {\n\trender() {\n\t\tconst namespace = \"userListPage\";\n\t\tconst service = this.props.userService;\n\t\tconst titleId = \"components.users.list.title\";\n\t\tconst searchFields = [\n\t\t\t\"username\",\n\t\t\t\"role\",\n\t\t];\n\t\tconst columns = [\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.users.username\"/>,\n\t\t\t\tdataIndex: \"username\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.users.role\"/>,\n\t\t\t\tdataIndex: \"role\",\n\t\t\t\tsorter: true,\n\t\t\t\trender: (val) => <FormattedMessage id={rolesList[val]}/>\n\t\t\t},\n\t\t];\n\n\t\treturn <DefaultListPage\n\t\t\ttitleId={titleId}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.users.list\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.users.list\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.listPage\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<DefaultTable\n\t\t\t\tnamespace={namespace}\n\t\t\t\tnavConfig={users}\n\t\t\t\tcrudService={service}\n\t\t\t\tcolumns={columns}\n\t\t\t\tsearchFields={searchFields}\n\t\t\t/>\n\t\t</DefaultListPage>;\n\t}\n}\n","import React, {Component} from 'react';\nimport {inject, observer} from \"mobx-react\";\nimport {FormattedMessage, injectIntl} from \"react-intl\";\nimport {rules} from \"../../base/utilities/forms\";\nimport {FormItemDatePicker, FormItemInput, FormItemInputNumber} from \"../../base/components/inputs\";\nimport {FlexCol, FlexRow} from \"../../base/components/layouts/FlexGrid\";\nimport * as Yup from \"yup\";\nimport {intToCurrencyFormatter, intToCurrencyParser} from \"../../base/utilities\";\n\nexport const equipmentRepairValidation = Yup.object().shape({\n\tdescription: rules.required,\n\tdate: rules.required,\n\tcost: rules.required,\n});\n\nexport default\n@inject(\"context\")\n@injectIntl\n@observer\nclass EquipmentRepairFormFields extends Component {\n\trender() {\n\t\treturn <>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInput\n\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.equipmentRepairs.description\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t\t<FlexRow>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemDatePicker\n\t\t\t\t\t\tid=\"date\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.equipmentRepairs.date\"/>}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t\t<FlexCol>\n\t\t\t\t\t<FormItemInputNumber\n\t\t\t\t\t\tid=\"cost\"\n\t\t\t\t\t\tlabel={<FormattedMessage id=\"components.equipmentRepairs.cost\"/>}\n\t\t\t\t\t\tformatter={value => this.props.intl.formatNumber(intToCurrencyFormatter(value), {format: \"decimal\"})}\n\t\t\t\t\t\tparser={value => intToCurrencyParser(value, this.props.context.appService.settings.locale)}\n\t\t\t\t\t\taddonBefore={this.props.context.appService.settings.currency}\n\t\t\t\t\t/>\n\t\t\t\t</FlexCol>\n\t\t\t</FlexRow>\n\t\t</>;\n\t}\n};\n","import React, {Component} from \"react\";\nimport {inject, observer} from \"mobx-react\";\nimport {withRouter} from \"react-router-dom\";\nimport {equipmentRepairs} from \"../../configurations/navigation\";\nimport DefaultEditPage from \"../shared/crud/DefaultEdit\";\nimport DefaultForm from \"../shared/crud/DefaultForm\";\nimport EquipmentRepairFormFields, {equipmentRepairValidation} from \"./FormFields\";\nimport {FormattedMessage} from \"react-intl\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\n\nexport default\n@inject(\"equipmentRepairService\")\n@withRouter\n@observer\nclass EquipmentRepairEditPage extends Component {\n\trender() {\n\t\tconst namespace = \"equipmentRepairEditPage\";\n\t\tconst itemId = parseInt(this.props.match.params.equipmentRepairId, 10);\n\t\tconst {equipmentRepairService} = this.props;\n\t\tlet record = equipmentRepairService.item[namespace];\n\n\t\tlet initialValues = {};\n\t\tlet titleParams = {};\n\n\t\tif (record) {\n\t\t\tinitialValues = {\n\t\t\t\tdescription: record.description,\n\t\t\t\tdate: record.date,\n\t\t\t\tcost: record.cost,\n\t\t\t};\n\n\t\t\ttitleParams = {\n\t\t\t\tname: record.description\n\t\t\t};\n\t\t}\n\n\t\treturn <DefaultEditPage\n\t\t\tcrudService={equipmentRepairService}\n\t\t\ttitleId=\"components.equipmentRepairs.edit.title\"\n\t\t\ttitleParams={titleParams}\n\t\t\titemId={itemId}\n\t\t\tcrumbs={[equipmentRepairs]}\n\t\t\tnamespace={namespace}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.equipmentRepairs.edit\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.equipmentRepairs.edit\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<DefaultForm\n\t\t\t\tcrudService={equipmentRepairService}\n\t\t\t\tnavConfig={equipmentRepairs}\n\t\t\t\titemId={itemId}\n\t\t\t\tnamespace={namespace}\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={equipmentRepairValidation}>\n\t\t\t\t<EquipmentRepairFormFields/>\n\t\t\t</DefaultForm>\n\t\t</DefaultEditPage>;\n\t}\n}\n","import React, {Component} from \"react\";\nimport {inject, observer} from \"mobx-react\";\nimport DefaultCreatePage from \"../shared/crud/DefaultCreate\";\nimport {equipmentRepairs} from \"../../configurations/navigation\";\nimport DefaultForm from \"../shared/crud/DefaultForm\";\nimport EquipmentRepairFormFields, {equipmentRepairValidation} from \"./FormFields\";\nimport {FormattedMessage} from \"react-intl\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\n\nexport default\n@inject(\"equipmentRepairService\")\n@observer\nclass EquipmentRepairCreatePage extends Component {\n\trender() {\n\t\tconst namespace = \"equipmentRepairCreatePage\";\n\t\tconst {equipmentRepairService} = this.props;\n\n\t\treturn <DefaultCreatePage\n\t\t\tcrudService={equipmentRepairService}\n\t\t\ttitleId=\"components.equipmentRepairs.create.title\"\n\t\t\tcrumbs={[equipmentRepairs]}\n\t\t\tnamespace={namespace}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.equipmentRepairs.create\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.equipmentRepairs.create\" values={formattingFunctions} />\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions} />\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions} />\n\t\t\t</PageTutorial>\n\t\t\t<DefaultForm\n\t\t\t\tcrudService={equipmentRepairService}\n\t\t\t\tnavConfig={equipmentRepairs}\n\t\t\t\tnamespace={namespace}\n\t\t\t\tinitialValues={{}}\n\t\t\t\tvalidationSchema={equipmentRepairValidation}>\n\t\t\t\t<EquipmentRepairFormFields/>\n\t\t\t</DefaultForm>\n\t\t</DefaultCreatePage>;\n\t}\n}\n","import {inject} from \"mobx-react\";\nimport React, {Component} from \"react\";\nimport {equipmentRepairs} from \"../../configurations/navigation\";\nimport {FormattedDate, FormattedMessage, FormattedNumber} from \"react-intl\";\nimport DefaultListPage from \"../shared/crud/DefaultList\";\nimport DefaultTable from \"../shared/crud/DefaultTable\";\nimport {formattingFunctions} from \"../../base/localizations\";\nimport PageTutorial from \"../../base/components/tutorials/PageTutorial\";\nimport {defaultDateFormat} from \"../../base/configurations/formats\";\nimport {intToCurrencyFormatter} from \"../../base/utilities\";\n\nexport default\n@inject(\"equipmentRepairService\", \"context\")\nclass EquipmentRepairListPage extends Component {\n\trender() {\n\t\tconst namespace = \"equipmentRepairListPage\";\n\t\tconst service = this.props.equipmentRepairService;\n\t\tconst titleId = \"components.equipmentRepairs.list.title\";\n\t\tconst searchFields = [\n\t\t\t\"description\",\n\t\t\t\"date\",\n\t\t\t\"cost\",\n\t\t];\n\t\tconst currency = this.props.context.appService.settings.currency;\n\t\tconst columns = [\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.equipmentRepairs.description\"/>,\n\t\t\t\tdataIndex: \"description\",\n\t\t\t\tsorter: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.equipmentRepairs.date\"/>,\n\t\t\t\tdataIndex: \"date\",\n\t\t\t\tsorter: true,\n\t\t\t\trender: (value, record) => <FormattedDate value={new Date(value)} {...defaultDateFormat}/>\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: () => <FormattedMessage id=\"components.equipmentRepairs.cost\"/>,\n\t\t\t\tdataIndex: \"cost\",\n\t\t\t\tsorter: true,\n\t\t\t\trender: (value, record) => <FormattedNumber value={intToCurrencyFormatter(value)} format={currency}/>\n\t\t\t},\n\t\t];\n\n\t\treturn <DefaultListPage\n\t\t\ttitleId={titleId}\n\t\t>\n\t\t\t<PageTutorial namespace={namespace} titleId=\"tutorials.titles.equipmentRepairs.list\">\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.equipmentRepairs.list\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.listPage\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.submitAndResetButtons\" values={formattingFunctions}/>\n\t\t\t\t<FormattedMessage id=\"tutorials.texts.navigateSidebarMenu\" values={formattingFunctions}/>\n\t\t\t</PageTutorial>\n\t\t\t<DefaultTable\n\t\t\t\tnamespace={namespace}\n\t\t\t\tnavConfig={equipmentRepairs}\n\t\t\t\tcrudService={service}\n\t\t\t\tcolumns={columns}\n\t\t\t\tsearchFields={searchFields}\n\t\t\t/>\n\t\t</DefaultListPage>;\n\t}\n}\n","import React from \"react\";\nimport {Spin} from \"antd\";\n\nconst LoadingPageNoMessage = (props) => {\n\treturn <div className=\"v-h-centered-container\">\n\t\t<Spin spinning={true} size=\"large\" {...props}/>\n\t</div>\n};\n\nexport default LoadingPageNoMessage;\n","import React, {Component} from 'react';\nimport {BrowserRouter, Redirect, Route, Switch} from 'react-router-dom';\nimport {observer, Provider} from \"mobx-react\";\nimport {companyDetails, counterparties, dashboard, defaultUrl, equipmentRepairs, invoiceLines, invoices, login, logout, navigation, users} from \"../configurations/navigation\";\nimport PrivateRoute from \"../base/components/auth/PrivateRoute\";\nimport {injectIntl, IntlProvider} from \"react-intl\";\nimport {Helmet, HelmetProvider} from 'react-helmet-async';\nimport {appTranslations} from \"../localizations\";\nimport CounterpartyEditPage from \"./counterparties/EditPage\";\nimport CounterpartyCreatePage from \"./counterparties/CreatePage\";\nimport MenusLayout from \"./shared/MenusLayout\";\nimport CounterpartyListPage from \"./counterparties/ListPage\";\nimport {ConfigProvider} from \"antd\";\nimport InvoiceListPage from \"./invoices/ListPage\";\nimport InvoiceCreatePage from \"./invoices/CreatePage\";\nimport InvoiceEditPage from \"./invoices/EditPage\";\nimport DashboardPage from \"./Dashboard\";\nimport InvoiceLineEditPage from \"./invoice-lines/EditPage\";\nimport InvoiceLineCreatePage from \"./invoice-lines/CreatePage\";\nimport InvoiceLineListPage from \"./invoice-lines/ListPage\";\nimport {antdLocales, intlFormats} from \"../base/localizations\";\nimport InvoicePreviewPage from \"./invoices/InvoicePreviewPage\";\nimport CompanyDetailsEditPage from \"./company-details/EditPage\";\nimport LogoutPage from \"../base/components/auth/Logout\";\nimport LoginPage from \"./auth/LoginPage\";\nimport UserEditPage from \"./users/EditPage\";\nimport UserCreatePage from \"./users/CreatePage\";\nimport UserListPage from \"./users/ListPage\";\nimport EquipmentRepairEditPage from \"./equipment-repairs/EditPage\";\nimport EquipmentRepairCreatePage from \"./equipment-repairs/CreatePage\";\nimport EquipmentRepairListPage from \"./equipment-repairs/ListPage\";\nimport {isNil} from \"lodash\";\nimport LoadingPageNoMessage from \"../base/components/data-display/LoadingPageNoMessage\";\n\n@injectIntl\n@observer\nclass ObservingIntlApplication extends Component {\n\trender() {\n\t\tconst {context} = this.props;\n\n\t\treturn <ConfigProvider locale={antdLocales[context.appService.settings.locale]}>\n\t\t\t<HelmetProvider>\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>{this.props.intl.formatMessage({id: \"application.meta.title\"})}</title>\n\t\t\t\t</Helmet>\n\t\t\t\t<BrowserRouter>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path={login.href} component={LoginPage}/>\n\t\t\t\t\t\t<PrivateRoute exact path={logout.href} component={LogoutPage}/>\n\t\t\t\t\t\t<PrivateRoute exact path=\"/\" component={Redirect} to={defaultUrl.href}/>\n\n\t\t\t\t\t\t<PrivateRoute exact path={`${dashboard.href}`} component={DashboardPage} authenticatedLayout={MenusLayout}/>\n\n\t\t\t\t\t\t<PrivateRoute exact path={`${invoices.href}/:invoiceId([0-9]+)`} component={InvoiceEditPage} authenticatedLayout={MenusLayout}/>\n\t\t\t\t\t\t<PrivateRoute exact path={`${invoices.href}/create`} component={InvoiceCreatePage} authenticatedLayout={MenusLayout}/>\n\t\t\t\t\t\t<PrivateRoute exact path={`${invoices.href}`} component={InvoiceListPage} authenticatedLayout={MenusLayout}/>\n\t\t\t\t\t\t<PrivateRoute exact path={`${invoices.href}/:invoiceId([0-9]+)/preview`} component={InvoicePreviewPage} authenticatedLayout={MenusLayout}/>\n\n\t\t\t\t\t\t<PrivateRoute exact\n\t\t\t\t\t\t\t\t\t  path={`${invoiceLines.href.replace(\"{firstLevelParentId}\", \":invoiceId([0-9]+)\")}/:invoiceLineId([0-9]+)`}\n\t\t\t\t\t\t\t\t\t  component={InvoiceLineEditPage}\n\t\t\t\t\t\t\t\t\t  authenticatedLayout={MenusLayout}/>\n\t\t\t\t\t\t<PrivateRoute exact\n\t\t\t\t\t\t\t\t\t  path={`${invoiceLines.href.replace(\"{firstLevelParentId}\", \":invoiceId([0-9]+)\")}/create`}\n\t\t\t\t\t\t\t\t\t  component={InvoiceLineCreatePage}\n\t\t\t\t\t\t\t\t\t  authenticatedLayout={MenusLayout}/>\n\t\t\t\t\t\t<PrivateRoute exact\n\t\t\t\t\t\t\t\t\t  path={`${invoiceLines.href.replace(\"{firstLevelParentId}\", \":invoiceId([0-9]+)\")}`}\n\t\t\t\t\t\t\t\t\t  component={InvoiceLineListPage}\n\t\t\t\t\t\t\t\t\t  authenticatedLayout={MenusLayout}/>\n\n\t\t\t\t\t\t<PrivateRoute exact path={`${counterparties.href}/:counterpartyId([0-9]+)`} component={CounterpartyEditPage} authenticatedLayout={MenusLayout}/>\n\t\t\t\t\t\t<PrivateRoute exact path={`${counterparties.href}/create`} component={CounterpartyCreatePage} authenticatedLayout={MenusLayout}/>\n\t\t\t\t\t\t<PrivateRoute exact path={`${counterparties.href}`} component={CounterpartyListPage} authenticatedLayout={MenusLayout}/>\n\n\t\t\t\t\t\t<PrivateRoute exact path={`${equipmentRepairs.href}/:equipmentRepairId([0-9]+)`} component={EquipmentRepairEditPage} authenticatedLayout={MenusLayout}/>\n\t\t\t\t\t\t<PrivateRoute exact path={`${equipmentRepairs.href}/create`} component={EquipmentRepairCreatePage} authenticatedLayout={MenusLayout}/>\n\t\t\t\t\t\t<PrivateRoute exact path={`${equipmentRepairs.href}`} component={EquipmentRepairListPage} authenticatedLayout={MenusLayout}/>\n\n\t\t\t\t\t\t<PrivateRoute exact path={`${users.href}/:userId([0-9]+)`} component={UserEditPage} authenticatedLayout={MenusLayout}/>\n\t\t\t\t\t\t<PrivateRoute exact path={`${users.href}/create`} component={UserCreatePage} authenticatedLayout={MenusLayout}/>\n\t\t\t\t\t\t<PrivateRoute exact path={`${users.href}`} component={UserListPage} authenticatedLayout={MenusLayout}/>\n\n\t\t\t\t\t\t<PrivateRoute exact path={`${companyDetails.href}`} component={CompanyDetailsEditPage} authenticatedLayout={MenusLayout}/>\n\t\t\t\t\t</Switch>\n\t\t\t\t</BrowserRouter>\n\t\t\t</HelmetProvider>\n\t\t</ConfigProvider>;\n\t}\n}\n\n@observer\nclass ObservingApplication extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tprops.context.appService.setSidebarMenuItems(navigation);\n\t}\n\n\trender() {\n\t\tconst {context} = this.props;\n\n\t\tif (isNil(context.appService.settings) || isNil(context.appService.settings.locale)) {\n\t\t\treturn <LoadingPageNoMessage/>;\n\t\t}\n\n\t\treturn <IntlProvider\n\t\t\tkey={context.appService.settings.locale}\n\t\t\tlocale={context.appService.settings.locale}\n\t\t\tmessages={appTranslations[context.appService.settings.locale]}\n\t\t\tformats={intlFormats}\n\t\t>\n\t\t\t<ObservingIntlApplication context={context}/>\n\t\t</IntlProvider>;\n\t}\n}\n\nclass Application extends Component {\n\trender() {\n\t\tconst {context} = this.props;\n\n\t\treturn <Provider context={context} {...(context.services)}>\n\t\t\t<ObservingApplication context={context}/>\n\t\t</Provider>;\n\t}\n\n\tcomponentDidCatch(error, errorInfo) {\n\t\tconsole.log(error, errorInfo);\n\t}\n}\n\nexport default Application;\n","/**\n * Class for extended support for HTTP errors.\n */\nexport default class HTTPError extends Error {\n\n\tname;\n\tresponse;\n\tstatus;\n\n\tconstructor(response) {\n\t\tsuper(response.statusText);\n\t\tthis.name = 'HTTPError';\n\t\tthis.response = response;\n\t\tthis.status = response.status;\n\t}\n\n\t/**\n\t * Usually thrown when user is not logged in.\n\t * @returns {boolean}\n\t */\n\tget isUnauthorized() {\n\t\treturn this.status === 401 || this.status === 400;\n\t};\n\n\t/**\n\t * Usually thrown when user has insufficient permissions.\n\t * @returns {boolean}\n\t */\n\tget isForbidden() {\n\t\treturn this.status === 403;\n\t}\n}\n","import {isEmpty, isPlainObject, isString, merge} from \"lodash\";\nimport HTTPError from \"../errors/HTTPError\";\nimport BaseService from \"./BaseService\";\nimport {action, computed, observable, toJS} from \"mobx\";\nimport ApplicationError from \"../errors/ApplicationError\";\n\nexport default class DefaultApplicationService extends BaseService {\n\t/**\n\t * Base url of the backend API this web application works with.\n\t */\n\tapiBaseUrl;\n\n\t/**\n\t * Client name for this web application.\n\t */\n\tappClientId;\n\n\t/**\n\t * Url to get oAuth tokens from.\n\t * @type {string}\n\t */\n\toAuthTokenUrl = \"/oauth/token\";\n\n\t/**\n\t * WHO AM I?!\n\t * @type {string}\n\t */\n\twhoAmIUrl = \"/api/users/whoami\";\n\n\t/**\n\t * URL used to update the current user profile.\n\t * @type {string}\n\t */\n\tupdateUserProfileUrl = \"/api/users\";\n\n\t/**\n\t * Current PERSISTED app settings.\n\t * @type {{}}\n\t */\n\t@observable\n\tsettings = {};\n\n\t/**\n\t * OAuth data, most importantly access_token\n\t * @type {{}}\n\t */\n\t@observable\n\toAuthData;\n\n\t/**\n\t * Currently logged in user.\n\t * @type {{}}\n\t */\n\t@observable\n\tuserProfile = {};\n\n\t/**\n\t * Menu items in the sidebar of the application.\n\t * @type {Array}\n\t */\n\t@observable\n\tsidebarMenuItems = [];\n\n\tconstructor({apiBaseUrl, appClientId, defaultLocale, defaultCurrency}) {\n\t\tsuper();\n\n\t\tthis.apiBaseUrl = apiBaseUrl;\n\t\tthis.appClientId = appClientId;\n\t\tthis.settings.locale = defaultLocale;\n\t\tthis.settings.currency = defaultCurrency;\n\t}\n\n\t/**\n\t * @Override\n\t */\n\tinit = async () => {\n\t\tthis.loading(\"application:initialization\");\n\n\t\ttry {\n\t\t\tconst savedSettings = await this.context.localStorageService.load(\"settings\");\n\t\t\tthis.setSettings(savedSettings);\n\n\t\t\tconst savedOAuthData = await this.context.localStorageService.load(\"oAuthData\");\n\n\t\t\ttry {\n\t\t\t\tif (isEmpty(savedOAuthData)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.setOAuthData(savedOAuthData);\n\t\t\t\tawait this.whoAmI();\n\t\t\t} catch (e) {\n\t\t\t\tif (!e.isUnauthorized) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t} finally {\n\t\t\tthis.loaded(\"application:initialization\");\n\t\t}\n\t};\n\n\t/**\n\t * Change a setting and save it to local storage.\n\t * @param key\n\t * @param value\n\t */\n\tchangeSetting = (key, value) => {\n\t\tthis.setSetting(key, value);\n\n\t\tthis.context.localStorageService.save(\"settings\", toJS(this.settings));\n\t};\n\n\tsetSettings = (settings) => {\n\t\tif (isPlainObject(settings) && !isEmpty(settings)) {\n\t\t\tObject.keys(settings).forEach(k => {\n\t\t\t\tthis.setSetting(k, settings[k]);\n\t\t\t});\n\t\t}\n\t};\n\n\t@action\n\tsetSetting = (k, v) => {\n\t\tthis.settings[k] = v;\n\t};\n\n\t@action\n\tsetUserProfile = (userProfile) => {\n\t\tthis.userProfile = userProfile;\n\t};\n\n\t@action\n\tsetOAuthData = (oAuthData) => {\n\t\tthis.oAuthData = oAuthData;\n\t};\n\n\t@action\n\tsetSidebarMenuItems = (sidebarMenuItems) => {\n\t\tthis.sidebarMenuItems = sidebarMenuItems;\n\t};\n\n\t@computed\n\tget hasToken() {\n\t\tif (!this.oAuthData) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn Object.entries(this.oAuthData).length > 0;\n\t}\n\n\t@computed\n\tget hasUserProfile() {\n\t\tif (!this.userProfile) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn Object.entries(this.userProfile).length > 0;\n\t}\n\n\t@computed\n\tget isAuthenticated() {\n\t\treturn this.hasToken && this.hasUserProfile;\n\t}\n\n\t/**\n\t * Exchanges credentials for access_token.\n\t * @param username\n\t * @param password\n\t * @returns {Promise<void>}\n\t */\n\tlogin = async (username, password) => {\n\t\tthis.loading(\"application:user:login\");\n\n\t\ttry {\n\t\t\tlet body = new URLSearchParams();\n\t\t\tbody.set(\"grant_type\", \"password\");\n\t\t\tbody.set(\"username\", username);\n\t\t\tbody.set(\"password\", password);\n\t\t\tbody.set(\"client_id\", this.appClientId);\n\n\t\t\tconst oAuthData = await (await this.fetchResource(this.oAuthTokenUrl, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody\n\t\t\t})).json();\n\n\t\t\tif (!isString(oAuthData.access_token) || oAuthData.access_token.length < 1) {\n\t\t\t\tthrow new ApplicationError(\"errors.oauth.invalidResponse\");\n\t\t\t}\n\t\t\tthis.setOAuthData(oAuthData);\n\t\t\tthis.whoAmI();\n\t\t\tthis.context.localStorageService.save(\"oAuthData\", toJS(this.oAuthData));\n\t\t} finally {\n\t\t\tthis.loaded(\"application:user:login\");\n\t\t}\n\t};\n\n\t/**\n\t * Loads the user profile.\n\t * @returns {Promise<void>}\n\t */\n\twhoAmI = async () => {\n\t\tthis.loading(\"application:user:whoAmI\");\n\n\t\ttry {\n\t\t\tconst userProfile = await (await this.fetchProtectedResource(this.whoAmIUrl)).json();\n\n\t\t\tthis.setUserProfile(userProfile);\n\t\t} finally {\n\t\t\tthis.loaded(\"application:user:whoAmI\");\n\t\t}\n\t};\n\n\tupdateUserProfile = async (values) => {\n\t\tthis.loading(\"updateUserProfile\");\n\n\t\ttry {\n\t\t\tconst url = `${this.updateUserProfileUrl}/${this.userProfile.id}`;\n\n\t\t\tconst response = await this.fetchProtectedResource(url, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\tbody: merge({}, this.userProfile, values)\n\t\t\t});\n\n\t\t\tconst userProfile = await response.json();\n\t\t\tthis.setUserProfile(userProfile);\n\t\t} finally {\n\t\t\tthis.loaded(\"updateUserProfile\");\n\t\t}\n\t};\n\n\t/**\n\t * Destroys the current session.\n\t */\n\tlogout = () => {\n\t\tthis.setOAuthData({});\n\t\tthis.setUserProfile({});\n\t\tthis.context.localStorageService.save(\"oAuthData\", toJS(this.oAuthData));\n\t};\n\n\t/**\n\t * Performs fetch on an external resource and checks status.\n\t * @param url\n\t * @param opts\n\t * @returns {Promise<Response>}\n\t */\n\tfetchExternalResource = async (url, opts = {}) => {\n\n\t\tif (isPlainObject(opts.body)) {\n\t\t\tif (!opts.headers) {\n\t\t\t\topts.headers = {};\n\t\t\t}\n\n\t\t\tif (!opts.headers[\"Content-Type\"]) {\n\t\t\t\topts.headers[\"Content-Type\"] = \"application/json;charset=utf-8\";\n\t\t\t}\n\n\t\t\topts.body = JSON.stringify(opts.body);\n\t\t}\n\n\t\topts.mode = 'cors';\n\n\t\tconst result = await fetch(url, opts);\n\n\t\tif (result.ok) {\n\t\t\treturn result;\n\t\t} else {\n\t\t\tthrow new HTTPError(result);\n\t\t}\n\t};\n\n\t/**\n\t * Performs fetch on local resource.\n\t * @param url\n\t * @param opts\n\t * @returns {Promise<Response>}\n\t */\n\tfetchResource = (url, opts = {}) => {\n\t\treturn this.fetchExternalResource(`${this.apiBaseUrl}${url}`, opts);\n\t};\n\n\t/**\n\t * Performs authenticated fetch on local resource.\n\t * @param url\n\t * @param opts\n\t * @returns {Promise<Response>}\n\t */\n\tfetchProtectedResource = async (url, opts = {}) => {\n\t\tif (!opts.headers) {\n\t\t\topts.headers = {};\n\t\t}\n\n\t\tif (!opts.headers[\"Authorization\"] && this.hasToken) {\n\t\t\topts.headers[\"Authorization\"] = `Bearer ${this.oAuthData.access_token}`;\n\t\t}\n\n\t\ttry {\n\t\t\treturn await this.fetchResource(url, opts);\n\t\t} catch (e) {\n\t\t\tif (e.isUnauthorized) {\n\t\t\t\tconsole.log(\"Unauthorized, probably token has expired, redirecting to login page...\");\n\t\t\t\tthis.logout();\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t};\n}\n","import localforage from \"localforage\";\nimport BaseService from \"./BaseService\";\nimport {merge} from \"lodash\";\n\n/**\n * Service for saving data to client's local storage.\n */\nclass DefaultLocalStorageService extends BaseService {\n\n\t/**\n\t * Loads session from browser storage.\n\t * @returns {Promise<void>}\n\t */\n\tload = async (sessionKey) => {\n\t\tthis.loading(`localStorage:load:${sessionKey}`);\n\n\t\tconst sessionData = await localforage.getItem(sessionKey);\n\n\t\tthis.loaded(`localStorage:load:${sessionKey}`);\n\t\treturn sessionData;\n\t};\n\n\t/**\n\t * Saves session to browser storage.\n\t * @returns {Promise<void>}\n\t */\n\tsave = async (sessionKey, data) => {\n\t\tthis.loading(`localStorage:save:${sessionKey}`);\n\n\t\tconst result = await localforage.setItem(sessionKey, data);\n\n\t\tthis.loaded(`localStorage:save:${sessionKey}`);\n\n\t\treturn result;\n\t};\n\n\t/**\n\t * Saves session to browser storage.\n\t * @returns {Promise<void>}\n\t */\n\tupdate = async (sessionKey, data) => {\n\t\tthis.loading(`localStorage:update:${sessionKey}`);\n\n\t\tconst sessionData = await localforage.getItem(sessionKey);\n\t\tconst result = await localforage.setItem(sessionKey, merge({}, sessionData, data));\n\n\t\tthis.loaded(`localStorage:update:${sessionKey}`);\n\n\t\treturn result;\n\t};\n\n\t/**\n\t * Delete value from browser storage.\n\t * @param key\n\t * @returns {Promise<void>}\n\t */\n\tdelete = async (key) => {\n\t\tthis.loading(`localStorage:delete:${key}`);\n\n\t\tconst result = await localforage.removeItem(key);\n\n\t\tthis.loaded(`localStorage:delete:${key}`);\n\n\t\treturn result;\n\t};\n\n\t/**\n\t * Return all keys from browser storage.\n\t */\n\tkeys = async () => {\n\t\tthis.loading(`localStorage:keys`);\n\n\t\tconst result = await localforage.keys();\n\n\t\tthis.loaded(`localStorage:keys`);\n\n\t\treturn result;\n\t};\n\n\t/**\n\t * Iterate over all values in browser storage.\n\t */\n\titerate = (iteratorCallback) => {\n\t\treturn localforage.iterate(iteratorCallback);\n\t};\n}\n\nexport default DefaultLocalStorageService;\n","import {action, observable} from \"mobx\";\nimport BaseService from \"./BaseService\";\n\n/**\n * Generic service capable of handling all CRUD operations. Extend if needed.\n */\nexport default class DefaultUiService extends BaseService {\n\n\t/**\n\t * Global properties for all modals. Grouped by namespace -> modal name.\n\t * @type {{}}\n\t */\n\t@observable\n\tmodals = {};\n\n\t@action\n\tsetModal = (namespace, modalName, modal) => {\n\t\tif (!this.modals[namespace]) {\n\t\t\tthis.modals[namespace] = {};\n\t\t}\n\n\t\tthis.modals[namespace][modalName] = {...modal};\n\t};\n}\n","import {computed} from \"mobx\";\nimport {camelCase} from \"lodash\";\nimport DefaultApplicationService from \"./DefaultApplicationService\";\nimport DefaultLocalStorageService from \"./DefaultLocalStorageService\";\nimport DefaultUiService from \"./DefaultUiService\";\n\n/**\n * Default application context containing all shared global state. It enables different services to access one another.\n */\nclass DefaultApplicationContext {\n\n\t/**\n\t * All application services reside here.\n\t * @type {{}}\n\t */\n\tservices = {};\n\n\t/**\n\t * Name of the service containing application data like API URLs, authentication tokens, etc.\n\t */\n\tapplicationServiceName;\n\n\t/**\n\t * Name of the local storage service used to save data locally.\n\t */\n\tlocalStorageServiceName;\n\n\t/**\n\t * Name of the UI service used to manage data for UI components like modals.\n\t */\n\tuiServiceName;\n\n\tconstructor(services) {\n\t\tservices.filter(s => !!s).forEach(service => {\n\t\t\tconst name = camelCase(service.constructor.name);\n\t\t\tservice.setContext(this);\n\t\t\tthis.services[name] = service;\n\n\t\t\tif (service instanceof DefaultApplicationService) {\n\t\t\t\tthis.applicationServiceName = camelCase(service.constructor.name);\n\t\t\t}\n\n\t\t\tif (service instanceof DefaultLocalStorageService) {\n\t\t\t\tthis.localStorageServiceName = camelCase(service.constructor.name);\n\t\t\t}\n\n\t\t\tif (service instanceof DefaultUiService) {\n\t\t\t\tthis.uiServiceName = camelCase(service.constructor.name);\n\t\t\t}\n\t\t});\n\n\t\tObject.values(this.services).forEach(service => {\n\t\t\tservice.init();\n\t\t});\n\t}\n\n\t/**\n\t * Shortcut to the Application Service.\n\t */\n\t@computed\n\tget appService() {\n\t\treturn this.services[this.applicationServiceName];\n\t}\n\n\t/**\n\t * Shortcut to the Local Storage Service.\n\t */\n\t@computed\n\tget localStorageService() {\n\t\treturn this.services[this.localStorageServiceName];\n\t}\n\n\t/**\n\t * Shortcut to the UI Service.\n\t */\n\t@computed\n\tget uiService() {\n\t\treturn this.services[this.uiServiceName];\n\t}\n}\n\nexport default DefaultApplicationContext;\n","import LocalStorageCrudService from \"../base/services/LocalStorageCrudService\";\n\nexport default class InvoiceService extends LocalStorageCrudService {\n\t/**\n\t * @Override\n\t */\n\tconstructor() {\n\t\tsuper({resourceUrl: \"/api/invoices\"});\n\t}\n}\n","import LocalStorageCrudService from \"../base/services/LocalStorageCrudService\";\n\nexport default class InvoiceLineService extends LocalStorageCrudService {\n\n\t/**\n\t * @Override\n\t */\n\tconstructor() {\n\t\tsuper({resourceUrl: \"/api/invoice-lines\"});\n\t}\n}\n","import LocalStorageCrudService from \"../base/services/LocalStorageCrudService\";\n\nexport default class CompanyService extends LocalStorageCrudService {\n\t/**\n\t * @Override\n\t */\n\tconstructor() {\n\t\tsuper({resourceUrl: \"/api/companies\"});\n\t}\n}\n","import {isPlainObject, merge, startsWith, trim} from \"lodash\";\nimport HTTPError from \"../errors/HTTPError\";\nimport {toJS} from \"mobx\";\nimport ApplicationError from \"../errors/ApplicationError\";\nimport DefaultApplicationService from \"./DefaultApplicationService\";\n\nexport default class LocalStorageApplicationService extends DefaultApplicationService {\n\n\t/**\n\t * Exchanges credentials for access_token.\n\t * @param username\n\t * @param password\n\t * @returns {Promise<void>}\n\t */\n\tlogin = async (username, password) => {\n\t\tthis.loading(\"application:user:login\");\n\n\t\ttry {\n\t\t\tawait this.context.localStorageService.iterate((value, key) => {\n\t\t\t\tif (!startsWith(key, \"api.users\")) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (value.username === username && value.password === password) {\n\t\t\t\t\tthis.setOAuthData({\n\t\t\t\t\t\taccess_token: `${value.username}:${value.password}`\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tawait this.whoAmI();\n\t\t\tthis.context.localStorageService.save(\"oAuthData\", toJS(this.oAuthData));\n\t\t} finally {\n\t\t\tthis.loaded(\"application:user:login\");\n\t\t}\n\t};\n\n\t/**\n\t * Loads the user profile.\n\t * @returns {Promise<void>}\n\t */\n\twhoAmI = async () => {\n\t\tthis.loading(\"application:user:whoAmI\");\n\n\t\ttry {\n\t\t\tif (!this.hasToken) {\n\t\t\t\tthrow new HTTPError({status: 400});\n\t\t\t}\n\n\t\t\tconst [username, password] = this.oAuthData.access_token.split(\":\");\n\t\t\tlet user = null;\n\n\t\t\tawait this.context.localStorageService.iterate((value) => {\n\t\t\t\tif (value.username === username && value.password === password) {\n\t\t\t\t\tuser = value;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (user) {\n\t\t\t\tconst {password, ...profile} = user;\n\n\t\t\t\tthis.setUserProfile(profile);\n\t\t\t} else {\n\t\t\t\tthis.logout();\n\t\t\t}\n\t\t} finally {\n\t\t\tthis.loaded(\"application:user:whoAmI\");\n\t\t}\n\t};\n\n\tupdateUserProfile = async (values) => {\n\t\tthis.loading(\"updateUserProfile\");\n\n\t\ttry {\n\t\t\tconst path = `${trim(this.updateUserProfileUrl.replace(/\\//g, \".\"), \".\")}.${this.userProfile.id}`;\n\n\t\t\tconst newUserProfile = merge({}, this.userProfile, values);\n\t\t\tawait this.context.localStorageService.update(path, newUserProfile);\n\n\t\t\tthis.setUserProfile(newUserProfile);\n\t\t} finally {\n\t\t\tthis.loaded(\"updateUserProfile\");\n\t\t}\n\t};\n\n\t/**\n\t * Performs fetch on an external resource and checks status.\n\t * @param url\n\t * @param opts\n\t * @returns {Promise<Response>}\n\t */\n\tfetchExternalResource = async (url, opts = {}) => {\n\t\tif (isPlainObject(opts.body)) {\n\t\t\tif (!opts.headers) {\n\t\t\t\topts.headers = {};\n\t\t\t}\n\n\t\t\tif (!opts.headers[\"Content-Type\"]) {\n\t\t\t\topts.headers[\"Content-Type\"] = \"application/json;charset=utf-8\";\n\t\t\t}\n\n\t\t\topts.body = JSON.stringify(opts.body);\n\t\t}\n\n\t\topts.mode = 'cors';\n\n\t\tconst result = await fetch(url, opts);\n\n\t\tif (result.ok) {\n\t\t\treturn result;\n\t\t} else {\n\t\t\tthrow new HTTPError(result);\n\t\t}\n\t};\n\n\t/**\n\t * Performs fetch on local resource.\n\t * @param url\n\t * @param opts\n\t * @returns {Promise<Response>}\n\t */\n\tfetchResource = (url, opts = {}) => {\n\t\tthrow new ApplicationError(\"errors.unsupportedMethod\");\n\t};\n\n\t/**\n\t * Performs authenticated fetch on local resource.\n\t * @param url\n\t * @param opts\n\t * @returns {Promise<Response>}\n\t */\n\tfetchProtectedResource = async (url, opts = {}) => {\n\t\tthrow new ApplicationError(\"errors.unsupportedMethod\");\n\t};\n}\n","import LocalStorageCrudService from \"../base/services/LocalStorageCrudService\";\n\nexport default class UserService extends LocalStorageCrudService {\n\t/**\n\t * @Override\n\t */\n\tconstructor() {\n\t\tsuper({resourceUrl: \"/api/users\"});\n\t}\n}\n","import LocalStorageCrudService from \"../base/services/LocalStorageCrudService\";\n\nexport default class EquipmentRepairService extends LocalStorageCrudService {\n\t/**\n\t * @Override\n\t */\n\tconstructor() {\n\t\tsuper({resourceUrl: \"/api/equipment-repairs\"});\n\t}\n}\n","import React from 'react';\nimport {render} from 'react-dom';\n\nimport \"./base/assets/css/bootstrap.min.css\";\nimport \"./base/assets/css/antd-fixes.css\";\nimport \"./base/assets/css/base.css\";\n\nimport \"./base/configurations/local-forage\";\nimport \"./base/configurations/mobx\";\nimport \"./base/configurations/react-intl\";\n\nimport \"antd/es/form/style\";\n\nimport Application from \"./components/Application\";\nimport ApplicationContext from \"./services/ApplicationContext\";\n\nconst applicationContext = new ApplicationContext();\n\nrender(<Application context={applicationContext}/>, document.getElementById('root'));\n\n//TODO more components\n//TODO maybe make \"menu\" pages with big squares with images, that are links to functional pages. A lot like the metro interface.\n//TODO export 3rd party stuff to base package, e.g. shell components for antd, react-intl, etc. To be easier to swap out stuff.\n//TODO make something like index.js or init.js in base package that includes all 3rd party stuff and configs, e.g. antd css file, react-intl config, etc.\n","import DefaultApplicationContext from \"../base/services/DefaultApplicationContext\";\nimport InvoiceService from \"./InvoiceService\";\nimport CounterpartyService from \"./CounterpartyService\";\nimport InvoiceLineService from \"./InvoiceLineService\";\nimport DefaultLocalStorageService from \"../base/services/DefaultLocalStorageService\";\nimport CompanyService from \"./CompanyService\";\nimport LocalStorageApplicationService from \"../base/services/LocalStorageApplicationService\";\nimport DefaultUiService from \"../base/services/DefaultUiService\";\nimport UserService from \"./UserService\";\nimport EquipmentRepairService from \"./EquipmentRepairService\";\nimport {defaultCurrency, defaultLocale} from \"../localizations\";\n\nexport default class ApplicationContext extends DefaultApplicationContext {\n\tconstructor() {\n\t\tsuper([\n\t\t\tnew DefaultLocalStorageService(),\n\t\t\tnew LocalStorageApplicationService({\n\t\t\t\tapiBaseUrl: process.env.API_URL,\n\t\t\t\tappClientId: \"DigidWorksLime\",\n\t\t\t\tdefaultLocale: defaultLocale,\n\t\t\t\tdefaultCurrency: defaultCurrency,\n\t\t\t}),\n\t\t\tnew DefaultUiService(),\n\t\t\tnew InvoiceService(),\n\t\t\tnew CounterpartyService(),\n\t\t\tnew InvoiceLineService(),\n\t\t\tnew CompanyService(),\n\t\t\tnew EquipmentRepairService(),\n\t\t\tnew UserService(),\n\t\t]);\n\t}\n}\n"],"sourceRoot":""}